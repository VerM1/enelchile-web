angular.module("NotificacionesModule",["CoreModule","UtilsModule"]),angular.module("NotificacionesModule").controller("notificacionesCtrl",["$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$timeout","$rootScope","$ionicPlatform","urlService","NotificacionesFactory",function(e,t,a,n,o,i,r,s,l,d,c){function u(e,t){i.alert({title:e,template:t})}window.localStorage.setItem("lastPage","app.notificaciones"),l.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),n.show({template:"Cargando notificaciones..."});d.getUrl();if(e.fullData=[],e.suministros=[],e.userdata.suministros)for(var p=0;p<e.userdata.suministros.length;p++)e.suministros.push(e.userdata.suministros[p].items[0].suministro);var f="obtenerNotificaciones";c.getNotificaciones(f,e.userdata.contact,e.suministros).then(function(t){if(t.data.success){var a=t.data.data.length;console.log("Se han obtenido "+a+" Notificaciones"),e.nots="";for(var o=0;o<a;o++)e.fullData.push(t.data.data[o]);n.hide()}else console.log("No ha sido posible obtener Notificaciones"),n.hide(),u("Registro","No existen notificaciones.")}),e.showAlert=function(t){console.log("Index: "+t),console.log("FullData: "),console.log(e.fullData[t]),i.alert({title:e.fullData[t].Titulo,template:e.fullData[t].Descripcion})},window.ionic.Platform.ready(function(){})}]),angular.module("NotificacionesModule").controller("cortesprogramadosCtrl",["$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$timeout","$rootScope","swiperOpts","$ionicPlatform","urlService","NotificacionesFactory",function(e,t,a,n,o,i,r,s,l,d,c,u){if(window.localStorage.setItem("lastPage","app.cortesprogramados"),d.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.opts=l,a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),n.show({template:"Cargando notificaciones..."}),e.fullData=[],e.suministros=[],e.userdata.suministros)for(var p=0;p<e.userdata.suministros.length;p++)e.suministros.push(e.userdata.suministros[p].items[0].suministro),void 0==e.fullData[p]&&(e.fullData[p]={alias:e.userdata.suministros[p].items[0].alias,sumNombre:e.userdata.suministros[p].items[0].sumNumber,noInfo:"1",items:[]});var f="obtenerCortesProgramados";u.getNotificaciones(f,e.userdata.contact,e.suministros).then(function(t){if(t.data.success){var a=t.data.data.length;console.log("Se ha obtenido "+a+" Cortes Programados");for(var o=0;o<e.suministros.length;o++){e.nots="";for(var i=0;i<a;i++)t.data.data[i].sumId==e.suministros[o]&&(e.fullData[o].alias=t.data.data[i].alias,e.fullData[o].sumNombre=t.data.data[i].sumNombre,e.fullData[o].noInfo="0",e.fullData[o].items.push(t.data.data[i]))}n.hide()}else console.log("No ha sido posible obtener Cortes Programados"),n.hide()})}]),angular.module("NotificacionesModule").controller("cortesimprevistosCtrl",["$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$timeout","$rootScope","swiperOpts","$ionicPlatform","urlService","NotificacionesFactory",function(e,t,a,n,o,i,r,s,l,d,c,u){if(window.localStorage.setItem("lastPage","app.cortesimprevistos"),d.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.opts=l,a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),n.show({template:"Cargando notificaciones..."}),e.fullData=[],e.suministros=[],e.userdata.suministros)for(var p=0;p<e.userdata.suministros.length;p++)e.suministros.push(e.userdata.suministros[p].items[0].suministro),void 0==e.fullData[p]&&(e.fullData[p]={alias:e.userdata.suministros[p].items[0].alias,sumNombre:e.userdata.suministros[p].items[0].sumNumber,noInfo:"1",items:[]});var f="obtenerCortesImprevistos";u.getNotificaciones(f,e.userdata.contact,e.suministros).then(function(t){if(t.data.success){var a=t.data.data.length;console.log("Se han obtenido "+a+" Cortes Imprevistos");for(var o=0;o<e.suministros.length;o++){e.nots="";for(var i=0;i<a;i++)t.data.data[i].sumId==e.suministros[o]&&(e.fullData[o].alias=t.data.data[i].alias,e.fullData[o].sumNombre=t.data.data[i].sumNombre,e.fullData[o].noInfo="0",e.fullData[o].items.push(t.data.data[i]))}n.hide()}else console.log("No ha sido posible obtener Cortes Imprevistos"),n.hide()}),window.ionic.Platform.ready(function(){})}]),angular.module("MapasModule",["CoreModule","UtilsModule"]),angular.module("MapasModule").controller("puntosatencionmapaCtrl",["$ionicPlatform","$ionicPopup","$state","$scope","UserData","MapDataFactory","$ionicHistory","$cordovaGeolocation","$rootScope","$timeout",function(e,t,a,n,o,i,r,s,l,d){function c(e,t){for(var a=0;a<e.length;a++)e[a].setMap(t)}function u(e,t){var a=document.createElement("div");a.style.width="28px",a.style.height="27px",a.style.right="0",a.style.backgroundColor="#FFFFFF",a.style.cursor="pointer",a.style.marginRight="12px",a.title="Centrar Mapa",e.appendChild(a);var o=document.createElement("div");o.style.color="rgb(25,25,25)",o.style.lineHeight="21px",o.style.paddingLeft="5px",o.style.paddingRight="1px",o.style.marginBottom="-5px",o.innerHTML='<center><img src="img/borderdot21x21.png" /></center>',a.appendChild(o),a.addEventListener("click",function(){n.centerMarker.setPosition(n.lastPosition),n.map.setCenter(n.lastPosition)})}window.localStorage.setItem("lastPage","app.atencionMapa"),e.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(o=JSON.parse(window.localStorage.getItem("userData")),n.userdata=o):n.userdata=o,n.hideBurger=!1,n.mapdata=i,r.clearHistory(),r.nextViewOptions({disableBack:!0,historyRoot:!0}),n.setActive=function(e){c(n.mapdata.centros,null),c(n.mapdata.otros,null),1==e?(document.getElementById("centros").classList.add("mapActiveOne"),document.getElementById("puntos").classList.remove("mapActiveTwo"),document.getElementById("tambien").classList.remove("mapActiveThree"),c(n.mapdata.centros,n.map)):2==e?(document.getElementById("centros").classList.remove("mapActiveOne"),document.getElementById("puntos").classList.add("mapActiveTwo"),document.getElementById("tambien").classList.remove("mapActiveThree"),c(n.mapdata.centros,n.map),c(n.mapdata.otros,n.map)):3==e&&(document.getElementById("centros").classList.remove("mapActiveOne"),document.getElementById("puntos").classList.remove("mapActiveTwo"),document.getElementById("tambien").classList.add("mapActiveThree"),c(n.mapdata.centros,n.map),a.go("app.opcionesDePago"))};n.centrar=function(e,t){n.map.setCenter(new google.maps.LatLng(e,t))},e.ready(function(){navigator.geolocation.getCurrentPosition(function(e){n.gcod=new google.maps.Geocoder,n.lastPosition={lat:e.coords.latitude,lng:e.coords.longitude};var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),a={controls:{myLocationButton:!0},center:t,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};document.getElementById("map").innerHTML="",n.map=new google.maps.Map(document.getElementById("map"),a),n.centerMarker=new google.maps.Marker({position:n.lastPosition,map:n.map,optimized:!1,icon:"img/cpos.png"});var o=document.createElement("div");new u(o,n.map);o.index=1,n.map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(o),d(function(){n.setActive(1)},2e3)},function(e){console.log("No pudimos obtener su ubicacion")})}),n.searchAddress=function(){var e=document.getElementById("search_terms").value,a={address:e};n.gcod.geocode(a,function(e,a){if(a==google.maps.GeocoderStatus.OK)if(null!=e[0])n.centerMarker.setPosition(e[0].geometry.location),n.map.setCenter(e[0].geometry.location);else{t.alert({title:"Error",template:"Ubicaci&oacute;n no encontrada! "+a})}})},window.ionic.Platform.ready(function(){})}]),angular.module("MapasModule").controller("puntosatencionCtrl",["$state","$scope","UserData","MapDataFactory","$ionicHistory","$rootScope","$ionicPlatform",function(e,t,a,n,o,i,r){window.localStorage.setItem("lastPage","app.puntosatencion"),r.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(a=JSON.parse(window.localStorage.getItem("userData")),t.userdata=a):t.userdata=a,t.hideBurger=!1,t.mapdata=n,t.sucursalesLista=t.mapdata.sucursalesLista,o.clearHistory(),o.nextViewOptions({disableBack:!0,historyRoot:!0}),t.launchLink=function(a,n){if(console.log(t.mapdata.sucursales[n]),1==a){var o={imagen:t.mapdata.sucursales[n].imagen,titulo:t.mapdata.sucursales[n].titulo,tipo:t.mapdata.sucursales[n].tipo,detalle:t.mapdata.sucursales[n].detalle,horariocomercial:t.mapdata.sucursales[n].horariocomercial,horariopago:t.mapdata.sucursales[n].horariopago,horariocomunidades:t.mapdata.sucursales[n].horariocomunidades,lat:t.mapdata.sucursales[n].lat,lon:t.mapdata.sucursales[n].lon,nota:t.mapdata.sucursales[n].nota,lastpage:"app.puntosatencion"};e.go("app.descripcion",o,{reload:!0})}}}]),angular.module("MapasModule").controller("opcionesDePagoCtrl",["$scope","UserData","$ionicHistory","$rootScope","$ionicPlatform",function(e,t,a,n,o){window.localStorage.setItem("lastPage","app.opcionesDePago"),o.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("MapasModule").controller("mapOptionsModalCtrl",["$state","$scope","UserData","$ionicHistory",function(e,t,a,n){t.userdata=a,t.hideBurger=!1,n.clearHistory(),n.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("MapasModule").controller("descripcionpuntoCtrl",["$state","$scope","UserData","$ionicHistory","$stateParams","$ionicModal","$ionicPlatform","swiperOpts","$window","$rootScope",function(e,t,a,n,o,i,r,s,l,d){window.localStorage.setItem("lastPage","app.atencionMapa"),r.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(a=JSON.parse(window.localStorage.getItem("userData")),t.userdata=a):t.userdata=a,t.hideBurger=!1,n.clearHistory(),t.opts=s,r.ready(function(){console.log(o),t.titulo=o.titulo,t.detalle=o.detalle,t.lat=o.lat,t.lon=o.lon,t.lastPage=o.lastpage,t.tipo=void 0!=o.tipo&&o.tipo,t.nota=void 0!=o.nota&&o.nota,t.horariocomercial=void 0!=o.horariocomercial&&o.horariocomercial,t.horariopago=void 0!=o.horariopago&&o.horariopago,t.horariocomunidades=void 0!=o.horariocomunidades&&o.horariocomunidades,t.width=window.innerWidth-20,t.wWidth=l.innerWidth,t.imagen=void 0!=o.imagen&&""!=o.imagen?o.imagen:'<img src="img/unnamed.jpg" width="'+t.width+'"/>',t.imMapa="https://maps.googleapis.com/maps/api/staticmap?center="+o.lat+","+o.lon+"&zoom=18&size="+t.wWidth+"x300&maptype=roadmap&format=png&visual_refresh=true&markers=icon:https://edelnor.herokuapp.com/img/map-orange-21x32.png%7Cshadow:true%7C"+o.lat+","+o.lon+"&key=AIzaSyCj88A1NmC6Oi1IrQmyihBwslnbRzXKexc"}),i.fromTemplateUrl("views/Modals/mapOptionsModal.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.ventana=e}),t.goBack=function(){document.getElementById("imageMap").innerHTML="",e.go(t.lastPage,{},{reload:!0})},t.closeModal=function(){t.ventana.hide()},t.$on("$destroy",function(){t.ventana.remove()}),t.latitude="",t.longitude="",t.titlede="",t.lanzarApp=function(e,a,n){t.ventana.show(),t.latitude=e,t.longitude=a,t.titlede=n},t.openApp=function(e){var a=t.latitude+","+t.longitude,n="";n=ionic.Platform.isIOS()?1==e?"comgooglemaps://?q="+encodeURIComponent(t.titlede)+"&center="+a:"waze://?ll="+a+"&navigate=yes":ionic.Platform.isAndroid()?1==e?"geo:0,0?q="+a+"("+encodeURIComponent(t.titlede)+")":"waze://?ll="+a+"&navigate=yes":1==e?"comgooglemaps://?q="+encodeURIComponent(t.titlede)+"&center="+a:"waze://?ll="+a+"&navigate=yes",window.open(n,"_system","location=no")},window.ionic.Platform.ready(function(){})}]),angular.module("CoreModule",[]),angular.module("CoreModule").controller("tutorialCtrl",["$scope","UserData","$ionicHistory","$ionicPlatform",function(e,t,a,n){a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),n.ready(function(){console.log("showing menu");var e=document.getElementById("nlBurger");e.style="display: none !important"}),window.localStorage.setItem("isLogged",!1),e.userdata={},e.hideBurger=!0,e.userdata.user="",e.userdata.contact="",e.userdata.contract="",e.userdata.account="",e.userdata.asset="",e.userdata.edLc="",e.userdata.edGroup="",e.userdata.email="",e.userdata.clave="",e.userdata.clave2="",e.userdata.claveNueva="",e.userdata.claveNueva2="",e.userdata.codigo="",e.userdata.nombre="",e.userdata.apellidoPaterno="",e.userdata.apellidoMaterno="",e.userdata.alias="",e.userdata.celular="",e.userdata.sexo="",e.userdata.fechaNacimiento="",e.userdata.imagen="",e.userdata.dni="",e.userdata.ruc="",e.userdata.ce="",e.userdata.documento="",e.userdata.condiciones=!1,e.userdata.publicidad=!1,e.userdata.notificaciones=!1,e.userdata.facebookUser="",e.userdata.facebookToken="",e.userdata.facebookImagen="",e.userdata.autoNombre="",e.userdata.autoApellido="",e.userdata.autoDni="",e.userdata.autoEmail="",e.userdata.autoSuministro="",e.userdata.suministros=[],e.userdata.productos=[],e.userdata.autorizados=[],e.userdata.pagos=[],t=e.userdata}]),angular.module("CoreModule").controller("tutoLoggedCtrl",["$scope","UserData","$ionicHistory","$ionicPlatform",function(e,t,a,n){e.userdata=t,e.hideBurger=!0,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),n.ready(function(){console.log("showing menu")}),window.localStorage.setItem("isLogged",!0)}]),angular.module("CoreModule").controller("perfilCtrl",["$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$cordovaCamera","$ionicScrollDelegate","$state","$rootScope","$ionicModal","$ionicPlatform","UtilsFactory","CoreService",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f){e.options={loop:!1,effect:"fade",speed:500},console.log("cargo el perfil"),e.$on("$ionicSlides.sliderInitialized",function(t,a){e.slider=a.slider}),e.$on("$ionicSlides.slideChangeStart",function(e,t){console.log("Slide change is beginning")}),e.$on("$ionicSlides.slideChangeEnd",function(t,a){e.activeIndex=a.slider.activeIndex,e.previousIndex=a.slider.previousIndex,0==a.slider.activeIndex?l.go("app.datos"):1==a.slider.activeIndex?l.go("app.datos-opcion2"):2==a.slider.activeIndex&&l.go("app.datos-opcion3")})}]),angular.module("CoreModule").controller("menuCtrl",["$scope","UserData","$ionicHistory","$nlFramework",function(e,t,a,n){e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("CoreModule").controller("menuController",["$scope","UserData","$ionicHistory",function(e,t,a){e.currentPlatform=ionic.Platform.platform()}]),angular.module("CoreModule").controller("informacionCtrl",["$scope","UserData","$ionicHistory","$rootScope","$ionicPlatform",function(e,t,a,n,o){window.localStorage.setItem("lastPage","app.informacion"),o.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("CoreModule").controller("financiamientoCtrl",["$scope","UserData","$ionicHistory",function(e,t,a){e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("CoreModule").controller("datosCtrl",["$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$cordovaCamera","$ionicScrollDelegate","$state","$rootScope","$ionicModal","$ionicPlatform","UtilsFactory","CoreService",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f){window.localStorage.setItem("lastPage","app.datos"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),c.fromTemplateUrl("views/Modals/cameraOptions.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.ventana=t}),e.onSwipeLeft=function(e){l.go("app.datos-opcion2")},e.aceptaPerfil=function(){var t=!0;n.show({template:"Validando datos ingresados..."}),""==e.userdata.clave?(n.hide(),p.showAlert("Actualiza tus datos","Es necesario que escribas tu actual clave."),t=!1):""==e.userdata.alias&&""==e.userdata.imagen&&""==e.userdata.claveNueva?(n.hide(),p.showAlert("Actualiza tus datos","Debes ingresar al menos un dato y tu clave actual."),t=!1):e.userdata.claveNueva!=e.userdata.claveNueva2&&(n.hide(),p.showAlert("Actualiza tus datos","Tus claves no coinciden, intentalo nuevamente."),t=!1),t&&f.editarPerfil(e.userdata).then(function(t){n.hide(),t.data.success?(e.showBase64=!1,e.userdata.imagen=t.data.imgURL,window.localStorage.setItem("userData",JSON.stringify(e.userdata)),p.showAlert("Actualiza tus datos",t.data.msg)):p.showAlert("Actualiza tus datos",t.data.msg)})},e.closeVentana=function(){e.ventana.hide()},e.takePicture=function(){e.ventana.show()},e.camara=function(){document.addEventListener("deviceready",function(){e.flag=!0;var t={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,saveToPhotoAlbum:!0};r.getPicture(t).then(function(t){e.showBase64=!0,e.userdata.imagen=t,e.closeVentana(),e.flag=!1},function(t){e.flag=!1,n.show({template:"No se pudo obtener la imagen.",duration:500})})})},e.galeria=function(){e.flag=!0;var t={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY};r.getPicture(t).then(function(t){e.userdata.imagen=t,e.showBase64=!0,e.closeVentana(),e.flag=!1},function(t){e.flag=!1,n.show({template:"No se pudo copiar la foto",duration:500})})},e.showBase64=!1,e.isBase64=function(){e.userdata.imagen.indexOf("http")!=-1?e.showBase64=!0:e.showBase64=!1}}]),angular.module("CoreModule").controller("datos-opcion3Ctrl",["$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$cordovaCamera","$ionicScrollDelegate","$rootScope","$state","$ionicPlatform","UtilsFactory","CoreService",function(e,t,a,n,o,i,r,s,l,d,c,u,p){e.productName="Selecciona Producto",window.localStorage.setItem("lastPage","app.datos-opcion3"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.onSwiperight=function(e){d.go("app.datos-opcion2")},e.activaSum=function(){e.estaActivo()?e.shownGroup=null:e.shownGroup=1,s.resize()},e.setSum=function(t){e.userdata.autoSuministro=t.items[0].suministro,e.productName=t.name,e.activaSum()},e.estaActivo=function(){return 1===e.shownGroup},""!=e.userdata.suministros?console.log("existen datos"):(e.userdata.suministros=[],e.userdata.suministros.push("No existen suministros")),""!=e.userdata.autorizados?console.log("existen datos"):(e.userdata.autorizados=[],e.userdata.autorizados.push("No existen autorizados")),e.bloquearAutorizado=function(t,a){var o=i.confirm({title:"Bloquear Usuario",template:"Esta seguro que deseea bloquear a este usuario?",cssClass:"button-cancel"});o.then(function(o){o?(n.show({template:"Bloqueando usuario..."}),p.bloquearAutorizado(t).then(function(t){n.hide(),t.data.success?(e.userdata.autorizados.splice(a,1),u.showAlert("Autoriza","El contacto ha sido bloqueado, ya no podra ver el suministro seleccionado.")):u.showAlert("Autoriza",t.data.msg)})):console.log("Mejor no...")})},e.agregaAutorizado=function(){n.show({template:"Validando datos ingresados..."}),""==e.userdata.autoNombre?(n.hide(),u.showAlert("Autoriza","Para autorizar a alguien necesitas ingresar un nombre.")):""==e.userdata.autoApellido?(n.hide(),u.showAlert("Autoriza","Para autorizar a alguien necesitas ingresar un apellido.")):""==e.userdata.autoDni||e.userdata.autoDni.toString().length>8?(n.hide(),u.showAlert("Autoriza","Para autorizar a alguien necesitas ingresar un DNI, de máximo 8 caracteres númericos.")):""==e.userdata.autoEmail?(n.hide(),u.showAlert("Autoriza","Para autorizar a alguien necesitas ingresar un correo electr&oacute;nico.")):""==e.userdata.autoSuministro?(n.hide(),u.showAlert("Autoriza","Debe seleccionar un suministro para asignarlo al contacto.")):p.autorizarUsuario(e.userdata).then(function(t){if(t.data.success){n.hide();var a=e.userdata.autorizados.length;e.userdata.autorizados.push({indice:a,nombre:e.userdata.autoNombre,relacion:"(Inquilino): ",suministro:e.productName}),u.showAlert("Autoriza","El contacto ha sido autorizado, ahora debe crear una cuenta y podr&aacute; ver el suministro seleccionado.")}else n.hide(),u.showAlert("Autoriza",t.data.msg)})},e.toggleGroup=function(t){e.isGroupShown(t)?e.shownA=null:e.shownA=t,s.resize()},e.isGroupShown=function(t){return e.shownA===t}}]),angular.module("CoreModule").controller("datos-opcion2Ctrl",["$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$cordovaCamera","$rootScope","$ionicScrollDelegate","$state","$ionicPlatform","UtilsFactory","CoreService",function(e,t,a,n,o,i,r,s,l,d,c,u,p){window.localStorage.setItem("lastPage","app.datos-opcion2"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.onSwipeLeft=function(e){d.go("app.datos-opcion3")},e.onSwiperight=function(e){d.go("app.datos")},e.aceptaContacto=function(){n.show({template:"Validando datos ingresados..."}),""==e.userdata.celular&&""==e.userdata.publicidad&&""==e.userdata.email&&""==e.userdata.notificaciones?(n.hide(),u.showAlert("Actualiza tus datos","Debes ingresar al menos un dato.")):p.editarContacto(e.userdata).then(function(e){n.hide(),e.data.success?u.showAlert("Actualiza tus datos","Hemos actualizado tu informaci&oacute;n."):u.showAlert("Actualiza tus datos",e.data.msg)})}}]),angular.module("CoreModule").controller("contactanosCtrl",["$scope","UserData","$ionicHistory","$rootScope","$ionicPlatform",function(e,t,a,n,o){window.localStorage.setItem("lastPage","app.contactanos"),e.userdata=t,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),o.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1}]),angular.module("CoreModule").controller("bienvenidaCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$ionicModal","$ionicScrollDelegate","$ionicPlatform","$rootScope","$state","$window","urlService","AnaliticaFactory",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f){if(ionic.Platform.platform().indexOf("android")!=-1){var m=window.localStorage.getItem("isLogged");null===m&&(m="false"),e.isActive="false"===m}window.localStorage.setItem("isLogged",!0),window.localStorage.setItem("lastPage","app.bienvenida"),a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),l.ready(function(){console.log("showing menu bienvenida")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.groups=[],r.fromTemplateUrl("views/Core/aliassuministro.html",{id:"m_alias",scope:e,backdropClickToClose:!1,animation:"slide-in-up"}).then(function(t){console.log(e.userdata),e.mAlias=t}),e.openAlias=function(t,a,n){e.userdata.edLc=t,e.userdata.edGroup=a,e.newAlias=n,e.mAlias.show()},e.closeAlias=function(){e.mAlias.hide()},e.$on("modal.shown",function(e,t){console.log("Modal "+t.id+" is shown!")}),e.$on("modal.hidden",function(e,t){console.log("Modal "+t.id+" is hidden!")}),e.$on("$destroy",function(){e.mAlias.remove()});var g=p.getUrl();o.show({template:"Cargando..."});try{if(e.userdata.productos.error){if(o.hide(),null!=window.localStorage.getItem("reloadFlag")){i.alert({title:"No tienes informaci&oacute;n asociada",template:""+e.userdata.productos.msg+"!"})}}else{for(var h=0;h<e.userdata.productos.data.length;h++)e.groups[h]={groupid:h,suministro:e.userdata.productos.data[h].id,name:e.userdata.productos.data[h].name,items:[]},e.groups[h].items.push(e.userdata.productos.data[h].items);o.hide()}}catch(t){n.post(g,{o:"obtenerProductosFull",user:e.userdata.user,clave:e.userdata.clave}).then(function(t){if(t.data.success)if(e.userdata.productos.error){if(o.hide(),null!=window.localStorage.getItem("reloadFlag")){i.alert({title:"No tienes informaci&oacute;n asociada",template:""+e.userdata.productos.msg+"!"})}}else{for(var a=0;a<t.data.data.length;a++)e.groups[a]={groupid:a,suministro:t.data.data[a].id,name:t.data.data[a].name,items:[]},e.groups[a].items.push(t.data.data[a].items);e.userdata.productos.data=e.groups,o.hide()}else{o.hide();i.alert({title:"No existe informaci&oacute;n",template:""+t.data.msg+"!"})}},function(e){console.log(e),o.hide()})}e.toggleGroup=function(t){e.isGroupShown(t)?e.shownGroup=null:e.shownGroup=t,s.resize()},e.isGroupShown=function(t){return e.shownGroup===t},document.getElementById("mProd").classList.add("menuProductActive"),e.$on("$stateChangeSuccess",function(e,t){"app.bienvenida"===t.name&&null==window.localStorage.getItem("reloadFlag")&&(window.localStorage.setItem("reloadFlag","ok"),u.location.reload())})}]),angular.module("CoreModule").controller("atencionCtrl",["$scope","UserData","$ionicHistory",function(e,t,a){e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("CoreModule").controller("appStartCtrl",["$scope","$state",function(e,t){$ionicPlatform.ready(function(){try{var e=document.getElementsByClassName("menu-content");e[0].classList.remove("fixed");var e=document.getElementById("overall");e.remove()}catch(e){console.log(e)}})}]),angular.module("CoreModule").controller("aliasController",["$scope","$http","$ionicHistory","$ionicLoading","$ionicPopup","$ionicPlatform","CoreService",function(e,t,a,n,o,i,r){e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.flag=!1,e.cambiarAlias=function(){e.flag=!0,n.show({template:"Actualizando datos..."}),r.editarAliasSuministro(e.newAlias,e.userdata.edLc).then(function(t){if(t.data.success){e.groups[e.userdata.edGroup].name=e.newAlias,e.flag=!1,n.hide();var a=o.alert({title:"Suministro",template:""+t.data.msg+"!"});a.then(function(t){e.closeAlias()})}else{e.flag=!1,n.hide();var a=o.alert({title:"Error!",template:""+t.data.msg+"!"})}})}}]),angular.module("EstadosModule",["CoreModule","UtilsModule","chart.js"]),angular.module("EstadosModule").controller("pagosHorizontalCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$timeout","$ionicScrollDelegate","$rootScope","swiperOpts","$ionicPlatform","$state","$window","EstadosFactory","$q",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){function g(t){var a="";try{for(var n=e.fullData[t].length>12?12:e.fullData[t].length,o=0;o<=n-1;o++)if(e.slides[t].graphlabels.length>0&&e.slides[t].graphlabels[o]&&Object.keys(e.slides[t].graphlabels[o]).length>0){var i=e.slides[t].graphlabels[o].fecha,r=e.slides[t].graphlabels[o].monto;switch(o){case 0:a=a+'<div class="legendPD" style="margin-right: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;case n:a=a+'<div class="legendPD" style="margin-left: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;default:a=a+'<div class="legendPD"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>"}}}catch(e){console.log(e)}return a}function h(){if(e.listaCharts.length>0)for(var t=0;t<e.listaCharts.length;t++){var a=e.listaCharts[t];if(document.getElementById(a)){var n=document.getElementById(a).getContext("2d"),o=n.createLinearGradient(0,0,0,155);o.addColorStop(.2,"rgba(255, 159, 193,1)"),o.addColorStop(1,"rgba(255, 255, 255, 1)");var i=n.createLinearGradient(0,0,0,155);i.addColorStop(.2,"rgba(255, 15, 100,1)"),i.addColorStop(1,"rgba(255, 255, 255, 1)");for(var r=[],s=new Date,l=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],c=0;c<e.slides[t].graphdata.length;c++){var u=l[parseInt(s.getMonth())-1]+" "+s.getFullYear();e.slides[t].graphlabels[c].fecha==u?r.push(i):r.push(o)}window[a]=new Chart(n,{type:"bar",data:{labels:e.slides[t].graphdata,datasets:[{backgroundColor:r,hoverBackgroundColor:i,borderWidth:0,data:e.slides[t].graphdata}]},series:e.slides[t].graphseries,options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"single"},scales:{xAxes:[{display:!1,gridLines:{display:!1},categorySpacing:0,barPercentage:1.1}],yAxes:[{display:!1,gridLines:{display:!1},ticks:{beginAtZero:!0,display:!1}}]},tooltips:{callbacks:{label:function(e,t){return"S/ "+e.xLabel},title:function(e,t){return""}}},legend:{display:!1}}}),e.done=!0,e.Fopts=d}}}e.activeIndex=0,e.changeStateBullet=function(t){return t==e.activeIndex?"swiper-pagination-bullet-active":""};var v=function(){e.width=p.innerWidth-20+"px",e.height="155px",e.showGraph=!0,b(),_().then(function(){setTimeout(h,1e3),e.$broadcast("scroll.refreshComplete"),e.setDataAndLabels(0,0)})},b=function(){window.localStorage.setItem("lastPage","app.pagos"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.limitData=12,e.firstLoad=0,e.done=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.Fopts=d};e.setDataAndLabels=function(t,a){e.inicio=e.inicio+t;var n=e.inicio+12;e.limitData=12;try{if(e.inicio>=0&&e.fullData.length>0&&n<=e.fullData[a].length){e.slides[a].graphdata=[],e.slides[a].graphlabels=[];for(var i=e.inicio;i<n;i++)e.slides[a].graphdata.push(e.fullData[a][i]),e.slides[a].graphlabels.push(e.fullLabels[a][i]),e.slides[a].leyendasDoce=g(a);3==arguments.length&&window[arguments[2]]&&(window[arguments[2]].config.data.labels=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].data=e.slides[a].graphdata,window[arguments[2]].update())}else e.inicio=e.inicio-t}catch(e){console.log("error:"+e)}e.$broadcast("scroll.refreshComplete"),s.resize(),o.hide()};var _=function(){var t=m.defer();o.show({template:"Obteniendo informacion..."}),e.slides=[];var a={};return a.user=e.userdata.user,a.clave=e.userdata.clave,f.getProductos(a).then(function(a){if(a.data.success){e.userdata.account=a.data.data[0].account,e.userdata.asset=a.data.data[0].asset,e.groups=a.data.data,e.userdata.productos=a.data,e.slides=[];for(var n=0;n<a.data.data.length;n++){var r={id:n,alias:a.data.data[n].items[0].alias,sumNumber:a.data.data[n].items[0].sumNumber,leyendasDoce:"",graphid:"",graphdata:[],graphseries:["Pagos"],graphlabels:[]};e.slides.push(r),
e.suministros.push(a.data.data[n].items[0].sumNumber),e.fullData[n]=[],e.fullLabels[n]=[]}f.getPagos({suministros:e.suministros,contactId:e.userdata.contact}).then(function(a){if(a.data.success){e.leyendasDoceP="";for(var n=0;n<a.data.data.length;n++)for(var r=0;r<a.data.data[n].items.length;r++)for(var s=0;s<e.suministros.length;s++){if(e.listaCharts[s]="barPH"+s,e.suministros[s]===a.data.data[n].suministro){e.slides[s].graphid="barPH"+s;var l;l=0===a.data.data[n].items[r].facturaActual?"0":a.data.data[n].items[r].facturaActual,e.slides[s].graphlabels.push({fecha:a.data.data[n].items[r].fecha,monto:l}),e.fullLabels[s].push({fecha:a.data.data[n].items[r].fecha,monto:l}),e.slides[s].graphdata.push(l),e.fullData[s].push(l),e.slides[s].leyendasDoce=g(s),e.setDataAndLabels(0,s,"barPH"+s)}e.$broadcast("scroll.refreshComplete")}o.hide(),t.resolve()}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()})}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()}),t.promise};e.$on("$ionicSlides.slideChangeEnd",function(t,a){e.$apply(e.activeIndex=a.slider.activeIndex),e.previousIndex=a.previousIndex,s.resize()}),e.$on("$stateChangeSuccess",function(t,a){if("app.pagosHorizontal"===a.name)v();else{for(var n=document.getElementsByClassName("chart"),o=0;o<n.length;o++)n[o].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.status=!1,e.showGraph=!1,r.cancel(h)}}),e.$on("$destroy",function(){console.log("destruyo consumos");for(var t=document.getElementsByClassName("chart"),a=0;a<t.length;a++)t[a].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.status=!1,r.cancel(h)})}]),angular.module("EstadosModule").controller("pagosCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$timeout","$ionicScrollDelegate","$rootScope","swiperOpts","$ionicPlatform","$state","$window","EstadosFactory","$q",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){function g(t){var a="";try{for(var n=e.fullData[t].length>3?3:e.fullData[t].length,o=0;o<=n-1;o++)if(e.slides[t].graphlabels.length>0&&e.slides[t].graphlabels[o]&&Object.keys(e.slides[t].graphlabels[o]).length>0){var i=e.slides[t].graphlabels[o].fecha,r=e.slides[t].graphlabels[o].monto;switch(o){case 0:a=a+'<div class="legendP" style="margin-right: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;case n:a=a+'<div class="legendP" style="margin-left: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;default:a=a+'<div class="legendP"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>"}}}catch(e){console.log(e)}return a}function h(){try{if(e.listaCharts.length>0)for(var t=0;t<e.listaCharts.length;t++){var a=e.listaCharts[t];if(document.getElementById(a)){var n=document.getElementById(a).getContext("2d"),o=n.createLinearGradient(0,0,0,253);o.addColorStop(.2,"rgba(255, 159, 193,1)"),o.addColorStop(1,"rgba(255, 255, 255, 1)");var i=n.createLinearGradient(0,0,0,253);i.addColorStop(.2,"rgba(255, 15, 100,1)"),i.addColorStop(1,"rgba(255, 255, 255, 1)"),e.fullGradients[t]=[];for(var r=new Date,s=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],l=[],d=0;d<e.fullLabels[t].length;d++){var c=s[parseInt(r.getMonth())-1]+" "+r.getFullYear();e.fullLabels[t][d].fecha==c?(e.fullGradients[t].push(i),l.push(i)):(e.fullGradients[t].push(o),l.push(o))}window[a]=new Chart(n,{type:"bar",data:{labels:e.slides[t].graphdata,datasets:[{backgroundColor:l,hoverBackgroundColor:i,borderWidth:0,data:e.slides[t].graphdata}]},series:e.slides[t].graphseries,options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"single"},scales:{xAxes:[{display:!1,gridLines:{display:!1},categorySpacing:0,barPercentage:1.2}],yAxes:[{display:!1,gridLines:{display:!1},ticks:{beginAtZero:!0,display:!1}}]},tooltips:{callbacks:{label:function(e,t){return"S/ "+e.xLabel},title:function(e,t){return""}}},legend:{display:!1}}}),e.done=!0}}}catch(e){}}e.activeIndex=0;var v=function(){e.width=p.innerWidth-20+"px",e.height="255px",e.showGraph=!0,b(),_().then(function(){setTimeout(h,1e3),e.$broadcast("scroll.refreshComplete"),e.setDataAndLabels(0,0)})},b=function(){e.Fopts=d,window.localStorage.setItem("lastPage","app.pagos"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.limitData=3,e.firstLoad=0,e.done=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.toggleStatus=function(){e.status=!e.status}};e.setDataAndLabels=function(t,a){e.inicio=e.inicio+t;var n=e.inicio+3;e.limitData=3;try{if(e.inicio>=0&&e.fullData.length>0&&n<=e.fullData[a].length){e.slides[a].graphdata=[],e.slides[a].graphlabels=[],e.slides[a].graphGradients=[];for(var i=e.inicio;i<n;i++)e.slides[a].graphdata.push(e.fullData[a][i]),e.slides[a].graphlabels.push(e.fullLabels[a][i]),e.slides[a].graphGradients.push(e.fullGradients[a][i]),e.slides[a].leyendasTres=g(a);3==arguments.length&&window[arguments[2]]&&(window[arguments[2]].config.data.labels=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].data=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].backgroundColor=e.slides[a].graphGradients,window[arguments[2]].update())}else e.inicio=e.inicio-t}catch(e){console.log("error:"+e)}e.$broadcast("scroll.refreshComplete"),s.resize(),o.hide()};var _=function(){var t=m.defer();o.show({template:"Obteniendo informacion..."}),e.slides=[];var a={};return a.user=e.userdata.user,a.clave=e.userdata.clave,f.getProductos(a).then(function(a){if(a.data.success){e.userdata.account=a.data.data[0].account,e.userdata.asset=a.data.data[0].asset,e.groups=a.data.data,e.userdata.productos=a.data,e.slides=[];for(var n=0;n<a.data.data.length;n++){var r={id:n,alias:a.data.data[n].items[0].alias,sumNumber:a.data.data[n].items[0].sumNumber,leyendasTres:"",graphid:"",graphdata:[],graphseries:["Pagos"],graphlabels:[]};e.slides.push(r),e.suministros.push(a.data.data[n].items[0].sumNumber),e.fullData[n]=[],e.fullLabels[n]=[],e.fullGradients[n]=[]}f.getPagos({suministros:e.suministros,contactId:e.userdata.contact}).then(function(a){if(a.data.success){e.leyendasTresP="";for(var n=0;n<a.data.data.length;n++)for(var r=0;r<a.data.data[n].items.length;r++)for(var s=0;s<e.suministros.length;s++)e.listaCharts[s]="barP"+s,e.suministros[s]==a.data.data[n].suministro&&(e.slides[s].graphid="barP"+s,e.slides[s].graphlabels.push({fecha:a.data.data[n].items[r].fecha,monto:a.data.data[n].items[r].facturaActual}),e.fullLabels[s].push({fecha:a.data.data[n].items[r].fecha,monto:a.data.data[n].items[r].facturaActual}),e.slides[s].graphdata.push(a.data.data[n].items[r].facturaActual),e.fullData[s].push(a.data.data[n].items[r].facturaActual),e.slides[s].leyendasTres=g(s),e.setDataAndLabels(0,s,"barP"+s)),e.$broadcast("scroll.refreshComplete");o.hide(),t.resolve()}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()})}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()}),t.promise};e.$on("$ionicSlides.slideChangeEnd",function(t,a){e.$apply(e.activeIndex=a.slider.activeIndex),e.previousIndex=a.previousIndex,s.resize()}),e.changeStateBullet=function(t){return t==e.activeIndex?"swiper-pagination-bullet-active":""},e.$on("$stateChangeSuccess",function(t,a){if("app.pagos"===a.name)v();else{e.showGraph=!1;for(var n=document.getElementsByClassName("chart"),o=0;o<n.length;o++)n[o].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.status=!1,e.showGraph=!1}}),e.$on("$destroy",function(){console.log("destruyo consumos");for(var t=document.getElementsByClassName("chart"),a=0;a<t.length;a++)t[a].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.status=!1,e.showGraph=!1})}]),angular.module("EstadosModule").controller("facturacionesHorizontalCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$timeout","$ionicScrollDelegate","$rootScope","swiperOpts","$ionicPlatform","$state","$window","EstadosFactory","$q",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){function g(t){var a="";try{for(var n=e.fullData[t].length>12?12:e.fullData[t].length,o=0;o<=n-1;o++)if(e.slides[t].graphlabels.length>0&&e.slides[t].graphlabels[o]&&Object.keys(e.slides[t].graphlabels[o]).length>0){var i=e.slides[t].graphlabels[o].fecha,r=e.slides[t].graphlabels[o].monto;switch(o){case 0:a=a+'<div class="legendD" style="margin-right: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;case n:a=a+'<div class="legendD" style="margin-left: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;default:a=a+'<div class="legendD"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>"}}}catch(e){console.log(e)}return a}function h(){if(e.listaCharts.length>0)for(var t=0;t<e.listaCharts.length;t++){var a=e.listaCharts[t];if(document.getElementById(a)){var n=document.getElementById(a).getContext("2d"),o=n.createLinearGradient(0,0,0,155);o.addColorStop(.2,"rgba(67,185,230,1)"),o.addColorStop(1,"rgba(255, 255, 255, 1)");var i=n.createLinearGradient(0,0,0,155);i.addColorStop(.2,"rgba(20,100,246,1)"),i.addColorStop(1,"rgba(255, 255, 255, 1)");for(var r=[],s=new Date,l=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],c=0;c<e.slides[t].graphdata.length;c++){var u=l[parseInt(s.getMonth())-1]+" "+s.getFullYear();e.slides[t].graphlabels[c].fecha==u?r.push(i):r.push(o)}window[a]=new Chart(n,{type:"bar",data:{labels:e.slides[t].graphdata,datasets:[{backgroundColor:r,hoverBackgroundColor:i,borderWidth:0,data:e.slides[t].graphdata}]},series:e.slides[t].graphseries,options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"single"},scales:{xAxes:[{display:!1,gridLines:{display:!1},categorySpacing:0,barPercentage:1.2}],yAxes:[{display:!1,gridLines:{display:!1},ticks:{beginAtZero:!0,display:!1}}]},tooltips:{callbacks:{label:function(e,t){return"S/ "+e.xLabel},title:function(e,t){return""}}},legend:{display:!1}}}),e.done=!0,e.Fopts=d}}}e.activeIndex=0,e.changeStateBullet=function(t){return t==e.activeIndex?"swiper-pagination-bullet-active":""};var v=function(){e.width=p.innerWidth-20+"px",e.height="155px",e.showGraph=!0,b(),_().then(function(){setTimeout(h,1e3),e.$broadcast("scroll.refreshComplete"),e.setDataAndLabels(0,0)})},b=function(){window.localStorage.setItem("lastPage","app.facturaciones"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.limitData=12,e.firstLoad=0,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.done=!1,e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.Fopts=d};e.setDataAndLabels=function(t,a){e.inicio=e.inicio+t;var n=e.inicio+12;e.limitData=12;try{if(e.inicio>=0&&e.fullData.length>0&&n<=e.fullData[a].length){e.slides[a].graphdata=[],e.slides[a].graphlabels=[];for(var i=e.inicio;i<n;i++)e.slides[a].graphdata.push(e.fullData[a][i]),e.slides[a].graphlabels.push(e.fullLabels[a][i]),e.slides[a].leyendasDoce=g(a);3==arguments.length&&window[arguments[2]]&&(window[arguments[2]].config.data.labels=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].data=e.slides[a].graphdata,window[arguments[2]].update())}else e.inicio=e.inicio-t}catch(e){console.log("error:"+e)}e.$broadcast("scroll.refreshComplete"),s.resize(),o.hide()};var _=function(){var t=m.defer();o.show({template:"Obteniendo informacion..."}),e.slides=[];var a={};return a.user=e.userdata.user,a.clave=e.userdata.clave,f.getProductos(a).then(function(a){if(a.data.success){e.userdata.account=a.data.data[0].account,e.userdata.asset=a.data.data[0].asset,e.groups=a.data.data,e.userdata.productos=a.data,e.slides=[];for(var n=0;n<a.data.data.length;n++){var r={id:n,alias:a.data.data[n].items[0].alias,sumNumber:a.data.data[n].items[0].sumNumber,leyendasDoce:"",graphid:"",graphdata:[],graphseries:["Facturacion"],graphlabels:[]};e.slides.push(r),e.suministros.push(a.data.data[n].items[0].sumNumber),e.fullData[n]=[],e.fullLabels[n]=[]}f.getFacturaciones({suministros:e.suministros}).then(function(a){if(a.data.success){e.leyendasDoce="";for(var n=0;n<a.data.data.length;n++)for(var r=0;r<e.suministros.length;r++)e.listaCharts[r]="barH"+r,e.suministros[r]==a.data.data[n].items[0].suministro&&(e.slides[r].graphid="barH"+r,e.slides[r].graphlabels.push({fecha:a.data.data[n].items[0].fecha,mes:a.data.data[n].items[0].mes,ano:a.data.data[n].items[0].ano,pdf:a.data.data[n].items[0].pdfLink,monto:a.data.data[n].items[0].facturaActual}),e.fullLabels[r].push({fecha:a.data.data[n].items[0].fecha,mes:a.data.data[n].items[0].mes,ano:a.data.data[n].items[0].ano,pdf:a.data.data[n].items[0].pdfLink,monto:a.data.data[n].items[0].facturaActual}),e.slides[r].graphdata.push(a.data.data[n].items[0].facturaActual),e.fullData[r].push(a.data.data[n].items[0].facturaActual),e.slides[r].leyendasDoce=g(r),e.setDataAndLabels(0,r,"barH"+r)),e.$broadcast("scroll.refreshComplete");o.hide(),t.resolve()}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()})}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()}),t.promise};e.$on("$ionicSlides.slideChangeEnd",function(t,a){e.$apply(e.activeIndex=a.slider.activeIndex),e.previousIndex=a.previousIndex,s.resize()}),e.$on("$stateChangeSuccess",function(t,a){if("app.facturacionesHorizontal"===a.name)v();else{for(var n=document.getElementsByClassName("chart"),o=0;o<n.length;o++)n[o].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.status=!1,e.showGraph=!1,r.cancel(h)}}),e.$on("$destroy",function(){console.log("destruyo consumos");for(var t=document.getElementsByClassName("chart"),a=0;a<t.length;a++)t[a].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.status=!1,r.cancel(h)})}]),angular.module("EstadosModule").controller("facturacionesCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$timeout","$ionicScrollDelegate","$rootScope","swiperOpts","$ionicPlatform","$state","$window","EstadosFactory","$q",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){function g(t){var a="";try{for(var n=e.fullData[t].length>3?3:e.fullData[t].length,o=0;o<=n-1;o++)if(e.slides[t].graphlabels.length>0&&e.slides[t].graphlabels[o]&&Object.keys(e.slides[t].graphlabels[o]).length>0){var i=e.slides[t].graphlabels[o].fecha,r=e.slides[t].graphlabels[o].monto,s=e.slides[t].graphlabels[o].pdf;switch(o){case 0:a=a+'<div class="legend" style="margin-right: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+'</div><div class="gPdf"><a target="_system" href="'+s+'"><i class="ion-document-text"></i><br/><span>Ver<br/>recibo</span></a></div></div>';break;case n:a=a+'<div class="legend" style="margin-left: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+'</div><div class="gPdf"><a target="_system" href="'+s+'"><i class="ion-document-text"></i><br/><span>Ver<br/>recibo</span></a></div></div>';break;default:a=a+'<div class="legend"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+'</div><div class="gPdf"><a target="_system" href="'+s+'"><i class="ion-document-text"></i><br/><span>Ver<br/>recibo</span></a></div></div>'}}}catch(e){console.log(e)}return a}function h(){if(e.listaCharts.length>0)for(var t=0;t<e.listaCharts.length;t++){var a=e.listaCharts[t];if(document.getElementById(a)){var n=document.getElementById(a).getContext("2d"),o=n.createLinearGradient(0,0,0,295);o.addColorStop(.2,"rgba(67,185,230,1)"),o.addColorStop(1,"rgba(255, 255, 255, 1)");var i=n.createLinearGradient(0,0,0,295);i.addColorStop(.2,"rgba(20,100,246,1)"),i.addColorStop(1,"rgba(255, 255, 255, 1)");for(var r=new Date,s=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],l=[],d=0;d<e.fullLabels[t].length;d++){var c=s[parseInt(r.getMonth())-1]+" "+r.getFullYear();e.fullLabels[t][d].fecha==c?(e.fullGradients[t].push(i),l.push(i)):(e.fullGradients[t].push(o),l.push(o))}window[a]=new Chart(n,{type:"bar",data:{labels:e.slides[t].graphdata,datasets:[{backgroundColor:l,hoverBackgroundColor:i,borderWidth:0,data:e.slides[t].graphdata}]},series:e.slides[t].graphseries,options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"single"},scales:{xAxes:[{display:!1,gridLines:{display:!1},categorySpacing:0,barPercentage:1.2}],yAxes:[{display:!1,gridLines:{display:!1},ticks:{beginAtZero:!0,display:!1}}]},tooltips:{callbacks:{label:function(e,t){return"S/ "+e.xLabel},title:function(e,t){return""}}},legend:{display:!1}}}),e.done=!0}}}e.activeIndex=0;var v=function(){e.width=p.innerWidth-20+"px",e.height="255px",e.showGraph=!0,b(),_().then(function(){setTimeout(h,1e3),e.$broadcast("scroll.refreshComplete"),e.setDataAndLabels(0,0)})},b=function(){e.Fopts=d,window.localStorage.setItem("lastPage","app.facturaciones"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.limitData=3,e.firstLoad=0,e.done=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[]};e.setDataAndLabels=function(t,a){e.inicio=e.inicio+t;var n=e.inicio+3;e.limitData=3;try{if(e.inicio>=0&&e.fullData.length>0&&n<=e.fullData[a].length){e.slides[a].graphdata=[],e.slides[a].graphlabels=[],e.slides[a].graphGradients=[];for(var i=e.inicio;i<n;i++)e.slides[a].graphdata.push(e.fullData[a][i]),e.slides[a].graphlabels.push(e.fullLabels[a][i]),e.slides[a].graphGradients.push(e.fullGradients[a][i]),e.slides[a].leyendasTres=g(a);3==arguments.length&&window[arguments[2]]&&(window[arguments[2]].config.data.labels=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].data=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].backgroundColor=e.slides[a].graphGradients,window[arguments[2]].update())}else e.inicio=e.inicio-t}catch(e){console.log("error:"+e)}e.$broadcast("scroll.refreshComplete"),s.resize(),o.hide()};var _=function(){var t=m.defer();o.show({template:"Obteniendo informacion..."}),e.slides=[];var a={};return a.user=e.userdata.user,a.clave=e.userdata.clave,f.getProductos(a).then(function(a){if(a.data.success){e.userdata.account=a.data.data[0].account,e.userdata.asset=a.data.data[0].asset,e.groups=a.data.data,e.userdata.productos=a.data,e.slides=[];for(var n=0;n<a.data.data.length;n++){var r={id:n,alias:a.data.data[n].items[0].alias,sumNumber:a.data.data[n].items[0].sumNumber,leyendasTres:"",graphid:"",graphdata:[],graphseries:["Facturacion"],graphlabels:[]};e.slides.push(r),e.suministros.push(a.data.data[n].items[0].sumNumber),e.fullData[n]=[],e.fullLabels[n]=[],e.fullGradients[n]=[]}f.getFacturaciones({suministros:e.suministros}).then(function(a){if(a.data.success){e.leyendasTres="";for(var n=0;n<a.data.data.length;n++)for(var r=0;r<e.suministros.length;r++)e.listaCharts[r]="bar"+r,e.suministros[r]==a.data.data[n].items[0].suministro&&(e.slides[r].graphid="bar"+r,e.slides[r].graphlabels.push({fecha:a.data.data[n].items[0].fecha,mes:a.data.data[n].items[0].mes,ano:a.data.data[n].items[0].ano,pdf:a.data.data[n].items[0].pdfLink,monto:a.data.data[n].items[0].facturaActual}),e.fullLabels[r].push({fecha:a.data.data[n].items[0].fecha,mes:a.data.data[n].items[0].mes,ano:a.data.data[n].items[0].ano,pdf:a.data.data[n].items[0].pdfLink,monto:a.data.data[n].items[0].facturaActual}),e.slides[r].graphdata.push(a.data.data[n].items[0].facturaActual),e.fullData[r].push(a.data.data[n].items[0].facturaActual),e.slides[r].leyendasTres=g(r),e.setDataAndLabels(0,r,"bar"+r)),e.$broadcast("scroll.refreshComplete");o.hide(),t.resolve()}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()})}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()}),t.promise};e.$on("$ionicSlides.slideChangeEnd",function(t,a){e.$apply(e.activeIndex=a.slider.activeIndex),e.previousIndex=a.slider.previousIndex,s.resize()}),e.changeStateBullet=function(t){return t==e.activeIndex?"swiper-pagination-bullet-active":""},e.$on("$stateChangeSuccess",function(t,a){if("app.facturaciones"===a.name)v();else{for(var n=document.getElementsByClassName("chart"),o=0;o<n.length;o++)n[o].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.status=!1,e.showGraph=!1}}),e.$on("$destroy",function(){console.log("destruyo consumos");for(var t=document.getElementsByClassName("chart"),a=0;a<t.length;a++)t[a].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.status=!1})}]),angular.module("EstadosModule").controller("deudasAnteriorCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$ionicScrollDelegate","$rootScope","$ionicPlatform","urlService",function(e,t,a,n,o,i,r,s,l,d){window.localStorage.setItem("lastPage","app.deudaanterior"),l.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),o.show({template:"Cargando datos..."});var c=[],u=[];if(e.total=0,e.vGraph="0.00",e.deudasAnterior=[],""!=e.userdata.productos)if(e.userdata.productos.error){o.hide();i.alert({title:"Sin datos",template:""+e.userdata.productos.msg+"!"})}else{e.total=0,console.log("Cargando deudas anteriores existentes: "+e.userdata.productos.data),console.log("Items: "+e.userdata.productos.data.length);for(var p=0;p<e.userdata.productos.data.length;p++)console.log("Agregando nombre: "+e.userdata.productos.data[p].name),u.push(e.userdata.productos.data[p].name),console.log("Agregando valor: "+e.userdata.productos.data[p].items[0].deudaAnterior),c.push(e.userdata.productos.data[p].items[0].deudaAnterior),e.deudasAnterior[p]={name:e.userdata.productos.data[p].name,number:"",id:p,ammount:"",items:[]},e.deudasAnterior[p].items.push(e.userdata.productos.data[p].items[0]),e.deudasAnterior[p].number=e.userdata.productos.data[p].items[0].sumNumber,e.deudasAnterior[p].ammount="S/"+e.userdata.productos.data[p].items[0].deudaAnterior,e.lastlabels=u,e.lastdata=c,e.total=parseFloat(e.total)+parseFloat(e.userdata.productos.data[p].items[0].deudaAnterior),e.vGraph="S/"+e.total.toFixed(2),e.options={responsive:!1,size:{height:500,width:500},elements:{center:{maxText:"30%",text:e.vGraph,fontColor:"#36A2EB",fontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",fontStyle:"normal",fontSize:20,minFontSize:1,maxFontSize:256}}},o.hide()}else{e.total=0,console.log("Cargando deudas anteriores nuevamente...");var f=d.getUrl();o.show({template:"Cargando..."}),n.post(f,{o:"obtenerProductosFull",user:e.userdata.user,clave:e.userdata.clave}).then(function(t){if(t.data.success){for(var a=0;a<t.data.data.length;a++)u.push(t.data.data[a].name),c.push(t.data.data[a].items[0].deudaAnterior),console.log(t.data.data[a].items[0].deudaAnterior),e.deudasAnterior[a]={name:t.data.data[a].name,number:"",id:a,ammount:"",items:[]},e.deudasAnterior[a].items.push(t.data.data[a].items[0]),e.deudasAnterior[a].number=t.data.data[a].items[0].sumNumber,e.deudasAnterior[a].ammount="S/"+t.data.data[a].items[0].deudaAnterior,e.total=parseFloat(e.total)+parseFloat(t.data.data[a].items[0].deudaAnterior),e.vGraph="S/"+e.total.toFixed(2);e.lastlabels=u,e.lastdata=c,e.options={responsive:!1,size:{height:500,width:500},elements:{center:{maxText:"30%",text:e.vGraph,fontColor:"#36A2EB",fontStyle:"normal",fontSize:20,minFontSize:1,maxFontSize:256}}},o.hide()}else{o.hide();i.alert({title:"Sin datos",template:""+t.data.msg+"!"})}})}e.lastlabels=u,e.lastdata=c,e.colors=["#0555fa","#ff0f64","#41b9e6","#c6c6c6","#66CD00","#EEEE00","#B8860B","#CD3700","#8E8E38","#848484"],Chart.defaults.global.colors=["#0555fa","#ff0f64","#41b9e6","#c6c6c6","#66CD00","#EEEE00","#B8860B","#CD3700","#8E8E38","#848484"],e.options={responsive:!1,size:{height:500,width:500},elements:{center:{maxText:"30%",text:e.vGraph,fontColor:"#36A2EB",fontStyle:"normal",fontSize:20,minFontSize:1,maxFontSize:256}}},o.hide(),e.toggleGroupdeudasAnterior=function(t){e.isGroupShowndeudasAnterior(t)?e.shownGroupdeudasAnterior=null:e.shownGroupdeudasAnterior=t,r.resize()},e.isGroupShowndeudasAnterior=function(t){return e.shownGroupdeudasAnterior===t},window.ionic.Platform.ready(function(){})}]),angular.module("EstadosModule").controller("deudasActualCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$ionicScrollDelegate","$rootScope","$ionicPlatform","urlService",function(e,t,a,n,o,i,r,s,l,d){window.localStorage.setItem("lastPage","app.productos"),l.ready(function(){console.log("showing menu")}),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),o.show({template:"Cargando datos..."});var c=[],u=[];if(e.total=0,e.vGraph="0.00",e.deudasActual=[],""!=e.userdata.productos)if(e.userdata.productos.error){o.hide();i.alert({title:"Sin datos",template:""+e.userdata.productos.msg+"!"})}else{e.total=0,console.log("Cargando deudas actuales existentes: "+e.userdata.productos.data),console.log("Items: "+e.userdata.productos.data.length);for(var p=0;p<e.userdata.productos.data.length;p++)console.log("Agregando nombre: "+e.userdata.productos.data[p].name),u.push(e.userdata.productos.data[p].name),console.log("Agregando valor: "+e.userdata.productos.data[p].items[0].deudaActual),c.push(e.userdata.productos.data[p].items[0].deudaActual),e.deudasActual[p]={name:e.userdata.productos.data[p].name,number:"",id:p,ammount:"",items:[]},e.deudasActual[p].items.push(e.userdata.productos.data[p].items[0]),e.deudasActual[p].number=e.userdata.productos.data[p].items[0].sumNumber,e.deudasActual[p].ammount="S/"+e.userdata.productos.data[p].items[0].deudaActual,e.actuallabels=u,e.actualdata=c,e.total=parseFloat(e.total)+parseFloat(e.userdata.productos.data[p].items[0].deudaActual),e.vGraph="S/"+e.total.toFixed(2),e.options={responsive:!1,size:{height:500,width:500},elements:{center:{maxText:"30%",text:e.vGraph,fontColor:"#36A2EB",fontStyle:"normal",fontSize:20,minFontSize:1,maxFontSize:256}}},o.hide()}else{e.total=0,console.log("Cargando deudas actuales nuevamente...");var f=d.getUrl();o.show({template:"Cargando..."}),n.post(f,{o:"obtenerProductosFull",user:e.userdata.user,clave:e.userdata.clave}).then(function(t){if(t.data.success){for(var a=0;a<t.data.data.length;a++)u.push(t.data.data[a].name),c.push(t.data.data[a].items[0].deudaActual),console.log(t.data.data[a].items[0].deudaActual),e.deudasActual[a]={name:t.data.data[a].name,number:"",id:a,ammount:"",items:[]},e.deudasActual[a].items.push(t.data.data[a].items[0]),e.deudasActual[a].number=t.data.data[a].items[0].sumNumber,e.deudasActual[a].ammount="S/"+t.data.data[a].items[0].deudaActual,e.total=parseFloat(e.total)+parseFloat(t.data.data[a].items[0].deudaActual),e.vGraph="S/"+e.total.toFixed(2);e.actuallabels=u,e.actualdata=c,e.options={responsive:!1,size:{height:500,width:500},elements:{center:{maxText:"30%",text:e.vGraph,fontColor:"#36A2EB",fontStyle:"normal",fontSize:20,minFontSize:1,maxFontSize:256}}},o.hide()}else{o.hide();i.alert({title:"Sin datos",template:""+t.data.msg+"!"})}})}e.actuallabels=u,e.actualdata=c,e.colors=["#0555fa","#ff0f64","#41b9e6","#c6c6c6","#66CD00","#EEEE00","#B8860B","#CD3700","#8E8E38","#848484"],Chart.defaults.global.colors=["#0555fa","#ff0f64","#41b9e6","#c6c6c6","#66CD00","#EEEE00","#B8860B","#CD3700","#8E8E38","#848484"],e.options={responsive:!1,size:{height:500,width:500},elements:{center:{maxText:"30%",text:e.vGraph,fontColor:"#36A2EB",fontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",fontStyle:"normal",fontSize:20,minFontSize:1,maxFontSize:256}}},o.hide(),e.toggleGroupdeudasActual=function(t){e.isGroupShowndeudasActual(t)?e.shownGroupdeudasActual=null:e.shownGroupdeudasActual=t,r.resize()},e.isGroupShowndeudasActual=function(t){return e.shownGroupdeudasActual===t},window.ionic.Platform.ready(function(){})}]),angular.module("EstadosModule").controller("consumosHorizontalCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$timeout","$ionicScrollDelegate","$rootScope","swiperOpts","$ionicPlatform","$state","$window","EstadosFactory","$q",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){function g(t){var a="";try{for(var n=e.fullData[t].length>12?12:e.fullData[t].length,o=0;o<=n-1;o++)if(e.slides[t].graphlabels.length>0&&e.slides[t].graphlabels[o]&&Object.keys(e.slides[t].graphlabels[o]).length>0){var i=e.slides[t].graphlabels[o].fecha,r=e.slides[t].graphlabels[o].energia;switch(o){case 0:a=a+'<div class="legendD" style="margin-right: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;case n:a=a+'<div class="legendD" style="margin-left: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>";break;default:a=a+'<div class="legendD"><div class="gFecha">'+i+'</div><div class="gMonto">S/ '+r+"</div></div>"}}}catch(e){console.log(e)}return a}function h(){if(e.listaCharts.length>0)for(var t=0;t<e.listaCharts.length;t++){var a=e.listaCharts[t];if(document.getElementById(a)){var n=document.getElementById(a).getContext("2d"),o=n.createLinearGradient(0,0,0,155);o.addColorStop(.2,"rgba(83, 214, 153, 1)"),o.addColorStop(1,"rgba(255, 255, 255, 1)");var i=n.createLinearGradient(0,0,0,155);i.addColorStop(.2,"rgba(76, 216, 100, 1)"),i.addColorStop(1,"rgba(255, 255, 255, 1)");for(var r=[],s=new Date,l=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],c=0;c<e.slides[t].graphdata.length;c++){var u=l[parseInt(s.getMonth())-1]+" "+s.getFullYear();e.slides[t].graphlabels[c].fecha==u?r.push(i):r.push(o)}window[a]=new Chart(n,{type:"bar",data:{labels:e.slides[t].graphdata,datasets:[{backgroundColor:r,hoverBackgroundColor:i,borderWidth:0,data:e.slides[t].graphdata}]},series:e.slides[t].graphseries,options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"single"},scales:{xAxes:[{display:!1,gridLines:{display:!1},categorySpacing:0,barPercentage:1.2}],yAxes:[{display:!1,gridLines:{display:!1},ticks:{beginAtZero:!0,display:!1}}]},tooltips:{callbacks:{label:function(e,t){return e.xLabel+" kWh"},title:function(e,t){return""}}},legend:{display:!1}}}),e.done=!0,e.Fopts=d}}}e.activeIndex=0,e.changeStateBullet=function(t){return t==e.activeIndex?"swiper-pagination-bullet-active":"";
};var v=function(){e.width=p.innerWidth-20+"px",e.height="155px",e.showGraph=!0,b(),_().then(function(){setTimeout(h,1e3),e.$broadcast("scroll.refreshComplete"),e.setDataAndLabels(0,0)})},b=function(){window.localStorage.setItem("lastPage","app.consumos"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.limitData=12,e.firstLoad=0,e.done=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.Fopts=d};e.setDataAndLabels=function(t,a){e.inicio=e.inicio+t;var n=e.inicio+12;e.limitData=12;try{if(e.inicio>=0&&e.fullData.length>0&&n<=e.fullData[a].length){e.slides[a].graphdata=[],e.slides[a].graphlabels=[];for(var i=e.inicio;i<n;i++)e.slides[a].graphdata.push(e.fullData[a][i]),e.slides[a].graphlabels.push(e.fullLabels[a][i]),e.slides[a].leyendasDoce=g(a);3==arguments.length&&window[arguments[2]]&&(window[arguments[2]].config.data.labels=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].data=e.slides[a].graphdata,window[arguments[2]].update())}else e.inicio=e.inicio-t}catch(e){console.log("error:"+e)}e.$broadcast("scroll.refreshComplete"),s.resize(),o.hide()};var _=function(){var t=m.defer();o.show({template:"Obteniendo informacion..."}),e.slides=[];var a={};return a.user=e.userdata.user,a.clave=e.userdata.clave,f.getProductos(a).then(function(a){if(a.data.success){e.userdata.account=a.data.data[0].account,e.userdata.asset=a.data.data[0].asset,e.groups=a.data.data,e.userdata.productos=a.data,e.slides=[];for(var n=0;n<a.data.data.length;n++){var r={id:n,alias:a.data.data[n].items[0].alias,sumNumber:a.data.data[n].items[0].sumNumber,leyendasDoce:"",graphid:"",graphdata:[],graphseries:["Consumo"],graphlabels:[]};e.slides.push(r),e.suministros.push(a.data.data[n].items[0].sumNumber),e.fullData[n]=[],e.fullLabels[n]=[]}f.getConsumo({suministros:e.suministros}).then(function(a){if(a.data.success){e.leyendasDoce="";for(var n=0;n<a.data.data.length;n++)for(var r=0;r<e.suministros.length;r++)e.listaCharts[r]="barH"+r,e.suministros[r]==a.data.data[n].ServiceNumber&&(e.slides[r].graphid="barH"+r,e.slides[r].graphlabels.push({fecha:a.data.data[n].BillingDate,energia:a.data.data[n].EnergyConsumption+" kWh"}),e.fullLabels[r].push({fecha:a.data.data[n].BillingDate,energia:a.data.data[n].EnergyConsumption+" kWh"}),e.slides[r].graphdata.push(a.data.data[n].EnergyConsumption),e.fullData[r].push(a.data.data[n].EnergyConsumption),e.slides[r].leyendasDoce=g(r),e.setDataAndLabels(0,r,"barH"+r)),e.$broadcast("scroll.refreshComplete");o.hide(),t.resolve()}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()})}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()}),t.promise};e.$on("$ionicSlides.slideChangeEnd",function(t,a){e.$apply(e.activeIndex=a.slider.activeIndex),e.previousIndex=a.previousIndex,s.resize()}),e.$on("$stateChangeSuccess",function(t,a){if("app.consumosHorizontal"===a.name)v();else{for(var n=document.getElementsByClassName("chart"),o=0;o<n.length;o++)n[o].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.status=!1,e.showGraph=!1,r.cancel(h)}}),e.$on("$destroy",function(){console.log("destruyo consumos");for(var t=document.getElementsByClassName("chart"),a=0;a<t.length;a++)t[a].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.status=!1,r.cancel(h)})}]),angular.module("EstadosModule").controller("consumosCtrl",["$scope","UserData","$ionicHistory","$http","$ionicLoading","$ionicPopup","$timeout","$ionicScrollDelegate","$rootScope","swiperOpts","$ionicPlatform","$state","$window","EstadosFactory","$q",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){function g(t){var a="";try{for(var n=e.fullData[t].length>3?3:e.fullData[t].length,o=0;o<=n-1;o++)if(e.slides[t].graphlabels.length>0&&e.slides[t].graphlabels[o]&&Object.keys(e.slides[t].graphlabels[o]).length>0){var i=e.slides[t].graphlabels[o].fecha,r=e.slides[t].graphlabels[o].energia;switch(o){case 0:a=a+'<div class="legendC" style="margin-right: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">'+r+"</div></div>";break;case n:a=a+'<div class="legendC" style="margin-left: 8px;"><div class="gFecha">'+i+'</div><div class="gMonto">'+r+"</div></div>";break;default:a=a+'<div class="legendC"><div class="gFecha">'+i+'</div><div class="gMonto">'+r+"</div></div>"}}}catch(e){console.log(e)}return a}function h(){if(e.listaCharts.length>0)for(var t=0;t<e.listaCharts.length;t++){var a=e.listaCharts[t];if(document.getElementById(a)){var n=document.getElementById(a).getContext("2d"),o=n.createLinearGradient(0,0,0,253);o.addColorStop(.2,"rgba(83, 214, 153, 1)"),o.addColorStop(1,"rgba(255, 255, 255, 1)");var i=n.createLinearGradient(0,0,0,253);i.addColorStop(.2,"rgba(76, 216, 100, 1)"),i.addColorStop(1,"rgba(255, 255, 255, 1)");for(var r=new Date,s=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],l=[],d=0;d<e.fullLabels[t].length;d++){var c=s[parseInt(r.getMonth())-1]+" "+r.getFullYear();e.fullLabels[t][d].fecha==c?(e.fullGradients[t].push(i),l.push(i)):(e.fullGradients[t].push(o),l.push(o))}window[a]=new Chart(n,{type:"bar",data:{labels:e.slides[t].graphdata,datasets:[{backgroundColor:l,hoverBackgroundColor:i,borderWidth:0,data:e.slides[t].graphdata}]},series:e.slides[t].graphseries,options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"single"},scales:{xAxes:[{display:!1,gridLines:{display:!1},categorySpacing:0,barPercentage:1.2}],yAxes:[{display:!1,gridLines:{display:!1},ticks:{beginAtZero:!0,display:!1}}]},tooltips:{callbacks:{label:function(e,t){return e.xLabel+" kWh"},title:function(e,t){return""}}},legend:{display:!1}}}),e.done=!0}}}e.activeIndex=0;var v=function(){e.width=p.innerWidth-20+"px",e.height="255px",e.showGraph=!0,b(),_().then(function(){setTimeout(h,1e3),e.$broadcast("scroll.refreshComplete"),e.setDataAndLabels(0,0)})},b=function(){e.Fopts=d,window.localStorage.setItem("lastPage","app.consumos"),void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(t=JSON.parse(window.localStorage.getItem("userData")),e.userdata=t):e.userdata=t,e.hideBurger=!1,e.limitData=3,e.firstLoad=0,e.done=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0}),e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.status=!1,e.toggleStatus=function(){e.status=!e.status}};e.setDataAndLabels=function(t,a){e.inicio=e.inicio+t;var n=e.inicio+3;e.limitData=3;try{if(e.inicio>=0&&e.fullData.length>0&&n<=e.fullData[a].length){e.slides[a].graphdata=[],e.slides[a].graphlabels=[],e.slides[a].graphGradients=[];for(var i=e.inicio;i<n;i++)e.slides[a].graphdata.push(e.fullData[a][i]),e.slides[a].graphlabels.push(e.fullLabels[a][i]),e.slides[a].graphGradients.push(e.fullGradients[a][i]),e.slides[a].leyendasTres=g(a);3==arguments.length&&window[arguments[2]]&&(window[arguments[2]].config.data.labels=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].data=e.slides[a].graphdata,window[arguments[2]].config.data.datasets[0].backgroundColor=e.slides[a].graphGradients,window[arguments[2]].update())}else e.inicio=e.inicio-t}catch(e){console.log("error:"+e)}e.$broadcast("scroll.refreshComplete"),s.resize(),o.hide()};var _=function(){var t=m.defer();o.show({template:"Obteniendo informacion..."}),e.slides=[];var a={};return a.user=e.userdata.user,a.clave=e.userdata.clave,f.getProductos(a).then(function(a){if(a.data.success){e.userdata.account=a.data.data[0].account,e.userdata.asset=a.data.data[0].asset,e.groups=a.data.data,e.userdata.productos=a.data,e.slides=[];for(var n=0;n<a.data.data.length;n++){var r={id:n,alias:a.data.data[n].items[0].alias,sumNumber:a.data.data[n].items[0].sumNumber,leyendasTres:"",graphid:"",graphdata:[],graphseries:["Consumo"],graphlabels:[]};e.slides.push(r),e.suministros.push(a.data.data[n].items[0].sumNumber),e.fullData[n]=[],e.fullLabels[n]=[],e.fullGradients[n]=[]}f.getConsumo({suministros:e.suministros}).then(function(a){if(a.data.success){e.leyendasTres="";for(var n=0;n<a.data.data.length;n++)for(var r=0;r<e.suministros.length;r++)e.listaCharts[r]="barC"+r,e.suministros[r]==a.data.data[n].ServiceNumber&&(e.slides[r].graphid="barC"+r,e.slides[r].graphlabels.push({fecha:a.data.data[n].BillingDate,energia:a.data.data[n].EnergyConsumption+" kWh"}),e.fullLabels[r].push({fecha:a.data.data[n].BillingDate,energia:a.data.data[n].EnergyConsumption+" kWh"}),e.slides[r].graphdata.push(a.data.data[n].EnergyConsumption),e.fullData[r].push(a.data.data[n].EnergyConsumption),e.slides[r].leyendasTres=g(r),e.setDataAndLabels(0,r,"barC"+r)),e.$broadcast("scroll.refreshComplete");o.hide(),t.resolve()}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()})}else{o.hide();i.alert({title:"Sin datos",template:""+a.data.msg+"!"});t.resolve()}},function(e){o.hide();i.alert({title:"Sin datos",template:""+e.data.msg+"!"});t.resolve()}),t.promise};e.$on("$ionicSlides.slideChangeEnd",function(t,a){e.$apply(e.activeIndex=a.slider.activeIndex),e.previousIndex=a.previousIndex,s.resize()}),e.changeStateBullet=function(t){return t==e.activeIndex?"swiper-pagination-bullet-active":""},e.$on("$stateChangeSuccess",function(t,a){if("app.consumos"===a.name)v();else{for(var n=document.getElementsByClassName("chart"),o=0;o<n.length;o++)n[o].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.status=!1,e.showGraph=!1}}),e.$on("$destroy",function(){console.log("destruyo consumos");for(var t=document.getElementsByClassName("chart"),a=0;a<t.length;a++)t[a].innerHTML="&nbsp;";e.listaCharts=[],e.suministros=[],e.inicio=0,e.fullData=[],e.fullLabels=[],e.fullGradients=[],e.status=!1,e.showGraph=!1})}]),angular.module("AccesoModule",["CoreModule","UtilsModule"]),angular.module("AccesoModule").controller("verificationPassCtrl",["$state","$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$ionicPlatform","urlService","AccesoService","UtilsFactory",function(e,t,a,n,o,i,r,s,l,d,c){t.hideBurger=!0,n.clearCache(),n.clearHistory(),n.nextViewOptions({disableBack:!0,historyRoot:!0}),t.flag=!1,t.setearNuevaClave=function(){console.log("entrando;"),t.flag=!0,o.show({template:"Validando datos ingresados..."}),""==t.userdata.user?(t.flag=!1,o.hide(),c.showAlert("Olvido de Contrase&ntilde;a","Ese es un correo electr&oacute;nico incorrecto. Vuelve a intentarlo.")):d.setearNuevaClave(t.userdata).then(function(a){if(a.data.success){window.localStorage.setItem("forgotPassword",!0),t.flag=!1,o.hide();var n=c.showAlert("Felicitaciones!",a.data.msg);n.then(function(t){e.go("entrada")})}else o.hide(),c.showAlert("Olvido de Contrase&ntilde;a",a.data.msg)})}}]),angular.module("AccesoModule").controller("verificationCtrl",["$state","$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$ionicPlatform","AccesoService","UtilsFactory",function(e,t,a,n,o,i,r,s,l,d){t.userdata=a,t.hideBurger=!0,n.clearCache(),n.clearHistory(),n.nextViewOptions({disableBack:!0,historyRoot:!0}),t.flag=!1,t.textoTitulo="Solicita tu código de seguridad",t.textoOlvido="Envíame un código",void 0==window.localStorage.getItem("forgotPassword")?(console.log("seteando texto enviame"),t.textoOlvido="Envíame un código",t.textoTitulo="Solicita tu código de seguridad"):(console.log("seteando texto reenviame"),t.textoOlvido="Reenvíame el código",t.textoTitulo="Hemos enviado un código de seguridad a tu correo eléctronico"),t.olvidoClave=function(){t.flag=!0,console.log("entrando..."),o.show({template:"Validando datos ingresados..."}),""==t.userdata.user?(t.flag=!1,o.hide(),d.showAlert("Olvido de Contrase&ntilde;a","Ese es un correo electr&oacute;nico incorrecto. Vuelve a intentarlo.")):l.recuperarClave(t.userdata).then(function(e){if(e.data.success){window.localStorage.setItem("forgotPassword",!0),t.flag=!1,o.hide();r.alert({title:"Olvido de Contrase&ntilde;a",template:e.data.msg})}else t.flag=!1,o.hide(),d.showAlert("Olvido de Contrase&ntilde;a",e.data.msg)})},t.activarCuenta=function(){t.flag=!0,o.show({template:"Verificando datos..."}),""==t.userdata.user?(t.flag=!1,o.hide(),d.showAlert("Olvido de Contrase&ntilde;a","Ese es un correo electr&oacute;nico incorrecto. Vuelve a intentarlo.")):""==t.userdata.codigo?(t.flag=!1,o.hide(),d.showAlert("Olvido de Contrase&ntilde;a","Debes ingresar el c&oacute;digo de verificaci&oacute;n. Vuelve a intentarlo.")):l.activarCuentaVerifica(t.userdata).then(function(a){if(a.data.success){t.flag=!1,o.hide(),window.localStorage.setItem("forgotPassword",void 0);var n=d.showAlert("Felicitaciones!",a.data.msg);n.then(function(t){e.go("verificationPass")})}else{t.flag=!1,o.hide();var n=r.alert({title:"Error!",template:""+a.data.msg+"!"})}})}}]),angular.module("AccesoModule").controller("validationCtrl",["$state","$scope","UserData","$ionicHistory","$ionicLoading","$http","$ionicPopup","$ionicPlatform","AccesoService","UtilsFactory",function(e,t,a,n,o,i,r,s,l,d){t.userdata=a,t.hideBurger=!0,n.clearCache(),n.clearHistory(),n.nextViewOptions({disableBack:!0,historyRoot:!0}),t.textoOlvido="Reenvíame el código",t.textoTitulo="Hemos enviado un código de seguridad a tu correo eléctronico",t.activarCuenta=function(){o.show({template:"Verificando datos..."}),""==t.userdata.user?(o.hide(),d.showAlert("Activa tu cuenta","Ese es un correo electr&oacute;nico incorrecto. Vuelve a intentarlo.")):""==t.userdata.codigo?(o.hide(),d.showAlert("Activa tu cuenta","Debes ingresar el c&oacute;digo de verificaci&oacute;n. Vuelve a intentarlo.")):l.activarCuenta(t.userdata).then(function(t){if(t.data.success){o.hide(),window.localStorage.setItem("forgotPassword",void 0);var a=d.showAlert("Activa tu cuenta",t.data.msg);a.then(function(t){e.go("app.bienvenida")})}else{o.hide();var a=r.alert({title:"Error!",template:""+t.data.msg+"!"})}})},t.olvidoClave=function(){t.flag=!0,console.log("entrando..."),o.show({template:"Validando datos ingresados..."}),""==t.userdata.user?(t.flag=!1,o.hide(),d.showAlert("Activa tu cuenta","Ese es un correo electr&oacute;nico incorrecto. Vuelve a intentarlo.")):l.recuperarClave(t.userdata).then(function(e){if(e.data.success){window.localStorage.setItem("forgotPassword",!0),t.flag=!1,o.hide();d.showAlert("Activa tu cuenta",e.data.msg)}else t.flag=!1,o.hide(),d.showAlert("Activa tu cuenta",e.data.msg)})}}]),angular.module("AccesoModule").controller("startCtrl",["$scope","UserData","$ionicHistory","$ionicPlatform",function(e,t,a,n){e.userdata=t,e.hideBurger=!0,a.clearCache(),a.clearHistory(),n.ready(function(){console.log("showing menu")})}]),angular.module("AccesoModule").controller("registroCtrl",["$scope","ngFB","UserData","$ionicPopup","$ionicLoading","$state","$http","urlService","AccesoService","UtilsFactory",function(e,t,a,n,o,i,r,s,l,d){function c(e){return expr=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,!!expr.test(e)}e.userdata=a,e.hideBurger=!1,e.continua=function(){o.show({template:"Validando Datos..."}),""==e.userdata.email?(o.hide(),d.showAlert("Registro","Ingresa nuevamente tu correo electr&oacute;nico.")):c(e.userdata.email)?""==e.userdata.clave||e.userdata.clave!=e.userdata.clave2?(o.hide(),d.showAlert("Registro","Tu contrase&ntilde;a no coincide. Vuelve a ingresarla.")):l.checkEmailUsuario(e.userdata.email).then(function(e){e.data.success?(o.hide(),d.showAlert("Registro","Ya existe una cuenta asociada a este correo electr&oacute;nico.")):(o.hide(),i.go("formRegistro"))}):(o.hide(),d.showAlert("Registro","Ingresa nuevamente tu correo electr&oacute;nico."))},e.fbLogin=function(){var t=l.checkFacebookCnn();"connected"===t.status&&""!=window.localStorage.getItem("fcTk")?(e.accessToken=window.localStorage.getItem("fcTk"),l.apiFB(e.accessToken).then(function(e){o.hide(),e.success?i.go("app.bienvenida"):d.showAlert("Registro","Tus credenciales no son correctas. Vuelve a intentarlo.")},function(e){d.showAlert("Registro","Ocurrio un error en el servidor. Vuelve a intentarlo.")})):(console.log("no conectado"),l.loginFacebook().then(function(e){if("connected"===e.status)if(e.authResponse){var t=e.authResponse.accessToken;window.localStorage.setItem("fcTk",e.authResponse.accessToken),l.apiFB(t).then(function(e){o.hide(),e.success?(e.accessToken=t,l.setDatosUsuarioFB(e),l.checkEmailUsuario(e.email).then(function(e){e.data.success?(o.hide(),d.showAlert("Registro","Ya existe una cuenta asociada a este correo electr&oacute;nico.")):(o.hide(),i.go("formRegistro"))})):d.showAlert("Registro","Tus credenciales no son correctas. Vuelve a intentarlo.")},function(e){d.showAlert("Registro","Ocurrio un error en el servidor. Vuelve a intentarlo.")})}else d.showAlert("Inicio de sesión","Ocurrio un error al iniciar sesión con Facebook, favor verifique su cuenta y conexión e intete nuevamente.");else d.showAlert("Inicio de sesión","Ocurrio un error al iniciar sesión con Facebook, favor verifique su cuenta y conexión e intete nuevamente.")}))},e.logout=function(){l.logoutFB()}}]),angular.module("AccesoModule").controller("inicioCtrl",["$scope","UserData","$ionicHistory","$ionicPlatform",function(e,t,a,n){e.userdata=t,e.hideBurger=!0,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("AccesoModule").controller("formRegistroCtrl",["$scope","$http","$ionicPopup","$ionicLoading","$state","$cordovaBarcodeScanner","$cordovaCamera","UserData","$ionicPlatform","$ionicModal","$cordovaFile","ionicDatePicker","UtilsFactory","AccesoService",function(e,t,a,n,o,i,r,s,l,d,c,u,p,f){function m(t){e.userdata.celular=t}void 0!=window.localStorage.getItem("userData")&&""!=window.localStorage.getItem("userData")?(s=JSON.parse(window.localStorage.getItem("userData")),e.userdata=s):e.userdata=s,e.hideBurger=!1,e.userdata.dniCode="x",e.modalHelp={},e.modal={},e.flag=!1,d.fromTemplateUrl("views/Modals/cameraOptions.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.ventana=t}),e.fechaNacimiento,e.filterValue=function(e){isNaN(String.fromCharCode(e.keyCode))&&e.preventDefault(),e.target.value.length>7&&e.preventDefault()},e.showDate=function(){var t={callback:function(t){var a=new Date(t);e.userdata.fechaNacimiento=a,e.fechaNacimiento=a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()}};u.openDatePicker(t)};try{window.plugins.phonenumber.get(m,failed)}catch(e){console.log("No hay opciones para obtener el numero")}d.fromTemplateUrl("views/Modals/modalCondiciones.html",{scope:e,backdropClickToClose:!1,animation:"slide-in-up"}).then(function(t){e.modal=t}),d.fromTemplateUrl("views/Modals/modalHelp.html",{scope:e,backdropClickToClose:!1,animation:"slide-in-up"}).then(function(t){e.modalHelp=t}),e.abreModal=function(){e.modal.show()},e.abreAyuda=function(){e.modalHelp.show()},e.closeModal=function(t){1==t?e.modal.hide():e.modalHelp.hide()},e.$on("modal.shown",function(e,t){console.log("Modal "+t.id+" is shown!")}),e.$on("modal.hidden",function(e,t){console.log("Modal "+t.id+" is hidden!")}),e.$on("$destroy",function(){console.log("Destroying modals..."),e.modal.remove(),e.modalHelp.remove()}),e.images=[],e.urlForImage=function(e){var t=e.substr(e.lastIndexOf("/")+1),a=cordova.file.dataDirectory+t;return a},e.closeVentana=function(){e.ventana.hide()},e.takePicture=function(){e.ventana.show()},e.camara=function(){document.addEventListener("deviceready",function(){e.flag=!0;var t={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,saveToPhotoAlbum:!0};r.getPicture(t).then(function(t){e.picData=t,e.ftLoad=!0;var a=document.getElementById("myImage");a.src=t,window.localStorage.setItem("fotoUp",t),e.userdata.imagen=t,e.closeVentana(),e.flag=!1},function(t){e.flag=!1,n.show({template:"No se pudo obtener la imagen.",duration:500})})})},e.galeria=function(){e.flag=!0;var t={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY};r.getPicture(t).then(function(t){window.resolveLocalFileSystemURI(t,function(a){e.picData=a.nativeURL,e.ftLoad=!0;var n=document.getElementById("myImage");n.src=a.nativeURL,e.userdata.imagen=t,e.closeVentana()}),e.flag=!1},function(t){e.flag=!1,n.show({template:"No se pudo copiar la foto",duration:500})})},e.currentlyScanning=!1,e.scanBarcode=function(){e.flag=!0;var t=a.alert({title:"Escanea tu DNI",cssClass:"my-custom-popup",template:'<ul class="list padding condi"><li class="">Por favor, por tu seguridad apunta la c&aacute;mara de tu celular al c&oacute;digo de barras m&aacute;s peque&ntilde;o ubicado al reverso de tu DNI.<p><center><img src="img/dni-alert.png" width="300"/></center></p></li></ul>'});t.then(function(t){n.show({template:"<ion-spinner></ion-spinner>"}),i.scan().then(function(t){e.currentlyScanning=!1,n.hide(),n.show({template:"Verificando imagen..."});var a=parseInt(t.text.substr(0,10));""!=a&&a==e.userdata.dni?(e.flag=!1,n.hide(),p.showAlert("Registro","Tu DNI ("+a+") fue validado correctamente."),e.dniCode=a):""==t.text?(e.flag=!1,n.hide(),p.showAlert("Registro","Tienes que volver a intentarlo, porque no se pudo completar la lectura del c&oacute;digo de barras de tu DNI.")):(e.flag=!1,n.hide(),p.showAlert("Registro","Tu DNI ("+a+") no ha podido ser validado. Tienes que acercarte a uno de nuestros Centros de servicio."))},function(t){e.flag=!1,n.hide(),p.showAlert("Registro","Tienes que volver a intentarlo, porque no se pudo completar la lectura del c&oacute;digo de barras de tu DNI."),console.log("Error del lector -> "+t)},{preferFrontCamera:!0,showFlipCameraButton:!0,prompt:"Para validar tus datos de manera segura, apunta la c&aacute;mara de tu celular al c&oacute;digo de barras peque&ntilde;o al costado de tu DNI.",formats:"CODE_39,PDF_417"})})},e.registrar=function(){e.flag=!0,n.show({template:"Chequeando datos..."}),""==e.userdata.alias&&(e.userdata.alias=e.userdata.nombre),""==e.userdata.documento?(e.flag=!1,n.hide(),p.showAlert("Registro","Para crear la cuenta tienes que seleccionar tu documento.")):"DNI"==e.userdata.documento&&(""==e.userdata.dni||void 0==e.userdata.dni||e.userdata.dni.length>8||!/^\d+$/.test(e.userdata.dni))?(e.flag=!1,n.hide(),p.showAlert("Registro","Para crear la cuenta tienes que ingresar tu DNI (máximo 8 caracteres numéricos).")):""==e.userdata.nombre||void 0==e.userdata.nombre?(e.flag=!1,n.hide(),p.showAlert("Registro","Para crear la cuenta tienes que ingresar tu nombre.")):"CE"!=e.userdata.documento||""!=e.userdata.ce&&void 0!=e.userdata.ce?""==e.userdata.apellidoPaterno||void 0==e.userdata.apellidoPaterno?(e.flag=!1,n.hide(),p.showAlert("Registro","Para crear la cuenta tienes que ingresar tu apellido paterno.")):"RUC"!=e.userdata.documento||""!=e.userdata.ruc&&void 0!=e.userdata.ruc?"DNI"!=e.userdata.documento&&"RUC"!=e.userdata.documento||""!=e.userdata.apellidoMaterno&&void 0!=e.userdata.apellidoMaterno?1!=e.userdata.condiciones?(e.flag=!1,n.hide(),p.showAlert("Registro","Debes aceptar los t&eacute;rminos y condiciones.")):(n.show({template:"Registrando..."}),f.registroUsuario(e.userdata).then(function(t){if(t.data.success){e.flag=!1,e.response=t.data,n.hide();var a="";a=""!=e.userdata.alias?e.userdata.alias:e.userdata.nombre,alertPopup=p.showAlert("¡Bienvenido "+a+"!",t.data.msg),alertPopup.then(function(e){o.go("validation")})}else e.flag=!1,n.hide(),p.showAlert("Registro",t.data.msg)},function(e){console.error("Error en el controlador: "+e)})):(e.flag=!1,n.hide(),p.showAlert("Registro","Para crear la cuenta tienes que ingresar tu apellido materno.")):(e.flag=!1,n.hide(),p.showAlert("Registro","Para crear la cuenta tienes que ingresar tu RUC.")):(e.flag=!1,n.hide(),p.showAlert("Registro","Para crear la cuenta tienes que ingresar tu CE."))}}]),angular.module("AccesoModule").controller("entradaContr",["$scope","$state","UserData","$ionicLoading","$http","$ionicPopup","$ionicModal","AccesoService","UtilsFactory",function(e,t,a,n,o,i,r,s,l){function d(a){s.checkUsuario(a).then(function(a){e.flag=!1,n.hide(),a.success?t.go("app.bienvenida"):l.showAlert("Registro","Tus credenciales no son correctas. Vuelve a intentarlo.")},function(t){e.flag=!1,n.hide(),l.showAlert("Registro","Ocurrio un error en el servidor. Vuelve a intentarlo.")})}e.hideBurger=!0,e.flag=!1,e.validaDatosUsuario=function(){e.flag=!0,n.show({template:"Validando datos ingresados..."}),""==e.userdata.user?(e.flag=!1,n.hide(),l.showAlert("Inicio de sesión","Ese es un correo electr&oacute;nico incorrecto. Vuelve a intentarlo.")):""==e.userdata.clave?(e.flag=!1,n.hide(),l.showAlert("Inicio de sesión","La contrase&ntilde;a no es correcta. Vuelve a intentarlo.")):(n.hide(),n.show({template:"Validando credenciales..."}),d(e.userdata))},e.fbLogin=function(){var a=s.checkFacebookCnn();"connected"===a.status&&""!=window.localStorage.getItem("fcTk")?(e.accessToken=window.localStorage.getItem("fcTk"),s.apiFB(e.accessToken).then(function(e){n.hide(),e.success?t.go("app.bienvenida"):l.showAlert("Registro","Tus credenciales no son correctas. Vuelve a intentarlo.")},function(e){n.hide(),l.showAlert("Registro","Ocurrio un error en el servidor. Vuelve a intentarlo.")})):(console.log("no conectado"),s.loginFacebook().then(function(e){if("connected"===e.status)if(e.authResponse){var t=e.authResponse.accessToken;window.localStorage.setItem("fcTk",e.authResponse.accessToken),s.apiFB(t).then(function(e){d({user:e.email,clave:"",facebookToken:t})},function(e){n.hide(),l.showAlert("Error","Ocurrio un error. Datos técnicos: "+e.message)})}else n.hide(),l.showAlert("Inicio de sesión","Ocurrio un error al iniciar sesión con Facebook, favor verifique su cuenta y conexión e intete nuevamente.");else n.hide(),l.showAlert("Inicio de sesión","Ocurrio un error al iniciar sesión con Facebook, favor verifique su cuenta y conexión e intete nuevamente.")},function(e){n.hide(),l.showAlert("Inicio de sesión","Ocurrio un error al iniciar sesión con Facebook, favor verifique su cuenta y conexión e intete nuevamente.")}))},e.logout=function(){s.logoutFB()}}]),angular.module("AccesoModule").controller("conexionCtrl",["$scope","UserData","$ionicHistory",function(e,t,a){e.userdata=t,e.hideBurger=!1,a.clearCache(),a.clearHistory(),a.nextViewOptions({disableBack:!0,historyRoot:!0})}]),angular.module("AccesoModule").controller("cerrarCtrl",["$state","$scope","UserData","$ionicHistory","$ionicPlatform",function(e,t,a,n,o){window.localStorage.setItem("lastPage","inicio"),window.localStorage.setItem("userData",""),window.localStorage.setItem("fcTk",""),window.localStorage.removeItem("reloadFlag"),t.userdata={},t.hideBurger=!0,t.userdata.user="",t.userdata.contact="",t.userdata.contract="",t.userdata.account="",t.userdata.asset="",t.userdata.edLc="",t.userdata.edGroup="",t.userdata.email="",t.userdata.clave="",t.userdata.clave2="",t.userdata.claveNueva="",t.userdata.claveNueva2="",t.userdata.codigo="",t.userdata.nombre="",t.userdata.apellidoPaterno="",t.userdata.apellidoMaterno="",t.userdata.alias="",t.userdata.celular="",t.userdata.sexo="",t.userdata.fechaNacimiento="",t.userdata.imagen="",t.userdata.dni="",t.userdata.ruc="",t.userdata.ce="",t.userdata.documento="",t.userdata.condiciones=!1,t.userdata.publicidad=!1,t.userdata.notificaciones=!1,t.userdata.facebookUser="",t.userdata.facebookToken="",t.userdata.facebookImagen="",t.userdata.autoNombre="",t.userdata.autoApellido="",t.userdata.autoDni="",t.userdata.autoEmail="",t.userdata.autoSuministro="",t.userdata.suministros=[],t.userdata.productos=[],t.userdata.autorizados=[],t.userdata.pagos=[],a=t.userdata,n.clearCache(),n.clearHistory(),n.nextViewOptions({disableBack:!0,historyRoot:!0}),o.ready(function(){e.go("inicio")})}]),angular.module("MapasModule").factory("MapDataFactory",["$state","MapasProvider",function(e,t){mapdata={},mapdata.lastPosition={},mapdata.centros=[],mapdata.otros=[],mapdata.non=[],mapdata.sucursales=[],mapdata.sucursalesLista=[],mapdata.mapDescripcion={},mapdata.mDCM={};var a,n;return 0==mapdata.centros.length&&t.mapRequest().then(function(t){function o(t,a){google.maps.event.addListener(t,"click",function(){e.go("app.descripcion",a)})}for(var i=0;i<t.data.length;i++)if(a=parseFloat(t.data[i].Latitud),n=parseFloat(t.data[i].Longitud),"Centro de servicio"==t.data[i].Tipo){var r={url:"img/map-blue-21x32.png",size:new google.maps.Size(21,32),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,21)};if(!isNaN(a)&&!isNaN(n)){var s=new google.maps.Marker({position:{lat:a,lng:n},icon:r,title:t.data[i].Tipo,zIndex:i+1}),l=t.data[i].Imagen.substring(t.data[i].Imagen.indexOf('src="')+5,t.data[i].Imagen.length-1),d=l.substring(0,l.indexOf('"'));window["image"+i]=new Image,window["image"+i].src=d;var c={imagen:t.data[i].Imagen,titulo:t.data[i].Titulo,detalle:t.data[i].Detalle,horariocomercial:t.data[i].HorarioAtencion,horariopago:t.data[i].HorarioPago,horariocomunidades:t.data[i].HorarioExtra,tipo:t.data[i].Tipo,nota:t.data[i].Note,lat:a,lon:n,lastpage:"app.atencionMapa"};o(s,c),mapdata.centros.push(s),mapdata.sucursales.push({imagen:t.data[i].Imagen,titulo:t.data[i].Titulo,detalle:t.data[i].Detalle,horariocomercial:t.data[i].HorarioAtencion,horariopago:t.data[i].HorarioPago,horariocomunidades:t.data[i].HorarioExtra,tipo:t.data[i].Tipo,nota:t.data[i].Note,lat:a,lon:n,indice:i,repo:1}),mapdata.sucursalesLista.push({imagen:t.data[i].Imagen,titulo:t.data[i].Titulo,detalle:t.data[i].Detalle,horariocomercial:t.data[i].HorarioAtencion,horariopago:t.data[i].HorarioPago,horariocomunidades:t.data[i].HorarioExtra,tipo:t.data[i].Tipo,nota:t.data[i].Note,lat:a,lon:n,indice:i,repo:1})}}else if("Otros puntos de pago"==t.data[i].Tipo){var r={url:"img/map-orange-21x32.png",size:new google.maps.Size(21,32),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,21)};if(isNaN(a)||isNaN(n))mapdata.non.push(t.data[i]);else{var s=new google.maps.Marker({position:{lat:a,lng:n},icon:r,title:t.data[i].Tipo,zIndex:i+1}),c={titulo:t.data[i].Titulo,detalle:t.data[i].Detalle,horariocomercial:t.data[i].HorarioAtencion,horariopago:t.data[i].HorarioPago,horariocomunidades:t.data[i].HorarioExtra,tipo:t.data[i].Tipo,nota:t.data[i].Note,lat:a,lon:n,indice:i,repo:2,lastpage:"app.atencionMapa"};o(s,c),mapdata.otros.push(s),mapdata.sucursales.push({imagen:"",titulo:t.data[i].Titulo,detalle:t.data[i].Detalle,horarioatencion:"",horariopago:"",horariocomunidades:"",tipo:t.data[i].Tipo,nota:t.data[i].Note,lat:a,lon:n,indice:i,repo:2})}}}),mapdata}]),angular.module("EstadosModule").factory("EstadosFactory",["$state","$q","EstadosProvider",function(e,t,a){var n=function(e){var n=t.defer();return a.getProductos(e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},o=function(e){var n=t.defer();return a.getConsumo(e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},i=function(e){var n=t.defer();return a.getFacturaciones(e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},r=function(e){var n=t.defer();return a.getPagos(e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise};return{getProductos:n,getConsumo:o,getFacturaciones:i,getPagos:r}}]),angular.module("appenel",["ionic","nlFramework","ngCordova","ngOpenFB","sw2.ionic.input-clearable","ionic-datepicker","ng-walkthrough","AccesoModule","AlertasModule","AnaliticaModule","CoreModule","EstadosModule","MapasModule","NotificacionesModule","UtilsModule"]),angular.module("appenel").factory("UserData",[function(){return userdata={},userdata.hideBurger=!1,userdata.user="",
userdata.contact="",userdata.contract="",userdata.account="",userdata.asset="",userdata.edLc="",userdata.edGroup="",userdata.email="",userdata.clave="",userdata.clave2="",userdata.claveNueva="",userdata.claveNueva2="",userdata.codigo="",userdata.nombre="",userdata.apellidoPaterno="",userdata.apellidoMaterno="",userdata.alias="",userdata.celular="",userdata.sexo="",userdata.fechaNacimiento="",userdata.imagen="",userdata.dni="",userdata.dniCode="",userdata.ruc="",userdata.ce="",userdata.documento="",userdata.condiciones=!1,userdata.publicidad=!1,userdata.notificaciones=!1,userdata.facebookUser="",userdata.facebookToken="",userdata.facebookImagen="",userdata.autoNombre="",userdata.autoApellido="",userdata.autoDni="",userdata.autoEmail="",userdata.autoSuministro="",userdata.suministros=[],userdata.productos=[],userdata.autorizados=[],userdata.pagos=[],userdata.lastPage="",userdata}]),angular.module("AccesoModule").factory("CoreService",["CoreProvider","UtilsFactory","$q",function(e,t,a){return pub={},pub.editarPerfil=function(t){var n=a.defer();return e.editarPerfil(t).then(function(e){n.resolve(e)},function(e){console.error("Error en AccesoService: "+e),n.reject(e)}),n.promise},pub.editarContacto=function(t){var n=a.defer();return e.editarContacto(t).then(function(e){n.resolve(e)},function(e){console.error("Error en AccesoService: "+e),n.reject(e)}),n.promise},pub.bloquearAutorizado=function(t){var n=a.defer();return e.bloquearAutorizado(t).then(function(e){n.resolve(e)},function(e){console.error("Error en AccesoService: "+e),n.reject(e)}),n.promise},pub.autorizarUsuario=function(t){var n=a.defer();return e.autorizarUsuario(t).then(function(e){n.resolve(e)},function(e){console.error("Error en AccesoService: "+e),n.reject(e)}),n.promise},pub.editarAliasSuministro=function(t,n){var o=a.defer();return e.editarAliasSuministro(t,n).then(function(e){o.resolve(e)},function(e){console.error("Error en AccesoService: "+e),o.reject(e)}),o.promise},pub}]);var AnaliticaModule=angular.module("AnaliticaModule",[]);angular.module("AnaliticaModule").value("googleAnalyticsId","UA-73813005-1"),angular.module("AnaliticaModule").factory("GoogleAnalytics",["$log",function(e){function t(a){"undefined"!=typeof window.analytics?(window.analytics.trackView(a),e.log("Tracked pageview")):setTimeout(function(){t(a)},250)}function a(e,t,n){"undefined"!=typeof window.analytics?window.analytics.trackEvent(e,t,n):setTimeout(function(){a(e,t,n)},250)}var n={};return n.analyticsRunning=!1,n.isMobile=function(){return!("Macintosh"===navigator.userAgent.match(/Macintosh/i)||"Windows"===navigator.userAgent.match(/Windows/i)||"Unix"===navigator.userAgent.match(/Unix/i))},n.startAnalytics=function(){n.isMobile()&&("undefined"!=typeof window.analytics?(window.analytics.startTrackerWithId("UA-73813005-1"),window.analytics.debugMode(),n.analyticsRunning=!0):e.log("Analytics no inicializado"))},n.trackView=function(e){n.isMobile()?t(e):ga("send","screenview",{screenName:e})},n.trackEvent=function(t,o,i){i=i||"",n.isMobile()?a(t,o,i):(ga("send",{hitType:"event",eventCategory:t,eventAction:o,eventLabel:i}),e.log("Tracked event"))},n}]),angular.module("AnaliticaModule").factory("AnaliticaFactory",["AnaliticaProvider",function(e){return{evento:function(t,a,n){e.evento(t,a,n)},pantalla:function(t){e.pantalla(t)}}}]),angular.module("UtilsModule",[]),angular.module("UtilsModule").factory("UtilsFactory",["$window","$ionicPopup","urlService",function(e,t,a){var n=function(t){var a=e.localStorage.getItem(t);return a?a:""},o=function(t,a){return t?void e.localStorage.setItem(t,a):""},i=function(e,t,a,n,o){PopupFactory.show(e,t,a||"info",n,o)},r=function(e,a){return t.alert({title:e,template:a})},s=a.getUrl(),l={"Content-type":"application/json"},d="POST";return{tooltip:i,getLocalStorageItem:n,setLocalStorageItem:o,showAlert:r,getURL:s,getHeaders:l,getMethod:d}}]),angular.module("appenel").factory("urlService",function(){return pub={},pub.getUrl=function(){return endpoints.URL},pub}),angular.module("appenel").factory("swiperOpts",function(){return{loop:!1,pagination:".custom-swiper-pagination",paginationHide:!1,paginationClickable:!0,direction:"horizontal",spaceBetween:40,speed:600}}),angular.module("NotificacionesModule").factory("NotificacionesFactory",["NotificacionesProvider","$q",function(e,t){var a=function(a,n,o){var i=t.defer();return e.getNotificaciones(a,n,o).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise};return{getNotificaciones:a}}]),angular.module("AccesoModule").factory("AccesoService",["RegistroProvider","EntradaProvider","ValidationProvider","UtilsFactory","$q","ngFB","UserData",function(e,t,a,n,o,i,r){pub={},pub.registroUsuario=function(t){var a=o.defer();return""==t.user&&(t.user=t.email),e.sendRegistroUsuario(t).then(function(e){n.setLocalStorageItem("userData",JSON.stringify(t)),a.resolve(e)},function(e){console.error("Error en AccesoService: "+e),a.reject(e)}),a.promise};var s=function(e){return userData={contact:e.data.data.contact,user:e.data.data.user,email:e.data.data.email,nombre:e.data.data.nombre,apellidoPaterno:e.data.data.apellido,alias:e.data.data.alias,celular:e.data.data.celular,sexo:e.data.data.sexo,fechaNacimiento:e.data.data.fechaNacimiento,imagen:e.data.data.imagen,publicidad:"f"!=e.data.data.publicidad,notificaciones:"f"!=e.data.data.notificaciones,facebookUser:e.data.data.facebookUser,facebookToken:e.data.data.facebookToken,facebookImagen:e.data.data.facebookImagen,contract:e.data.data.contract,account:e.data.data.account,dni:e.data.data.dni,ruc:e.data.data.ruc,ce:e.data.data.ce,suministros:e.data.data.suministros.data,productos:e.data.data.productos,autorizados:e.data.data.autorizados,pagos:e.data.data.pagos},n.setLocalStorageItem("userData",JSON.stringify(userData)),userData};return pub.setDatosUsuarioFB=function(e){var t=r;t.email=e.email,t.user=e.email,t.nombre=e.first_name,t.apellidoPaterno=e.last_name,t.alias=e.name,t.sexo=e.gender,t.imagen=e.picture.data.url,t.facebookUser=e.email,t.facebookToken=e.accessToken,t.facebookImagen=e.picture.data.url;var a=new Date(e.birthday);t.fechaNacimiento=a,n.setLocalStorageItem("userData",JSON.stringify(t))},pub.checkUsuario=function(e){var a=o.defer(),i={email:e.user,clave:e.clave,facebookToken:e.facebookToken?e.facebookToken:"",pushID:void 0==n.getLocalStorageItem("pushID")?"":n.getLocalStorageItem("pushID")};return t.sendCheckUsuario(i).then(function(e){e.data.error?(userData={},userData.success=!1,a.resolve(userData)):(userData=s(e),userData.success=!!e.data.success,a.resolve(userData))},function(e){a.reject(e)}),a.promise},pub.checkFacebookCnn=function(){return i.getLoginStatus()},pub.apiFB=function(e){var t=o.defer();return i.api({path:"/me",params:{access_token:e,fields:"name,first_name,last_name,picture,email,gender,birthday,locale,bio"}}).then(function(e){e&&(e.success=!0),t.resolve(e)},function(e){e?e.success=!1:(e={},e.success=!1),t.reject(e)}),t.promise},pub.loginFacebook=function(){var e=o.defer();return i.login({scope:"email,public_profile,publish_actions,user_birthday"}).then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise},pub.logoutFB=function(e){i.logout().then(function(){n.showAlert("Cerrar de sesión","Cierre de sesión de Facebook exitoso.")},function(){n.showAlert("Cerrar de sesión","Ocurrio un error al cerrar sesión de Facebook.")})},pub.checkEmailUsuario=function(t){var a=o.defer();return obj={},obj.email=t,e.sendCheckEmailUsuario(obj).then(function(e){a.resolve(e)},function(e){console.error("Error en AccesoService: "+e),a.reject(e)}),a.promise},pub.activarCuenta=function(e){var t=o.defer();return a.activarCuenta(e).then(function(e){t.resolve(e)},function(e){console.error("Error en AccesoService: "+e),t.reject(e)}),t.promise},pub.activarCuentaVerifica=function(e){var t=o.defer();return a.activarCuentaVerifica(e).then(function(e){t.resolve(e)},function(e){console.error("Error en AccesoService: "+e),t.reject(e)}),t.promise},pub.recuperarClave=function(e){var t=o.defer();return a.recuperarClave(e).then(function(e){t.resolve(e)},function(e){console.error("Error en AccesoService: "+e),t.reject(e)}),t.promise},pub.setearNuevaClave=function(e){var t=o.defer();return a.setearNuevaClave(e).then(function(e){t.resolve(e)},function(e){console.error("Error en AccesoService: "+e),t.reject(e)}),t.promise},pub}]),angular.module("AccesoModule").factory("CoreProvider",["ServiceProvider","UtilsFactory","$q",function(e,t,a){return pub={},pub.editarPerfil=function(n){var o={o:"editarPerfil",contactId:n.contact,imagen:n.imagen,alias:n.alias,clave:n.claveNueva},i="",r=a.defer();return e.call(t.getURL,i,o,t.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},t.getMethod),r.promise},pub.editarContacto=function(n){var o={o:"editarContacto",contactId:n.contact,celular:n.celular,publicidad:n.publicidad,email:n.email,notificaciones:n.notificaciones},i="",r=a.defer();return e.call(t.getURL,i,o,t.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},t.getMethod),r.promise},pub.bloquearAutorizado=function(n){var o={o:"bloquearUsuario",id:n},i="",r=a.defer();return e.call(t.getURL,i,o,t.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},t.getMethod),r.promise},pub.autorizarUsuario=function(n){var o={o:"autorizarUsuario",dni:n.autoDni,nombre:n.autoNombre,apellido:n.autoApellido,email:n.autoEmail,suministro:n.autoSuministro,contactId:n.contact,relationship:"Inquilino"},i="",r=a.defer();return e.call(t.getURL,i,o,t.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},t.getMethod),r.promise},pub.editarAliasSuministro=function(n,o){var i={o:"editarAliasSuministro",lcId:o,newAlias:n},r="",s=a.defer();return e.call(t.getURL,r,i,t.getHeaders,function(e){s.resolve(e)},function(e){s.reject(e)},t.getMethod),s.promise},pub}]),angular.module("AnaliticaModule").factory("AnaliticaProvider",["$http","$cordovaDevice","$rootScope",function(e,t,a){function n(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)});return t}var o=n();return{evento:function(i,r,s){var l;try{l=t.getPlatform()}catch(e){l="Web"}o||(o=n());var d={method:"GET",url:endpoints.ENDPOINTS_ANALYTICS,params:{cid:o,v:1,tid:a.translation.ID_ANALYTICS,t:"event",an:a.translation.APP_NAME,av:a.translation.VERSION_APP,aid:a.translation.ID_APP,cs:l,el:i,ec:r,ea:s,ua:a.analiticaUa}};e(d)},pantalla:function(i){var r;try{r=t.getPlatform()}catch(e){r="Web"}o||(o=n());var s={method:"GET",url:endpoints.ENDPOINTS_ANALYTICS,params:{cid:o,v:1,tid:a.translation.ID_ANALYTICS,t:"screenview",an:a.translation.APP_NAME,av:a.translation.VERSION_APP,aid:a.translation.ID_APP,cs:r,cd:i,ua:a.analiticaUa}};e(s)}}}]),angular.module("AccesoModule").factory("ValidationProvider",["ServiceProvider","urlService","UtilsFactory","$q",function(e,t,a,n){return pub={},pub.activarCuenta=function(t){var o={o:"checkCodeNew",user:t.user,codigo:t.codigo,pushID:void 0==a.getLocalStorageItem("pushID")?"":a.getLocalStorageItem("pushID")},i="",r=n.defer();return e.call(a.getURL,i,o,a.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},a.getMethod),r.promise},pub.activarCuentaVerifica=function(t){var o={o:"checkCodeForgot",user:t.user,codigo:t.codigo},i="",r=n.defer();return e.call(a.getURL,i,o,a.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},a.getMethod),r.promise},pub.recuperarClave=function(t){var o={o:"recuperarClave",user:t.user,codigo:t.codigo},i="",r=n.defer();return e.call(a.getURL,i,o,a.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},a.getMethod),r.promise},pub.setearNuevaClave=function(t){var o={o:"setearNuevaClave",user:t.user,codigo:t.codigo},i="",r=n.defer();return e.call(a.getURL,i,o,a.getHeaders,function(e){r.resolve(e)},function(e){r.reject(e)},a.getMethod),r.promise},pub}]),angular.module("appenel").provider("ServiceProvider",function(){var e=!1,t=[];return Object.toparams=function(e){var t=[];for(var a in e)t.push(a+"="+encodeURIComponent(e[a]));return t.join("&")},{$get:["$rootScope","$http","UtilsFactory","$log","$q",function(a,n,o,i,r){var s=function(a,o,s,l,c,u,p){var f=_.uniqueId();i.debug("["+f+"] REQUEST "+p,a);var m=r.defer();m.promise.then(function(e){c(e)},function(e){u(e)});var g={method:p,responseType:"json",url:a,headers:l,params:o,data:JSON.stringify(s),timeout:endpoints.SETUP.TIMEOUT};if(_.findIndex(t,g)>=0&&e)return!1;try{t.push(g),n(g).then(function(e){t=_.drop(t,g),m.resolve(e)},function(e){t=_.drop(t,g),null==e.data&&(e=d),m.reject(e)})}catch(e){m.reject(e)}return m.promise},l=function(e,t,a,n,o,i){s(e,t,a,n,o,i,"POST")},d={data:{status:"200",msg:"Se alcanzó el tiempo máximo de espera"},status:200};return{call:l}}]}}),angular.module("AccesoModule").factory("RegistroProvider",["ServiceProvider","UtilsFactory","$q",function(e,t,a){var n={};return n.sendRegistroUsuario=function(n){var o=a.defer(),i="";return n.o="registrar",e.call(t.getURL,i,n,t.getHeaders,function(e){o.resolve(e)},function(e){o.reject(e)},"POST"),o.promise},n.sendCheckEmailUsuario=function(n){var o="";n.o="checkU";var i=a.defer();return e.call(t.getURL,o,n,t.getHeaders,function(e){i.resolve(e)},function(e){i.reject(e)},t.getMethod),i.promise},n}]),angular.module("NotificacionesModule").factory("NotificacionesProvider",["ServiceProvider","urlService","$q",function(e,t,a){var n=function(n,o,i){"obtenerCortesProgramados"===n?console.log("Obteniendo datos para Cortes Programados"):"obtenerCortesImprevistos"===n?console.log("Obteniendo datos para Cortes Imprevistos"):console.log("Obteniendo datos para Notificaciones");var r=a.defer(),s=t.getUrl(),l="",d={};return d.o=n,d.contactId=o,d.suministros=i,console.log("data.o:"+d.o),console.log("data.contactId:"+d.contactId),console.log("data.suministros:"+d.suministros),e.call(s,l,d,{"Content-type":"application/json"},function(e){r.resolve(e)},function(e){r.reject(e)},"POST"),r.promise};return{getNotificaciones:n}}]),angular.module("MapasModule").factory("MapasProvider",["ServiceProvider","UtilsFactory","$q","$http",function(e,t,a,n){var o=function(){var n="",o={};o.o="obtenerDatosMapa";var i=a.defer();return e.call(t.getURL,n,o,t.getHeaders,function(e){i.resolve(e)},function(e){i.reject(e)},t.getMethod),i.promise};return{mapRequest:o}}]),angular.module("EstadosModule").factory("EstadosProvider",["$q","urlService","ServiceProvider",function(e,t,a){var n=function(n){var o=e.defer(),i=t.getUrl(),r="",s={"Content-type":"application/json"};return n.o="obtenerProductosFull",a.call(i,r,n,s,function(e){o.resolve(e)},function(e){o.reject(e)},"POST"),o.promise},o=function(n){var o=e.defer(),i=t.getUrl(),r="",s={"Content-type":"application/json"};return n.o="obtenerConsumos",a.call(i,r,n,s,function(e){o.resolve(e)},function(e){o.reject(e)},"POST"),o.promise},i=function(n){var o=e.defer(),i=t.getUrl(),r="",s={"Content-type":"application/json"};return n.o="obtenerFacturaAno",a.call(i,r,n,s,function(e){o.resolve(e)},function(e){o.reject(e)},"POST"),o.promise},r=function(n){var o=e.defer(),i=t.getUrl(),r="",s={"Content-type":"application/json"};return n.o="obtenerPagosAno",a.call(i,r,n,s,function(e){o.resolve(e)},function(e){o.reject(e)},"POST"),o.promise};return{getProductos:n,getConsumo:o,getFacturaciones:i,getPagos:r}}]),angular.module("AccesoModule").factory("EntradaProvider",["ServiceProvider","urlService","UtilsFactory","$q",function(e,t,a,n){return pub={},pub.sendCheckUsuario=function(t){var o="";t.o="check";var i=n.defer();return e.call(a.getURL,o,t,a.getHeaders,function(e){i.resolve(e)},function(e){i.reject(e)},a.getMethod),i.promise},pub}]),angular.module("UtilsModule").factory("DebugFactory",["$window","$cordovaDevice",function(e,t){var a="enel-regional.report.txt",n={create:!0},o=function(i){try{var r="iOS"===t.getPlatform()?cordova.file.dataDirectory:cordova.file.externalDataDirectory;e.resolveLocalFileSystemURL(r,function(e){e.getFile(a,n,function(e){e.file(function(t){if(t.size<1e5){var a=new FileReader;a.onloadend=function(t){void 0===t.target.result&&null===t.target.result||(0===t.target.result.length?e.createWriter(function(e){var t="{{<><><>}}",a=t.replace("{{<><><>}}","{{<><><>}}"+i);e.seek(0),e.write(a)}):e.createWriter(function(e){e.seek(0);var a=t.target.result;a=a.replace("{{<><><>}}","{{<><><>}}"+i),e.write(a)}))},a.readAsText(t)}else e.remove(function(){o(i)},function(){})})},function(){})},function(){})}catch(e){}},i=function(){var e,t=new Date,a="";for(e in arguments)"object"==typeof arguments[e]?(a+="::Object|| ",a+=angular.toJson(arguments[e]),a+=" ||EndObject::"):a+=0===e?arguments[e]:arguments[e]+" ",0===e&&(a+=":|"+t.toString()+"|: ");a+="\n",o(a)};return{put:i}}]),angular.module("appenel").config(["$stateProvider","$urlRouterProvider",function(e,t){void 0==window.localStorage.getItem("isLogged")?t.otherwise("/tutorial"):t.otherwise("/inicio"),e.state("tabsController",{url:"/tabsController",templateUrl:"views/Core/tabsController.html",abstract:!0}).state("app",{url:"/app",abstract:!0,templateUrl:"views/Core/menu.html",controller:"menuCtrl"}).state("inicio",{url:"/inicio",templateUrl:"views/Acceso/inicio.html",controller:"startCtrl"}).state("registro",{url:"/registro",templateUrl:"views/Acceso/registro.html",controller:"registroCtrl"}).state("entrada",{url:"/entrada",templateUrl:"views/Acceso/entrada.html",controller:"entradaContr"}).state("formRegistro",{url:"/formRegistro",templateUrl:"views/Acceso/formRegistro.html",controller:"formRegistroCtrl"}).state("app.tutoLogged",{url:"/tutoLogged",templateUrl:"views/Core/tutoLogged.html",controller:"tutoLoggedCtrl"}).state("validation",{url:"/validation",templateUrl:"views/Acceso/validation.html",controller:"validationCtrl"}).state("app.bienvenida",{url:"/bienvenida",templateUrl:"views/Core/bienvenida.html",controller:"bienvenidaCtrl"}).state("app.productos",{url:"/mis-productos",templateUrl:"views/Estados/deudaactual.html",controller:"deudasActualCtrl"}).state("app.deudaanterior",{url:"/deudaanterior",templateUrl:"views/Estados/deudaanterior.html",controller:"deudasAnteriorCtrl"}).state("app.facturaciones",{url:"/facturaciones",templateUrl:"views/Estados/facturaciones.html",controller:"facturacionesCtrl"}).state("app.consumos",{url:"/consumos",templateUrl:"views/Estados/consumos.html",controller:"consumosCtrl"}).state("app.pagos",{url:"/pagos",templateUrl:"views/Estados/pagos.html",controller:"pagosCtrl"}).state("app.cortesprogramados",{url:"/cortesprogramados",templateUrl:"views/Notificaciones/cortesprogramados.html",controller:"cortesprogramadosCtrl"}).state("app.cortesimprevistos",{url:"/cortesimprevistos",templateUrl:"views/Notificaciones/cortesimprevistos.html",controller:"cortesimprevistosCtrl"}).state("app.puntosatencion",{url:"/puntosatencion",templateUrl:"views/Mapas/puntosatencion.html",controller:"puntosatencionCtrl"}).state("app.informacion",{url:"/informacion",templateUrl:"views/Core/informacion.html",controller:"informacionCtrl"}).state("app.financiamiento",{url:"/financiamiento",templateUrl:"views/Core/financiamiento.html",controller:"financiamientoCtrl"}).state("app.conexion",{url:"/conexion",templateUrl:"views/Core/conexion.html",controller:"conexionCtrl"}).state("app.datos-opcion2",{url:"/datos-opcion2",templateUrl:"views/Core/datos-opcion2.html",controller:"datos-opcion2Ctrl"}).state("app.datos-opcion3",{url:"/datos-opcion3",templateUrl:"views/Core/datos-opcion3.html",controller:"datos-opcion3Ctrl"}).state("app.datos",{url:"/datos",templateUrl:"views/Core/datos.html",controller:"datosCtrl"}).state("app.cerrar",{url:"/cerrar",cache:!1,templateUrl:"views/Acceso/cerrar.html",controller:"cerrarCtrl"}).state("app.atencionMapa",{url:"/puntos-atencion-mapa",templateUrl:"views/Mapas/puntos-atencion-mapa.html",controller:"puntosatencionmapaCtrl"}).state("app.notificaciones",{url:"/notificaciones",templateUrl:"views/Notificaciones/notificaciones.html",controller:"notificacionesCtrl"}).state("app.descripcion",{url:"/descripcion-punto.html?imagen&titulo&detalle&horariocomercial&horariopago&horariocomunidades&lat&lon&lastpage&tipo&nota",templateUrl:"views/Mapas/descripcion-punto.html",controller:"descripcionpuntoCtrl"}).state("app.contactanos",{url:"/contactanos",templateUrl:"views/Core/contactanos.html",controller:"contactanosCtrl"}).state("tutorial",{url:"/tutorial",templateUrl:"views/Core/tutorial.html",controller:"tutorialCtrl"}).state("verification",{url:"/verification",templateUrl:"views/Acceso/verification.html",controller:"verificationCtrl"}).state("verificationPass",{url:"/verificationPass",templateUrl:"views/Acceso/verificationPass.html",controller:"verificationPassCtrl"}).state("app.opcionesDePago",{url:"/opciones-pago",templateUrl:"views/Mapas/opciones-pago.html",controller:"opcionesDePagoCtrl"}).state("app.consumosHorizontal",{url:"/consumos-horizontal",templateUrl:"views/Estados/consumos-horizontal.html",controller:"consumosHorizontalCtrl"}).state("app.facturacionesHorizontal",{url:"/facturaciones-horizontal",templateUrl:"views/Estados/facturaciones-horizontal.html",controller:"facturacionesHorizontalCtrl"}).state("app.pagosHorizontal",{url:"/pagos-horizontal",templateUrl:"views/Estados/pagos-horizontal.html",controller:"pagosHorizontalCtrl"})}]),angular.module("appenel").config(["ionicDatePickerProvider",function(e){var t={inputDate:new Date,setLabel:"Listo",todayLabel:"Hoy",closeLabel:"Cerrar",mondayFirst:!0,weeksList:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],monthsList:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],templateType:"popup",to:new Date,showTodayButton:!0,dateFormat:"D-M-Y",closeOnSelect:!0};e.configDatePicker(t)}]).config(["$provide",function(e){e.decorator("$interval",["$delegate","$rootScope",function(e,t){var a=function(){var a=arguments,n=Function.prototype.bind.call(e),o=n.apply(e,a);t.$on("$App.pause",function(){e.cancel(o)}),t.$on("$App.resume",function(){n=Function.prototype.bind.call(e),o=n.apply(e,a)})};return a.cancel=e.cancel,a}])}]).config(["$provide",function(e){e.decorator("numberFilter",["$delegate","$locale",function(e){return function(t,a){var n=parseFloat(t,a);return _.isNaN(n)?_.isString(t)?t:void 0:e(t,a)}}])}]).config(["$provide",function(e){e.decorator("dateFilter",["$delegate",function(e){return e=function(e,t,a){var n=moment().utcOffset();if(a||(n=moment().utcOffset(),n<=0&&(n=-1*n)),"string"==typeof e&&e.indexOf("/")>=0){var o=moment(e.replace(/\//g,"-"),"DD/MM/YYYY").utcOffset(n).format(t);return"Invalid Date"!=o?o:e}var i=moment(new Date(e)).utcOffset(n).format(t);return"Invalid Date"!=moment(i).utcOffset(n)&&(i=new Date(e),"Invalid Date"==i)?e:moment(i).utcOffset(n).format(t)}}])}]).config(["$provide",function(e){e.decorator("$log",["$delegate","DebugFactory",function(e,t){var a="color: #3DBF9F; font-family: sans-serif; font-weight: bold; font-style: italic;",n="color: #404040; font-family: sans-serif; font-weight: bold;",o="color: #E64E30; font-family: sans-serif; font-weight: bold;",i="color: red; font-family: sans-serif; font-weight: bold;",r="color: #6372C9; font-family: sans-serif; font-weight: bold; font-style: italic;",s="color: #00BDFF; font-family: sans-serif; font-weight: bold;",l="color: #5D6662; font-family: sans-serif; font-style: italic;",d="color: #FFD84B; font-family: sans-serif; font-weight: bold; font-style: italic;";return window.onerror=e.fatal=function(e,a,n,o,r){window.console.groupCollapsed("%cFATAL: "+e,i),window.console.info("%cARCHIVO: ",s,a+":"+n+":"+o),window.console.error("%cDETALLE: ",s,r.stack),window.console.groupEnd();var l=["[FATAL]",e,a+":"+n+":"+o,r.stack],d=Function.prototype.bind.call(t.put,t);d.apply(t.put,l)},e.trace=function(){var e=["%cTRACE:",a],n=Array.prototype.slice.call(arguments);e.push(n),e=_.flattenDeep(e);var o=Function.prototype.bind.call(window.console.log,console);o.apply(window.console.log,e);var i=["[TRACE]"];i.push(n),i=_.flattenDeep(i);var r=Function.prototype.bind.call(t.put,t);r.apply(t.put,i)},e.log=function(){var e=["%cLOG:",n],a=Array.prototype.slice.call(arguments);e.push(a),e=_.flattenDeep(e);var o=Function.prototype.bind.call(window.console.log,console);o.apply(window.console.log,e);var i=["[LOG]"];i.push(a),i=_.flattenDeep(i);var r=Function.prototype.bind.call(t.put,t);r.apply(t.put,i)},e.warn=function(){var e=["%cWARNING:",d],a=Array.prototype.slice.call(arguments);e.push(a),e=_.flattenDeep(e);var n=Function.prototype.bind.call(window.console.warn,console);n.apply(window.console.warn,e);var o=["[WARNING]"];o.push(a),o=_.flattenDeep(o);var i=Function.prototype.bind.call(t.put,t);i.apply(t.put,o)},e.debug=function(){var e=["%cDEBUG:",r],a=Array.prototype.slice.call(arguments);e.push(a),e=_.flattenDeep(e);var n=Function.prototype.bind.call(window.console.debug,console);n.apply(window.console.debug,e);var o=["[DEBUG]"];o.push(a),o=_.flattenDeep(o);var i=Function.prototype.bind.call(t.put,t);i.apply(t.put,o)},e.info=function(){var e=["%cINFO:",s],a=Array.prototype.slice.call(arguments);e.push(a),e=_.flattenDeep(e);var n=Function.prototype.bind.call(window.console.info,console);n.apply(window.console.info,e);var o=["[INFO]"];o.push(a),o=_.flattenDeep(o);var i=Function.prototype.bind.call(t.put,t);i.apply(t.put,o)},e.debugTitle=function(){var e=["%c"+arguments[0],r],a=Array.prototype.slice.call(arguments);a.splice(0,1),e.push(a),e=_.flattenDeep(e);var n=Function.prototype.bind.call(window.console.debug,console);n.apply(window.console.debug,e);var o=["["+arguments[0]+"]"];o.push(a),o=_.flattenDeep(o);var i=Function.prototype.bind.call(t.put,t);i.apply(t.put,o)},e.error=function(){var e=["%cERROR:",o],a=Array.prototype.slice.call(arguments);a[0].stack&&(a[0]=a[0].stack),e.push(a),e=_.flattenDeep(e);var n=Function.prototype.bind.call(window.console.error,console);n.apply(window.console,e);var i=["[ERROR]"];i.push(a),i=_.flattenDeep(i);var r=Function.prototype.bind.call(t.put,t);r.apply(t.put,i)},e.group=function(e){var a=["%c"+e,l];a=_.flattenDeep(a);var n=Function.prototype.bind.call(window.console.group,console);n.apply(window.console.group,a);var o=["*** [DEBUG GROUP]",e],i=Function.prototype.bind.call(t.put,t);i.apply(t.put,o)},e.groupCollapsed=function(e){var a=["%c"+e,l];a=_.flattenDeep(a);var n=Function.prototype.bind.call(window.console.groupCollapsed,console);n.apply(window.console.groupCollapsed,a);var o=["*** [DEBUG GROUP]",e],i=Function.prototype.bind.call(t.put,t);i.apply(t.put,o)},e.groupEnd=function(){var e=Function.prototype.bind.call(window.console.groupEnd,console);e.apply(window.console.groupEnd,arguments);var a=Function.prototype.bind.call(t.put,t);a.apply(t.put,["*** [GROUP END]"])},e}])}]),angular.module("appenel").run(["$rootScope","$ionicPlatform","ngFB","$nlFramework","UserData","$state","$window","UtilsFactory",function(e,t,a,n,o,i,r,s){a.init({appId:"1652153351775059"}),e.debug=!0,e.menuStyle="",e.translation=translation_es,t.ready(function(){function t(){r.screen.orientation.type.indexOf("landscape")>-1?c():r.screen.orientation.type.indexOf("portrait")>-1&&d()}function a(){switch(r.orientation){case-90:case 90:c();break;default:d()}}if(void 0!=s.getLocalStorageItem("lastPage")&&""!=window.localStorage.getItem("lastPage")&&null!=window.localStorage.getItem("lastPage")){var l=window.localStorage.getItem("lastPage");i.go(l,{reload:!0})}void 0!=s.getLocalStorageItem("userData")&&""!=window.localStorage.getItem("userData")&&null!=window.localStorage.getItem("userData")?(o=JSON.parse(window.localStorage.getItem("userData")),e.userdata=o):e.userdata=o,e.hideBurger=!0,r.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!1)),r.StatusBar&&StatusBar.styleDefault(),ionic.Platform.isIOS()?(r.addEventListener("orientationchange",a),e.menuStyle="margin-top: 10px !important"):r.addEventListener("orientationchange",function(e){console.log(e),t()},!1);var d=function(){switch(i.current.name){case"app.consumos":case"app.consumosHorizontal":i.go("app.consumos",{reload:!0});break;case"app.facturacionesHorizontal":i.go("app.facturaciones",{reload:!0});break;case"app.pagosHorizontal":i.go("app.pagos",{reload:!0})}},c=function(){switch(i.current.name){case"app.consumos":i.go("app.consumosHorizontal",{reload:!0});break;case"app.facturaciones":i.go("app.facturacionesHorizontal",{reload:!0});break;case"app.pagos":i.go("app.pagosHorizontal",{reload:!0})}};navigator.geolocation.getCurrentPosition(function(e){console.log("position adquired")}),e.drawer=n.drawer;var u={speed:0,animation:"ease-out",burger:{use:!0,endY:6,startScale:1,endScale:.7},drawer:{maxWidth:285,openCb:function(){console.log("menu opened")},closeCb:function(){console.log("menu closed")}}};e.setMA=function(e){1==e?(document.getElementById("mPerf").classList.add("menuProfileActive"),document.getElementById("mPate").classList.remove("menuPointsActive"),document.getElementById("mNoti").classList.remove("menuNotificationsActive"),document.getElementById("mProd").classList.remove("menuProductActive")):2==e?(document.getElementById("mPerf").classList.remove("menuProfileActive"),document.getElementById("mPate").classList.add("menuPointsActive"),document.getElementById("mNoti").classList.remove("menuNotificationsActive"),document.getElementById("mProd").classList.remove("menuProductActive")):3==e?(document.getElementById("mPerf").classList.remove("menuProfileActive"),document.getElementById("mPate").classList.remove("menuPointsActive"),document.getElementById("mNoti").classList.add("menuNotificationsActive"),document.getElementById("mProd").classList.remove("menuProductActive")):4==e?(document.getElementById("mPerf").classList.remove("menuProfileActive"),document.getElementById("mPate").classList.remove("menuPointsActive"),document.getElementById("mNoti").classList.remove("menuNotificationsActive"),document.getElementById("mProd").classList.add("menuProductActive")):5==e?(document.getElementById("mPerf").classList.remove("menuProfileActive"),document.getElementById("mPate").classList.remove("menuPointsActive"),document.getElementById("mNoti").classList.remove("menuNotificationsActive"),document.getElementById("mProd").classList.remove("menuProductActive")):(document.getElementById("mPerf").classList.remove("menuProfileActive"),document.getElementById("mPate").classList.remove("menuPointsActive"),document.getElementById("mNoti").classList.remove("menuNotificationsActive"),document.getElementById("mProd").classList.add("menuProductActive"))},n.init(u);try{var p=PushNotification.init({android:{senderID:"840516435761",icon:"notification_push"},browser:{pushServiceURL:"http://push.api.phonegap.com/v1/push"},ios:{alert:"true",badge:"true",sound:"true"}});p.on("registration",function(e){console.log("registrationId: "+e.registrationId),s.setLocalStorageItem("pushID",e.registrationId)}),p.on("error",function(e){console.log(e.message)})}catch(e){console.log("Error al set PushID.")}})}]),angular.module("AlertasModule",["CoreModule","UtilsModule"]);var translation_es={ERROR_GENERICO_SERVICES:"Error en nuestros servicios, intente más tarde.",ID_ANALYTICS:"ID_DE_ANALITYCS_PARA_ENEL",APP_NAME:"NOMBRE_DE_LA_APLICACION_DE_ENEL",VERSION_APP:"VERSION_DE_LA_APLICACION",ID_APP:"ID_DE_LA_APLICACION_PARA_ENEL",MY_DEBTS:"Mis Deudas",MY_BILLINGS:"Mis Facturaciones",MY_ENERGY_CONSUMPTIONS:"Mis Consumos de Energía",MY_PAYMENTS:"Mis Pagos Realizados",SCHEDULED_POWER_CUTS:"Cortes Programados",UNPLANNED_POWER_CUTS:"Cortes Imprevistos",POINTS_OF_ATTENTION_AND_PAYMENT:"Puntos de Atención y Pagos",CONTACT:"Contacto",CONTACT_US:"Contactanos",LOGOUT:"Cerrar Sesión",SEE_YOU_SOON:"Hasta pronto",THANKS_YOR_VISITING_US:"Gracias por visitarnos",LOGIN:"Ingresa",LOGIN_FACE:"Ingresa con Facebook",FORGOT_PASS:"Olvidé mi contraseña",CREATE_ACCOUNT:"Crea tu Cuenta",DOC:"\tDocumento",DNI:"DNI",DOCS:"Documentos",ID_1:"DNI",ID_2:"RUC",ID_3:"CE",SCAN:"Escanear",NAME:"Nombre",LASTNAME:"Apellido Paterno",MOTHER_LASTNAME:"Apellido Materno",AGE:"Edad",SEX:"Sexo",MALE:"Masculino",
FEMALE:"Femenino",ALIAS:"Alias",PHONE:"Celular",EMAIL:"Email",OPTIONAL:"Opcional",BIRTH:"Fecha de Nacimiento",TERMS_AND_CONDITIONS:"Términos y condiciones",READ_TERMS_AND_CONDITIONS:"He leido los términos y condiciones",ACCEPT_TERMS:"Acepto términos y condiciones",ACCEPT_ADVERTISING:"Acepto recibir publicidad",FINISH:"Finaliza",REQUIRED_FORM_TEXT:"(*) Estos campos son obligatorios",NEXT:"Continúa",VALIDATE_ACCOUNT:"Validar Cuenta",ACTIVATE_ACCOUNT:"Activar Cuenta",RECOVERY_PASS_TEXT:"Para recuperar tu clave, primero debes validar tu cuenta con un código de seguridad, luego podrás cambiar tu clave.",SEND_ME_CODE:"Envíame un código",ENTER_USER:"Ingrese usuario",ENTER_CODE:"Ingrese código",VALIDATE_CODE:"Validar código",MY_PASS:"Mi contraseña actual",CHANGE_YOUR_PASS:"Cambia tu clave",ENTER_NEW_PASS:"Ingrese su nueva clave",REPEAT_NEW_PASS:"Repita su nueva clave",ALIAS_EDITION:"Edición de Alias",EDIT_ALIAS:"Editar Alias",NEW_ALIAS_EDITION_PLACEHOLDER:"Ingrese un nuevo alias para su suministro",CANCEL:"Cancelar",ACCEPT:"Aceptar",MY_PRODUCTS:"Mis Productos",WELCOME:"Bienvenido",CLIENT_NUMBER:"Número de Cliente",CURRENT_TOTAL_DEBT:"Deuda total actual",PREVIOUS_DEBT:"Deuda anterior",DUE_DATE:"Fecha de Vencimiento",CUTOFF_DATE:"Fecha de corte",CONNECTION_REQUIREMENTS:"Requisitos de Conexión",HOW_GET_NEW_CONNECTION_TEXT:"Como solicitar una nueva conexión",CONNECTION_REQUIREMENTS_TEXT:"¿Cuáles son los requisitos para una nueva conexión?",MEASURER_REQUIREMENT_TEXT:"Si deseas un nuevo medidor, los documentos indispensables a presentar son:",MEASURER_REQUIREMENT_DOCS_01_TEXT:"Documento de propiedad de la casa o departamento.",MEASURER_REQUIREMENT_DOCS_02_TEXT:"DNI del solicitante.",MEASURER_REQUIREMENT_DOCS_03_TEXT:"Croquis de ubicación (puede ser hecho a mano, pero trata de que se entienda claramente cómo llegar, pon referencias, calles aledañas, etc).",SERVICE_CENTER_PHONE_TEXT:"Te sugerimos que antes de acercarte a nuestros Centros de servicio llames al Fonocliente (5171717) para orientarte mejor.",THANKS:"Gracias",BACK:"Volver",FIND_CONTACT_CHANNEL_TEXT:"Encuentra los canales de contacto",CLIENT_PHONE:"FonoCliente: 517-1717 ",ENEL_PE:"Enel Perú",UPDATE_YOUR_DATA:"Actualiza tus Datos",UPDATE_MY_DATA:"Actualizar mis Datos de Contacto",DEACTIVATE_SMS:"Desactivar SMS",CHANGE_PHONE:"Cambiar tu número móvil",CHANGE_EMAIL:"Cambiar tu correo",DEACTIVATE_NOTIF:"Desactivar Notificaciones",EDIT_MY_USERS:"Editar mis usuarios",ASSOCIATE_USERS_TEXT:"Acá puedes asociar usuarios a tus productos y otorgarles la capacidad de compartir tu información",MY_USERS:"Mis usuarios autorizados:",ADD_NEW_USER:"Añadir nuevo usuario",UPDATE_YOUR_PROFILE:"Actualiza los datos de tu perfil",FINANCING_REQUIREMENTS:"Requisitos de Financiamiento",FINANCING_PAYMENT:"Financiamiento de Pago",FINANCING_REQUIREMENTS_QUESTION_TEXT:"¿Cuáles son los requisitos para financiamiento?",FINANCING_REQUIREMENTS_ANSWER_TEXT:"¡No te preocupes! Si se te acumularon dos o más recibos, pide facilidades de pago en nuestros Centros de servicio.",FINANCING_REQUIREMENTS_SERVICE_CENTER_TEXT:"Hay casos que requieren de una evaluación especial. Te sugerimos que antes de acercarte a nuestros Centros de servicio llames al Fonocliente (5171717) para orientarte mejor.",FINANCING_REQUIREMENTS_DOCS_01_TEXT:"Original y fotocopia de tu DNI.",FINANCING_REQUIREMENTS_DOCS_02_TEXT:"Documento de propiedad de la casa o departamento (solo si la deuda es mayor a 500 soles)",USEFUL_INFORMATION:"Información Útil",RESOLVE_YOUR_DOUBTS:"Resuelve tus dudas más frecuentes",CONNECTION_REQUIREMENTS:"Requisitos de conexión",KNOW_YOUR_RECEIPT:"Conoce tu recibo",PROFILE:"Perfil",CUSTOMER_SERVICE:"Puntos de Atención",NOTIFICATIONS:"Notificaciones",PRODUCTS:"Productos",KNOW_YOUR_PRODUCTS:"Conoce los productos que tienes asociados a tu cuenta",SKIP_INTRO:"Saltar Intro",EASY_ACCESS_APP_TEXT:"Accede facilmente a lo más importante de la aplicación",KNOW_CUSTOMER_SERVICE_TEXT:"Podrás conocer los puntos de pagos más cercanos a ti",BRANCH_OFFICES_INFORMATION_TEXT:"Y saber información de las sucursales",TUTORIAL_01_TEXT:"Recibe alertas sobre tu ",TUTORIAL_0101_TEXT:"servicio eléctrico",TUTORIAL_02_TEXT:"Ubica tu punto de atención ",TUTORIAL_0202_TEXT:"más cercano",TUTORIAL_03_TEXT:"Ten a la mano la información ",TUTORIAL_0303_TEXT:"de tu recibo",TUTORIAL_04_TEXT:"",SERVICE_NUMBER:"N° de servicio",CONSUMPTIONS_QUESTION_TEXT:"¿Tu consumo creció de pronto este mes?",CONSUMPTIONS_ANSWER_TEXT:"Es probable que se trate de una liquidación de consumos promediados (LC)",CURRENT:"Actual",PREVIOUS:"Anterior",GO:"Ir",COMMERCIAL_ATTENTION:"Atención Comercial",PAYMENT:"Pagos",ATTENTION:"Atención",COMMUNITIES:"Comunidades",PAY_HERE_YOUR_RECEIPT_ENEL_TEXT:"Paga aquí tu recibo de Edelnor sin costo adicional",PAY_HERE_YOUR_RECEIPT_OTHERS_TEXT:"Paga también tus servicios de Movistar, Sedapal, Sertel y Banco Financiero sin costo adicional",PAYMENT_OPTIONS_01_BRAND:"Western Union",PAYMENT_OPTIONS_01_TEXT:"Ahora también puedes pagar en la red de agentes de Western Union. 400 oficinas a tu disposición.",PAYMENT_OPTIONS_02_BRAND:"Full Carga",PAYMENT_OPTIONS_02_TEXT:"Es una red de pagos que podrás encontrar en tu bodega, cabina o farmacia más cercana, y donde ahora podrás pagar tu recibo.",PAYMENT_OPTIONS_03_BRAND:"Pagaltoke",PAYMENT_OPTIONS_03_TEXT:"Paga tu recibo en tu bodega, cabina o farmacia más cercana.",PAYMENT_OPTIONS_04_BRAND:"BCP",PAYMENT_OPTIONS_04_TEXT:"Con BPC, paga tu recibo a través de Internet, débito automático y teléfono. Y a través de telecréditos sólo para empresas.",PAYMENT_OPTIONS_05_BRAND:"Scotiabank",PAYMENT_OPTIONS_05_TEXT:"paga tu recibo a través de Internet, débito automático y teléfono.",PAYMENT_OPTIONS_06_BRAND:"BBVA Continental",PAYMENT_OPTIONS_06_TEXT:"paga tu recibo a través de Internet, débito automático y cajeros automáticos.",PAYMENT_OPTIONS_07_BRAND:"Interbank",PAYMENT_OPTIONS_07_TEXT:"paga tu recibo a través de Internet y débito automático.",PAYMENT_OPTIONS_08_BRAND:"Banco Financiero",PAYMENT_OPTIONS_08_TEXT:"paga tu recibo a través de Internet y ventanilla.",PAYMENT_OPTIONS_09_BRAND:"Banco de Comercio",PAYMENT_OPTIONS_09_TEXT:"paga tu recibo a través de Internet y ventanilla.",PAYMENT_OPTIONS_10_BRAND:"BanBif",PAYMENT_OPTIONS_10_TEXT:"paga tu recibo a través de Internet y ventanilla.",PAYMENT_OPTIONS_11_BRAND:"Banco Falabella",PAYMENT_OPTIONS_11_TEXT:"paga tu recibo a través de Internet y ventanilla.",PAYMENT_OPTIONS_12_BRAND:"Movistar",PAYMENT_OPTIONS_12_TEXT:"Puedes cancelar tu recibo en las oficinas de Movistar.",PAYMENT_OPTIONS_13_BRAND:"Sedapal",PAYMENT_OPTIONS_13_TEXT:"Puedes cancelar tu recibo en las oficinas de Sedapal.",MAP:"Mapa",LIST:"Lista",SERVICE_CENTERS:"Centros de Servicios",ALSO_PAY_IN:"También pàga en",MAP_WITH_GPS:"Mapa con Geolocalización",ADD_IMAGE:"Agregar Imágen",TAKE_PHOTO:"Tomar Fotografía",SELECT_ORIGIN_IMAGE:"Seleccione el orígen de su imágen.",OPEN_GALERY:"Abrir Galería",SELECT_APP:"Seleccionar aplicación",SELECT_APP_TEXT:"Seleccione una aplicación para dirigirse al punto de atención seleccionado.",NAMEAPP_001:"Google Maps",NAMEAPP_002:"Waze",MODAL_HELP_TEXT:"Por favor, por tu seguridad apunta la cámara de tu celular al código de barras ubicado en el reverso de tu DNI.",POWER_CUTS_NO_CUTS_TEXT_IMPR:"No se registran cortes imprevistos para este servicio.",POWER_CUTS_SORRY_TEXT:"Lamentamos las molestias. En este momento registramos un corte de energía en tu sector.",REASON:"Motivo",POWER_CUTS_ESTIMATED_TIME_TEXT:"Hora estimada de reposición del servicio",POWER_CUTS_NO_CUTS_TEXT_SCHED:"No se registran cortes programados para este servicio.",POWER_CUTS_SUSPEND_SERVICE:"Estamos trabajando para mejorar la calidad del suministro eléctrico. Por ello, nos vemos obligados a suspender el servicio por un tiempo. Toma nota de los cortes programados para esta semana. ¡Gracias!",ENEL_PE_EMAIL_CLIENT_PHONE:"fonocliente@enel.com",ENEL_PE_FACEBOOK:"https://www.facebook.com/EnelPeru/",ENEL_PE_TWITTER:"https://twitter.com/enelperu",ENEL_PE_URL:"http://www.eneldistribucion.pe"},endpoints={SETUP:{TIMEOUT:3e4,TIMEOUT_SESSION:3e4,APP_NAME:"",API_KEY:"",CLIENT_SECRET:"",PREPAID_ACCESS_TOKEN:"",COLIVING_ACCESS_TOKEN:""},URL:"http://appenel.herokuapp.com/int/connections.php",ENDPOINTS_ACCESO_REGISTRO:URL+"registrar",ENDPOINTS_ANALYTICS:"COLOCAR.EL.ENDPOINT.CORRESPONDIENTE"};try{window.FB||function(window,fb_fif_window){function bindContext(e,t){return function(){return apply.call(e,t,arguments)}}for(var apply=Function.prototype.apply,global={__type:"JS_SDK_SANDBOX",window:window,document:window.document},sandboxWhitelist=["setTimeout","setInterval","clearTimeout","clearInterval"],i=0;i<sandboxWhitelist.length;i++)global[sandboxWhitelist[i]]=bindContext(window[sandboxWhitelist[i]],window);(function(){function emptyFunction(){}var self=window,__DEV__=0,__transform_includes={},__annotator,__bodyWrapper,__w,__t,undefined;with(this){!function(){var e={},t=function(e,t){if(!e&&!t)return null;var a={};return"undefined"!=typeof e&&(a.type=e),"undefined"!=typeof t&&(a.signature=t),a},a=function(e,a){return t(e&&/^[A-Z]/.test(e)?e:undefined,a&&(a.params&&a.params.length||a.returns)?"function("+(a.params?a.params.map(function(e){return/\?/.test(e)?"?"+e.replace("?",""):e}).join(","):"")+")"+(a.returns?":"+a.returns:""):undefined)},n=function(e,t,a){return e},o=function(e,t,n){if("sourcemeta"in __transform_includes&&(e.__SMmeta=t),"typechecks"in __transform_includes){var o=a(t?t.name:undefined,n);o&&__w(e,o)}return e},i=function(e,t,a){return a.apply(e,t)},r=function(e,t,a,n){n&&n.params&&__t.apply(e,n.params);var o=a.apply(e,t);return n&&n.returns&&__t([o,n.returns]),o},s=function(t,a,n,o,i){if(i){i.callId||(i.callId=i.module+":"+(i.line||0)+":"+(i.column||0));var r=i.callId;e[r]=(e[r]||0)+1}return n.apply(t,a)};"undefined"==typeof __transform_includes?(__annotator=n,__bodyWrapper=i):(__annotator=o,"codeusage"in __transform_includes?(__annotator=n,__bodyWrapper=s,__bodyWrapper.getCodeUsage=function(){return e},__bodyWrapper.clearCodeUsage=function(){e={}}):__bodyWrapper="typechecks"in __transform_includes?r:i)}(),__t=function(e){return e[0]},__w=function(e){return e};var require,__d;!function(e){var t={},a={},n=["global","require","requireDynamic","requireLazy","module","exports"];require=function(n,o){if(a.hasOwnProperty(n))return a[n];if(!t.hasOwnProperty(n)){if(o)return null;throw new Error("Module "+n+" has not been defined")}for(var i,r=t[n],s=r.deps,l=r.factory.length,d=[],c=0;c<l;c++){switch(s[c]){case"module":i=r;break;case"exports":i=r.exports;break;case"global":i=e;break;case"require":i=require;break;case"requireDynamic":i=null;break;case"requireLazy":i=null;break;default:i=require.call(null,s[c])}d.push(i)}return r.factory.apply(e,d),a[n]=r.exports,r.exports},require.__markCompiled=function(){},__d=function(e,o,i,r){"function"==typeof i?(t[e]={factory:i,deps:n.concat(o),exports:{}},3===r&&require.call(null,e)):a[e]=i}}(this),__d("ES5Array",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={};r.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},o.exports=r},null),__d("ES5ArrayPrototype",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={};r.map=function(e,t){if("function"!=typeof e)throw new TypeError;var a,n=this.length,o=new Array(n);for(a=0;a<n;++a)a in this&&(o[a]=e.call(t,this[a],a,this));return o},r.forEach=function(e,t){r.map.call(this,e,t)},r.filter=function(e,t){if("function"!=typeof e)throw new TypeError;var a,n,o=this.length,i=[];for(a=0;a<o;++a)a in this&&(n=this[a],e.call(t,n,a,this)&&i.push(n));return i},r.every=function(e,t){if("function"!=typeof e)throw new TypeError;for(var a=new Object(this),n=a.length,o=0;o<n;o++)if(o in a&&!e.call(t,a[o],o,a))return!1;return!0},r.some=function(e,t){if("function"!=typeof e)throw new TypeError;for(var a=new Object(this),n=a.length,o=0;o<n;o++)if(o in a&&e.call(t,a[o],o,a))return!0;return!1},r.indexOf=function(e,t){var a=this.length;for(t|=0,t<0&&(t+=a);t<a;t++)if(t in this&&this[t]===e)return t;return-1},o.exports=r},null),__d("ES5Date",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={};r.now=function(){return(new Date).getTime()},o.exports=r},null),__d("ES5FunctionPrototype",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={};r.bind=function(e){function t(){return a.apply(e,n.concat(Array.prototype.slice.call(arguments)))}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var a=this,n=Array.prototype.slice.call(arguments,1);return t.displayName="bound:"+(a.displayName||a.name||"(?)"),t.toString=function(){return"bound: "+a},t},o.exports=r},null),__d("ie8DontEnum",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"],s={}.hasOwnProperty,l=function(){};({toString:!0}).propertyIsEnumerable("toString")&&(l=function(e,t){for(var a=0;a<r.length;a++){var n=r[a];s.call(e,n)&&t(n)}}),o.exports=l},null),__d("ES5Object",["ie8DontEnum"],function(e,t,a,n,o,i,r){function s(){}t.__markCompiled&&t.__markCompiled();var l={}.hasOwnProperty,d={};d.create=function(e){var t=typeof e;if("object"!=t&&"function"!=t)throw new TypeError("Object prototype may only be a Object or null");return s.prototype=e,new s},d.keys=function(e){var t=typeof e;if("object"!=t&&"function"!=t||null===e)throw new TypeError("Object.keys called on non-object");var a=[];for(var n in e)l.call(e,n)&&a.push(n);return r(e,function(e){return a.push(e)}),a},o.exports=d},null),__d("ES5StringPrototype",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={};r.trim=function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},r.startsWith=function(e){var t=String(this);if(null==this)throw new TypeError("String.prototype.startsWith called on null or undefined");var a=arguments.length>1?Number(arguments[1]):0;isNaN(a)&&(a=0);var n=Math.min(Math.max(a,0),t.length);return t.indexOf(String(e),a)==n},r.endsWith=function(e){var t=String(this);if(null==this)throw new TypeError("String.prototype.endsWith called on null or undefined");var a=t.length,n=String(e),o=arguments.length>1?Number(arguments[1]):a;isNaN(o)&&(o=0);var i=Math.min(Math.max(o,0),a),r=i-n.length;return!(r<0)&&t.lastIndexOf(n,r)==r},r.includes=function(e){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");var t=String(this),a=arguments.length>1?Number(arguments[1]):0;return isNaN(a)&&(a=0),t.indexOf(String(e),a)!=-1},r.contains=r.includes,r.repeat=function(e){if(null==this)throw new TypeError("String.prototype.repeat called on null or undefined");var t=String(this),a=e?Number(e):0;if(isNaN(a)&&(a=0),a<0||a===1/0)throw RangeError();if(1===a)return t;if(0===a)return"";for(var n="";a;)1&a&&(n+=t),(a>>=1)&&(t+=t);return n},o.exports=r},null),__d("ES6Array",[],function(e,t,a,n,o,i){"use strict";t.__markCompiled&&t.__markCompiled();var r={from:function(e){if(null==e)throw new TypeError("Object is null or undefined");var t=arguments[1],a=arguments[2],n=this,o=Object(e),i="function"==typeof Symbol&&"function"==typeof Symbol?Symbol.iterator:"@@iterator",r="function"==typeof t,s="function"==typeof o[i],l=0,d=void 0,c=void 0;if(s){d="function"==typeof n?new n:[];for(var u=o[i](),p=void 0;!(p=u.next()).done;)c=p.value,r&&(c=t.call(a,c,l)),d[l]=c,l+=1;return d.length=l,d}var f=o.length;for((isNaN(f)||f<0)&&(f=0),d="function"==typeof n?new n(f):new Array(f);l<f;)c=o[l],r&&(c=t.call(a,c,l)),d[l]=c,l+=1;return d.length=l,d}};o.exports=r},null),__d("ES6ArrayPrototype",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={find:function(e,t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");var a=r.findIndex.call(this,e,t);return a===-1?void 0:this[a]},findIndex:function(e,t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=Object(this),n=a.length>>>0,o=0;o<n;o++)if(e.call(t,a[o],o,a))return o;return-1},fill:function(e){if(null==this)throw new TypeError("Array.prototype.fill called on null or undefined");for(var t=Object(this),a=t.length>>>0,n=arguments[1],o=n>>0,i=o<0?Math.max(a+o,0):Math.min(o,a),r=arguments[2],s=r===undefined?a:r>>0,l=s<0?Math.max(a+s,0):Math.min(s,a);i<l;)t[i]=e,i++;return t}};o.exports=r},null),__d("ES6DatePrototype",[],function(e,t,a,n,o,i){function r(e){return(e<10?"0":"")+e}t.__markCompiled&&t.__markCompiled();var s={toISOString:function(){if(!isFinite(this))throw new Error("Invalid time value");var e=this.getUTCFullYear();return e=(e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(0<=e&&e<=9999?-4:-6),e+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}};o.exports=s},null),__d("ES6Number",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r=Math.pow(2,-52),s=Math.pow(2,53)-1,l=-1*s,d={isFinite:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return"number"==typeof e&&isFinite(e)}),isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return"number"==typeof e&&isNaN(e)}),isInteger:function(e){return this.isFinite(e)&&Math.floor(e)===e},isSafeInteger:function(e){return this.isFinite(e)&&e>=this.MIN_SAFE_INTEGER&&e<=this.MAX_SAFE_INTEGER&&Math.floor(e)===e},EPSILON:r,MAX_SAFE_INTEGER:s,MIN_SAFE_INTEGER:l};o.exports=d},null),__d("ES6Object",["ie8DontEnum"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled();var s={}.hasOwnProperty,l={assign:function(e){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");e=Object(e);for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];for(var o=0;o<a.length;o++){var i=a[o];if(null!=i){i=Object(i);for(var l in i)s.call(i,l)&&(e[l]=i[l]);r(i,function(t){return e[t]=i[t]})}}return e},is:function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}};o.exports=l},null),__d("ES7Object",["ie8DontEnum"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled();var s={}.hasOwnProperty,l={};l.entries=function(e){if(null==e)throw new TypeError("Object.entries called on non-object");var t=[];for(var a in e)s.call(e,a)&&t.push([a,e[a]]);return r(e,function(a){return t.push([a,e[a]])}),t},l.values=function(e){if(null==e)throw new TypeError("Object.values called on non-object");var t=[];for(var a in e)s.call(e,a)&&t.push(e[a]);return r(e,function(a){return t.push(e[a])}),t},o.exports=l},null),__d("ES7StringPrototype",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={};r.trimLeft=function(){return this.replace(/^\s+/,"")},r.trimRight=function(){return this.replace(/\s+$/,"")},o.exports=r},null),__d("JSON3",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled(),function(){var e,t,a,n,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_,y,w,C={}.toString,E=o.exports={},S='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',k=new Date((-0xc782b5b800cec));try{k=k.getUTCFullYear()==-109252&&0===k.getUTCMonth()&&1==k.getUTCDate()&&10==k.getUTCHours()&&37==k.getUTCMinutes()&&6==k.getUTCSeconds()&&708==k.getUTCMilliseconds()}catch(e){}if(k||(_=Math.floor,y=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(e,t){return y[t]+365*(e-1970)+_((e-1969+(t=+(t>1)))/4)-_((e-1901+t)/100)+_((e-1601+t)/400)}),"object"==typeof JSON&&JSON&&(E.stringify=JSON.stringify,E.parse=JSON.parse),n="function"==typeof E.stringify&&!w){(k=function(){return 1}).toJSON=k;try{n="0"===E.stringify(0)&&"0"===E.stringify(new Number)&&'""'==E.stringify(new String)&&E.stringify(C)===a&&E.stringify(a)===a&&E.stringify()===a&&"1"===E.stringify(k)&&"[1]"==E.stringify([k])&&"[null]"==E.stringify([a])&&"null"==E.stringify(null)&&"[null,null,null]"==E.stringify([a,C,null])&&E.stringify({result:[k,!0,!1,null,"\0\b\n\f\r\t"]})==S&&"1"===E.stringify(null,k)&&"[\n 1,\n 2\n]"==E.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==E.stringify(new Date((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==E.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==E.stringify(new Date((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==E.stringify(new Date((-1)))}catch(e){n=!1}}if("function"==typeof E.parse)try{if(0===E.parse("0")&&!E.parse(!1)&&(k=E.parse(S),d=5==k.A.length&&1==k.A[0])){try{d=!E.parse('"\t"')}catch(e){}if(d)try{d=1!=E.parse("01")}catch(e){}}}catch(e){d=!1}k=S=null,n&&d||((e={}.hasOwnProperty)||(e=function(t){var a,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=C?e=function(e){var t=this.__proto__,a=e in(this.__proto__=null,this);return this.__proto__=t,a}:(a=n.constructor,e=function(e){var t=(this.constructor||a).prototype;return e in this&&!(e in t&&this[e]===t[e])}),n=null,e.call(this,t)}),t=function(t,a){var n,o,i,r,s=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n;for(i in o)e.call(o,i)&&s++;return n=o=null,s?r=2==s?function(t,a){var n,o={},i="[object Function]"==C.call(t);for(n in t)i&&"prototype"==n||e.call(o,n)||!(o[n]=1)||!e.call(t,n)||a(n)}:function(t,a){var n,o,i="[object Function]"==C.call(t);for(n in t)i&&"prototype"==n||!e.call(t,n)||(o="constructor"===n)||a(n);(o||e.call(t,n="constructor"))&&a(n)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],r=function(t,a){var n,i,r="[object Function]"==C.call(t);for(n in t)r&&"prototype"==n||!e.call(t,n)||a(n);for(i=o.length;n=o[--i];e.call(t,n)&&a(n));}),r(t,a)},n||(i={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},r=function(e,t){return("000000"+(t||0)).slice(-e)},s=function(e){for(var t,a='"',n=0;t=e.charAt(n);n++)a+='\\"\b\f\n\r\t'.indexOf(t)>-1?i[t]:t<" "?"\\u00"+r(2,t.charCodeAt(0).toString(16)):t;return a+'"'},l=function(n,o,i,d,c,u,p){var f,m,g,h,v,b,y,E,S,k,A,x,D,I,T,O=o[n];if("object"==typeof O&&O)if(f=C.call(O),"[object Date]"!=f||e.call(O,"toJSON"))"function"==typeof O.toJSON&&("[object Number]"!=f&&"[object String]"!=f&&"[object Array]"!=f||e.call(O,"toJSON"))&&(O=O.toJSON(n));else if(O>-1/0&&O<1/0){if(w){for(h=_(O/864e5),m=_(h/365.2425)+1970-1;w(m+1,0)<=h;m++);for(g=_((h-w(m,0))/30.42);w(m,g+1)<=h;g++);h=1+h-w(m,g),v=(O%864e5+864e5)%864e5,b=_(v/36e5)%24,y=_(v/6e4)%60,E=_(v/1e3)%60,S=v%1e3}else m=O.getUTCFullYear(),g=O.getUTCMonth(),h=O.getUTCDate(),b=O.getUTCHours(),y=O.getUTCMinutes(),E=O.getUTCSeconds(),S=O.getUTCMilliseconds();O=(m<=0||m>=1e4?(m<0?"-":"+")+r(6,m<0?-m:m):r(4,m))+"-"+r(2,g+1)+"-"+r(2,h)+"T"+r(2,b)+":"+r(2,y)+":"+r(2,E)+"."+r(3,S)+"Z"}else O=null;if(i&&(O=i.call(o,n,O)),null===O)return"null";if(f=C.call(O),"[object Boolean]"==f)return""+O;if("[object Number]"==f)return O>-1/0&&O<1/0?""+O:"null";if("[object String]"==f)return s(O);if("object"==typeof O){for(D=p.length;D--;)if(p[D]===O)throw TypeError();if(p.push(O),k=[],I=u,u+=c,"[object Array]"==f){for(x=0,D=O.length;x<D;T||(T=!0),x++)A=l(x,O,i,d,c,u,p),k.push(A===a?"null":A);return T?c?"[\n"+u+k.join(",\n"+u)+"\n"+I+"]":"["+k.join(",")+"]":"[]"}return t(d||O,function(e){var t=l(e,O,i,d,c,u,p);t!==a&&k.push(s(e)+":"+(c?" ":"")+t),T||(T=!0)}),T?c?"{\n"+u+k.join(",\n"+u)+"\n"+I+"}":"{"+k.join(",")+"}":"{}"}},E.stringify=function(e,t,a){var n,o,i,r,s,d;if("function"==typeof t||"object"==typeof t&&t)if("[object Function]"==C.call(t))o=t;else if("[object Array]"==C.call(t))for(i={},r=0,s=t.length;r<s;d=t[r++],("[object String]"==C.call(d)||"[object Number]"==C.call(d))&&(i[d]=1));if(a)if("[object Number]"==C.call(a)){if((a-=a%1)>0)for(n="",a>10&&(a=10);n.length<a;n+=" ");}else"[object String]"==C.call(a)&&(n=a.length<=10?a:a.slice(0,10));return l("",(d={},d[""]=e,d),o,i,n,"",[])}),d||(c=String.fromCharCode,u={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},p=function(){throw v=b=null,SyntaxError()},f=function(){for(var e,t,a,n,o,i=b,r=i.length;v<r;)if(e=i.charAt(v),"\t\r\n ".indexOf(e)>-1)v++;else{if("{}[]:,".indexOf(e)>-1)return v++,e;if('"'==e){for(t="@",v++;v<r;)if(e=i.charAt(v),e<" ")p();else if("\\"==e)if(e=i.charAt(++v),'\\"/btnfr'.indexOf(e)>-1)t+=u[e],v++;else if("u"==e){for(a=++v,n=v+4;v<n;v++)e=i.charAt(v),e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"||p();t+=c("0x"+i.slice(a,v))}else p();else{if('"'==e)break;t+=e,v++}if('"'==i.charAt(v))return v++,t;p()}else{if(a=v,"-"==e&&(o=!0,e=i.charAt(++v)),e>="0"&&e<="9"){for("0"==e&&(e=i.charAt(v+1),e>="0"&&e<="9")&&p(),o=!1;v<r&&(e=i.charAt(v),e>="0"&&e<="9");v++);if("."==i.charAt(v)){for(n=++v;n<r&&(e=i.charAt(n),e>="0"&&e<="9");n++);n==v&&p(),v=n}if(e=i.charAt(v),"e"==e||"E"==e){for(e=i.charAt(++v),"+"!=e&&"-"!=e||v++,n=v;n<r&&(e=i.charAt(n),e>="0"&&e<="9");n++);n==v&&p(),v=n}return+i.slice(a,v)}if(o&&p(),"true"==i.slice(v,v+4))return v+=4,!0;if("false"==i.slice(v,v+5))return v+=5,!1;if("null"==i.slice(v,v+4))return v+=4,null;p()}}return"$"},m=function(e){var t,a;if("$"==e&&p(),"string"==typeof e){if("@"==e.charAt(0))return e.slice(1);if("["==e){for(t=[];e=f(),"]"!=e;a||(a=!0))a&&(","==e?(e=f(),"]"==e&&p()):p()),","==e&&p(),t.push(m(e));return t}if("{"==e){for(t={};e=f(),"}"!=e;a||(a=!0))a&&(","==e?(e=f(),"}"==e&&p()):p()),","!=e&&"string"==typeof e&&"@"==e.charAt(0)&&":"==f()||p(),t[e.slice(1)]=m(f());return t}p()}return e},h=function(e,t,n){var o=g(e,t,n);o===a?delete e[t]:e[t]=o},g=function(e,a,n){var o,i=e[a];if("object"==typeof i&&i)if("[object Array]"==C.call(i))for(o=i.length;o--;)h(i,o,n);else t(i,function(e){h(i,e,n)});return n.call(e,a,i)},E.parse=function(e,t){v=0,b=e;var a=m(f());return"$"!=f()&&p(),v=b=null,t&&"[object Function]"==C.call(t)?g((k={},k[""]=a,k),"",t):a}))}.call(this)},null),__d("ES",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3","ES6Array","ES6Object","ES6ArrayPrototype","ES6DatePrototype","ES6Number","ES7StringPrototype","ES7Object"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_){function y(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t],n=t.split(".");if(2===n.length){var o=n[0],i=n[1];if(!(o&&i&&window[o]&&window[o][i])){var r=o?window[o]:"-",s=o&&window[o]&&i?window[o][i]:"-";throw new Error("Unexpected state (t11975770): "+(o+", "+i+", "+r+", "+s+", "+t))}}var l=2===n.length?window[n[0]][n[1]]:window[t];for(var d in a)if(a.hasOwnProperty(d))if("function"==typeof a[d]){var c=l[d];E[t+"."+d]=c&&/\{\s+\[native code\]\s\}/.test(c)?c:a[d]}else E[t+"."+d]=a[d]}}function w(e,t,a){var n=a?C.call(e).slice(8,-1)+".prototype":e,o=E[n+"."+t]||e[t];if("function"==typeof o){for(var i=arguments.length,r=Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];return o.apply(e,r)}if(o)return o;throw new Error("Polyfill "+n+" does not have implementation of "+t)}t.__markCompiled&&t.__markCompiled();var C={}.toString,E={"JSON.stringify":p.stringify,"JSON.parse":p.parse},S={"Array.prototype":r,"Function.prototype":s,"String.prototype":l,Object:c,Array:d,Date:u},k={Object:m,"Array.prototype":g,"Date.prototype":h,Number:v,Array:f},A={Object:_,"String.prototype":b};y(S),y(k),y(A),o.exports=w},null),__d("sdk.babelHelpers",["ES5FunctionPrototype","ES5Object","ES6Object"],function(e,t,a,n,o,i,r,s,l){t.__markCompiled&&t.__markCompiled();var d={},c=Object.prototype.hasOwnProperty;d.inherits=function(e,t){return l.assign(e,t),e.prototype=s.create(t&&t.prototype),e.prototype.constructor=e,e.__superConstructor__=t,t},d._extends=l.assign,d.extends=d._extends,d.objectWithoutProperties=function(e,t){var a={};for(var n in e)!c.call(e,n)||t.indexOf(n)>=0||(a[n]=e[n]);return a},d.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},d.bind=r.bind,o.exports=d},null);var ES=require("ES"),babelHelpers=require("sdk.babelHelpers");__d("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",an_https:"an.facebook.com",fbcdn_http:"fbstatic-a.akamaihd.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"staticxx.facebook.com",cdn_https:"staticxx.facebook.com"}),__d("JSSDKRuntimeConfig",[],{locale:"en_US",rtl:!1,revision:"2558170"}),__d("JSSDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:!0,features:{dialog_resize_refactor:!0,one_comment_controller:!0,allow_non_canvas_app_events:!1,event_subscriptions_log:{rate:.01,value:1e4},should_force_single_dialog_instance:!0,js_sdk_force_status_on_load:!0,js_sdk_mbasic_share_plugin_init:!0,kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1e-6},getloginstatus_tracking:{rate:.001},xd_timeout:{rate:4,value:3e4},use_bundle:!0,launch_payment_dialog_via_pac:{rate:100},plugin_tags_blacklist:["recommendations_bar","registration","activity","recommendations","facepile"],should_log_response_error:!0},api:{mode:"warn",whitelist:["AppEvents","AppEvents.EventNames","AppEvents.ParameterNames","AppEvents.activateApp","AppEvents.logEvent","AppEvents.logPurchase","Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.parse","Payment.setSize","Payment.unlockForProcessing","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,manage_groups:!1,read_deals:!1}}}),__d("JSSDKXDConfig",[],{XdUrl:"/connect/xd_arbiter.php?version=42",XdBundleUrl:"/connect/xd_arbiter/r/lUqP5iIjiw6.js?version=42",Flash:{path:"https://connect.facebook.net/rsrc.php/v2/yW/r/yOZN1vHw3Z_.swf"},useCdn:!0}),__d("JSSDKCssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}',
components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget"]}),__d("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v2/yd/r/mxzow1Sdmxr.swf"}}),__d("JSSDKCanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992,768691303149786],sampleRate:500}),__d("DOMWrapper",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r,s,l={setRoot:function(e){r=e},getRoot:function(){return r||document.body},setWindow:function(e){s=e},getWindow:function(){return s||self}};o.exports=l},null),__d("dotAccess",[],function(e,t,a,n,o,i){function r(e,t,a){var n=t.split(".");do{var o=n.shift();e=e[o]||a&&(e[o]={})}while(n.length&&e);return e}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("guid",[],function(e,t,a,n,o,i){function r(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("wrapFunction",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={},s=function(e,t,a){var n=t||"default";return function(){var t=n in r?r[n](e,a):e;return t.apply(this,arguments)}};s.setWrapper=function(e){var t=arguments.length<=1||arguments[1]===undefined?"default":arguments[1];r[t]=e},o.exports=s},null),__d("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(e,t,a,n,o,i,r,s,l,d){t.__markCompiled&&t.__markCompiled();var c,u,p={setPrefix:function(e){c=s(r.getWindow(),e,!0),u=e},create:function(e,t){c||this.setPrefix("__globalCallbacks");var a=l();return c[a]=d(e,"entry",t||"GlobalCallback"),u+"."+a},remove:function(e){var t=e.substring(u.length+1);delete c[t]}};o.exports=p},null),__d("sprintf",[],function(e,t,a,n,o,i){function r(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var o=0;return e.replace(/%s/g,function(e){return a[o++]})}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("Log",["sprintf"],function(e,t,a,n,o,i,r){function s(e,t){var a=Array.prototype.slice.call(arguments,2),n=r.apply(null,a),o=window.console;o&&d.level>=t&&o[e in o?e:"log"](n)}t.__markCompiled&&t.__markCompiled();var l={DEBUG:3,INFO:2,WARNING:1,ERROR:0},d={level:-1,Level:l,debug:ES(s,"bind",!0,null,"debug",l.DEBUG),info:ES(s,"bind",!0,null,"info",l.INFO),warn:ES(s,"bind",!0,null,"warn",l.WARNING),error:ES(s,"bind",!0,null,"error",l.ERROR)};o.exports=d},null),__d("ObservableMixin",[],function(e,t,a,n,o,i){function r(){this.__observableEvents={}}t.__markCompiled&&t.__markCompiled(),r.prototype={inform:function(e){for(var t=Array.prototype.slice.call(arguments,1),a=Array.prototype.slice.call(this.getSubscribers(e)),n=0;n<a.length;n++)if(null!==a[n])try{a[n].apply(this,t)}catch(e){setTimeout(function(){throw e},0)}return this},getSubscribers:function(e){return this.__observableEvents[e]||(this.__observableEvents[e]=[])},clearSubscribers:function(e){return e&&(this.__observableEvents[e]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(e,t){var a=this.getSubscribers(e);return a.push(t),this},unsubscribe:function(e,t){for(var a=this.getSubscribers(e),n=0;n<a.length;n++)if(a[n]===t){a.splice(n,1);break}return this},monitor:function e(t,a){if(!a()){var e=ES(function(n){a.apply(a,arguments)&&this.unsubscribe(t,e)},"bind",!0,this);this.subscribe(t,e)}return this}},o.exports=r},null),__d("UrlMap",["UrlMapConfig"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled();var s={resolve:function(e,t){var a="undefined"==typeof t?location.protocol.replace(":",""):t?"https":"http";return e in r?a+"://"+r[e]:"undefined"==typeof t&&e+"_"+a in r?a+"://"+r[e+"_"+a]:t!==!0&&e+"_http"in r?"http://"+r[e+"_http"]:t!==!1&&e+"_https"in r?"https://"+r[e+"_https"]:void 0}};o.exports=s},null),__d("QueryString",[],function(e,t,a,n,o,i){function r(e){var t=[];return ES(ES("Object","keys",!1,e).sort(),"forEach",!0,function(a){var n=e[a];if("undefined"!=typeof n)return null===n?void t.push(a):void t.push(encodeURIComponent(a)+"="+encodeURIComponent(n))}),t.join("&")}function s(e,t){var a={};if(""===e)return a;for(var n=e.split("&"),o=0;o<n.length;o++){var i=n[o].split("=",2),r=decodeURIComponent(i[0]);if(t&&a.hasOwnProperty(r))throw new URIError("Duplicate key: "+r);a[r]=2===i.length?decodeURIComponent(i[1]):null}return a}function l(e,t){return e+(ES(e,"indexOf",!0,"?")!==-1?"&":"?")+("string"==typeof t?t:d.encode(t))}t.__markCompiled&&t.__markCompiled();var d={encode:r,decode:s,appendToUrl:l};o.exports=d},null),__d("ManagedError",[],function(e,t,a,n,o,i){function r(e,t){Error.prototype.constructor.call(this,e),this.message=e,this.innerError=t}t.__markCompiled&&t.__markCompiled(),r.prototype=new Error,r.prototype.constructor=r,o.exports=r},null),__d("AssertionError",["ManagedError"],function(e,t,a,n,o,i,r){function s(e){r.prototype.constructor.apply(this,arguments)}t.__markCompiled&&t.__markCompiled(),s.prototype=new r,s.prototype.constructor=s,o.exports=s},null),__d("Assert",["AssertionError","sprintf"],function(e,t,a,n,o,i,r,s){function l(e,t){if("boolean"!=typeof e||!e)throw new r(t);return e}function d(e,t,a){var n;if(t===undefined)n="undefined";else if(null===t)n="null";else{var o=Object.prototype.toString.call(t);n=/\s(\w*)/.exec(o)[1].toLowerCase()}return l(ES(e,"indexOf",!0,n)!==-1,a||s("Expression is of type %s, not %s",n,e)),t}function c(e,t,a){return l(t instanceof e,a||"Expression not instance of type"),t}function u(e,t){p["is"+e]=t,p["maybe"+e]=function(e,a){null!=e&&t(e,a)}}t.__markCompiled&&t.__markCompiled();var p={isInstanceOf:c,isTrue:l,isTruthy:function(e,t){return l(!!e,t)},type:d,define:function(e,t){e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase(),u(e,function(e,a){l(t(e),a)})}};ES(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",!0,function(e){u(e,ES(d,"bind",!0,null,e.toLowerCase()))}),o.exports=p},null),__d("Type",["Assert"],function(e,t,a,n,o,i,r){function s(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function l(e,t){if(t instanceof e)return!0;if(t instanceof s)for(var a=0;a<t.__mixins.length;a++)if(t.__mixins[a]==e)return!0;return!1}function d(e,t){var a=e.prototype;ES("Array","isArray",!1,t)||(t=[t]);for(var n=0;n<t.length;n++){var o=t[n];"function"==typeof o&&(a.__mixins.push(o),o=o.prototype),ES(ES("Object","keys",!1,o),"forEach",!0,function(e){a[e]=o[e]})}}function c(e,t,a){function n(){}var o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){this.parent.apply(this,arguments)};if(r.isFunction(o),e&&e.prototype instanceof s==!1)throw new Error("parent type does not inherit from Type");return e=e||s,n.prototype=e.prototype,o.prototype=new n,t&&ES("Object","assign",!1,o.prototype,t),o.prototype.constructor=o,o.parent=e,o.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):[],a&&d(o,a),o.prototype.parent=function(){this.parent=e.prototype.parent,e.apply(this,arguments)},o.prototype.parentCall=function(t){return e.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))},o.extend=function(e,t){return c(this,e,t)},o}t.__markCompiled&&t.__markCompiled(),ES("Object","assign",!1,s.prototype,{instanceOf:function(e){return l(e,this)}}),ES("Object","assign",!1,s,{extend:function(e,t){return"function"==typeof e?c.apply(null,arguments):c(null,e,t)},instanceOf:l}),o.exports=s},null),__d("sdk.Model",["Type","ObservableMixin"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled();var l=r.extend({constructor:function(e){this.parent();var t={},a=this;ES(ES("Object","keys",!1,e),"forEach",!0,function(n){t[n]=e[n],a["set"+n]=function(e){return e===t[n]?this:(t[n]=e,a.inform(n+".change",e),a)},a["get"+n]=function(){return t[n]}})}},s);o.exports=l},null),__d("sdk.Runtime",["sdk.Model","JSSDKRuntimeConfig"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled();var l={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},d=new r({AccessToken:"",ClientID:"",CookieUserID:"",Environment:l.UNKNOWN,Initialized:!1,IsVersioned:!1,KidDirectedSite:undefined,Locale:s.locale,LoggedIntoFacebook:undefined,LoginStatus:undefined,Revision:s.revision,Rtl:s.rtl,Scope:undefined,Secure:undefined,UseCookie:!1,UserID:"",Version:undefined});ES("Object","assign",!1,d,{ENVIRONMENTS:l,isEnvironment:function(e){var t=this.getEnvironment();return(e|t)===t},isCanvasEnvironment:function(){return this.isEnvironment(l.CANVAS)||this.isEnvironment(l.PAGETAB)}}),function(){var e=/app_runner/.test(window.name)?l.PAGETAB:/iframe_canvas/.test(window.name)?l.CANVAS:l.UNKNOWN;(e|l.PAGETAB)===e&&(e|=l.CANVAS),d.setEnvironment(e)}(),o.exports=d},null),__d("sdk.Cookie",["QueryString","sdk.Runtime"],function(e,t,a,n,o,i,r,s){function l(e,t,a){e+=s.getClientID();var n=c&&"."!==c;n&&(document.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",document.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var o=new Date(a).toGMTString();document.cookie=e+"="+t+(t&&0===a?"":"; expires="+o)+"; path=/"+(n?"; domain="+c:"")}function d(e){e+=s.getClientID();var t=new RegExp("\\b"+e+"=([^;]*)\\b");return t.test(document.cookie)?RegExp.$1:null}t.__markCompiled&&t.__markCompiled();var c=null,u={setDomain:function(e){c=e;var t=r.encode({base_domain:c&&"."!==c?c:""}),a=new Date;a.setFullYear(a.getFullYear()+1),l("fbm_",t,a.getTime())},getDomain:function(){return c},loadMeta:function(){var e=d("fbm_");if(e){var t=r.decode(e);return c||(c=t.base_domain),t}},loadSignedRequest:function(){return d("fbsr_")},setSignedRequestCookie:function(e,t){if(!e)throw new Error("Value passed to Cookie.setSignedRequestCookie "+"was empty.");l("fbsr_",e,t)},clearSignedRequestCookie:function(){l("fbsr_","",0)},setRaw:l,getRaw:d};o.exports=u},null),__d("Miny",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r="Miny1",s="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split(""),l={encode:function(e){if(/^$|[~\\]|__proto__/.test(e))return e;var t,a=e.match(/\w+|\W+/g),n=ES("Object","create",!1,null);for(t=0;t<a.length;t++)n[a[t]]=(n[a[t]]||0)+1;var o=ES("Object","keys",!1,n);for(o.sort(function(e,t){return n[t]-n[e]}),t=0;t<o.length;t++){var i=(t-t%32)/32;n[o[t]]=i?i.toString(32)+s[t%32]:s[t%32]}var l="";for(t=0;t<a.length;t++)l+=n[a[t]];return o.unshift(r,o.length),o.push(l),o.join("~")}};o.exports=l},null),__d("sdk.UA",[],function(e,t,a,n,o,i){function r(e){return ES(e.split("."),"map",!0,function(e){return parseFloat(e)})}t.__markCompiled&&t.__markCompiled();var s=navigator.userAgent,l={iphone:/\b(iPhone|iP[ao]d)/.test(s),ipad:/\b(iP[ao]d)/.test(s),android:/Android/i.test(s),nativeApp:/FBAN\/\w+;/i.test(s)},d=/Mobile/i.test(s),c={ie:"",firefox:"",chrome:"",webkit:"",osx:"",edge:"",operaMini:"",ucWeb:""},u=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(s);if(u&&(c.ie=u[1]?parseFloat(u[1]):u[4]?parseFloat(u[4]):"",c.firefox=u[2]||"",c.webkit=u[3]||"",u[3])){var p=/(?:Chrome\/(\d+\.\d+))/.exec(s);c.chrome=p?p[1]:"";var f=/(?:Edge\/(\d+\.\d+))/.exec(s);c.edge=f?f[1]:""}var m=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(s);m&&(c.osx=m[1]);var g=/(?:Opera Mini\/(\d+(?:\.\d+)?))/.exec(s);g&&(c.operaMini=g[1]);var h=/(?:UCWEB\/(\d+(?:\.\d+))?)/.exec(s);h&&(c.ucWeb=h[1]||"2.0");var v={};ES(ES("Object","keys",!1,c),"map",!0,function(e){v[e]=function(){return parseFloat(c[e])},v[e].getVersionParts=function(){return r(c[e])}}),ES(ES("Object","keys",!1,l),"map",!0,function(e){v[e]=function(){return l[e]}}),v.mobile=function(){return l.iphone||l.ipad||l.android||d},v.mTouch=function(){return l.android||l.iphone||l.ipad},v.mBasic=function(){return!(!c.ucWeb&&!c.operaMini)},o.exports=v},null),__d("getBlankIframeSrc",["sdk.UA"],function(e,t,a,n,o,i,r){function s(){return r.ie()<10?"javascript:false":"about:blank"}t.__markCompiled&&t.__markCompiled(),o.exports=s},null),__d("insertIframe",["GlobalCallback","getBlankIframeSrc","guid"],function(e,t,a,n,o,i,r,s,l){function d(e){e.id=e.id||l(),e.name=e.name||l();var t=!1,a=!1,n=function(){t&&!a&&(a=!0,e.onload&&e.onload(e.root.firstChild))},o=r.create(n);if(document.attachEvent){var i="<iframe"+' id="'+e.id+'" name="'+e.name+'"'+(e.title?' title="'+e.title+'"':"")+(e.className?' class="'+e.className+'"':"")+' style="border:none;'+(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":"")+'" src="'+s()+'" frameborder="0" scrolling="no" allowtransparency="true" onload="'+o+'()"></iframe>';e.root.innerHTML='<iframe src="'+s()+'" frameborder="0" scrolling="no" style="height:1px"></iframe>',t=!0,setTimeout(function(){e.root.innerHTML=i,e.root.firstChild.src=e.url,e.onInsert&&e.onInsert(e.root.firstChild)},0)}else{var d=document.createElement("iframe");d.id=e.id,d.name=e.name,d.onload=n,d.scrolling="no",d.style.border="none",d.style.overflow="hidden",e.title&&(d.title=e.title),e.className&&(d.className=e.className),e.height!==undefined&&(d.style.height=e.height+"px"),e.width!==undefined&&("100%"==e.width?d.style.width=e.width:d.style.width=e.width+"px"),e.root.appendChild(d),t=!0,d.src=e.url,e.onInsert&&e.onInsert(d)}}t.__markCompiled&&t.__markCompiled(),o.exports=d},null),__d("sdk.domReady",["sdk.Runtime"],function(e,t,a,n,o,i,r){function s(){if(d){for(var e;e=d.shift();)e();d=null}}function l(e){return d?void d.push(e):void e()}t.__markCompiled&&t.__markCompiled();var d,c="readyState"in document?/loaded|complete/.test(document.readyState):!!document.body;if(!c&&(d=[],document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",s),window.attachEvent("onload",s)),document.documentElement.doScroll&&window==window.top)){var u=function e(){try{r.getRtl()?document.documentElement.doScroll("right"):document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}s()};u()}o.exports=l},3),__d("sdk.Content",["Log","sdk.UA","sdk.domReady"],function(e,t,a,n,o,i,r,s,l){t.__markCompiled&&t.__markCompiled();var d,c={append:function(e,t){if(t||(d?t=d:(d=t=document.getElementById("fb-root"),t||(r.warn('The "fb-root" div has not been created, auto-creating'),d=t=document.createElement("div"),t.id="fb-root",s.ie()||!document.body?l(function(){document.body.appendChild(t)}):document.body.appendChild(t)),t.className+=" fb_reset")),"string"==typeof e){var a=document.createElement("div");return t.appendChild(a).innerHTML=e,a}return t.appendChild(e)},appendHidden:function(e){if(!t){var t=document.createElement("div"),a=t.style;a.position="absolute",a.top="-10000px",a.width=a.height=0,t=c.append(t)}return c.append(e,t)},submitToTarget:function(e,t){var a=document.createElement("form");a.action=e.url,a.target=e.target,a.method=t?"GET":"POST",c.appendHidden(a);for(var n in e.params)if(e.params.hasOwnProperty(n)){var o=e.params[n];if(null!==o&&o!==undefined){var i=document.createElement("input");i.name=n,i.value=o,a.appendChild(i)}}a.submit(),a.parentNode.removeChild(a)}};o.exports=c},null),__d("sdk.Impressions",["sdk.Content","Miny","QueryString","sdk.Runtime","UrlMap","getBlankIframeSrc","guid","insertIframe"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f){function m(e){var t=d.getClientID();!e.api_key&&t&&(e.api_key=t),e.kid_directed_site=d.getKidDirectedSite();var a=c.resolve("www",!0)+"/impression.php/"+p()+"/",n=l.appendToUrl(a,e);if(n.length>2e3&&e.payload&&"string"==typeof e.payload){var o=s.encode(e.payload);o&&o.length<e.payload.length&&(e.payload=o,n=l.appendToUrl(a,e))}if(n.length<=2e3){var i=new Image;i.src=n}else{var m=p(),g=r.appendHidden("");f({url:u(),root:g,name:m,className:"fb_hidden fb_invisible",onload:function(){g.parentNode.removeChild(g)}}),r.submitToTarget({url:a,target:m,params:e})}}t.__markCompiled&&t.__markCompiled();var g={log:function(e,t){t.source||(t.source="jssdk"),m({lid:e,payload:ES("JSON","stringify",!1,t)})},impression:m};o.exports=g},null),__d("sdk.Scribe",["QueryString","sdk.Runtime","UrlMap"],function(e,t,a,n,o,i,r,s,l){function d(e,t){"object"==typeof t.extra&&(t.extra.revision=s.getRevision()),(new Image).src=r.appendToUrl(l.resolve("www",!0)+"/common/scribe_endpoint.php",{c:e,m:ES("JSON","stringify",!1,t)})}t.__markCompiled&&t.__markCompiled();var c={log:d};o.exports=c},null),__d("Base64",[],function(e,t,a,n,o,i){function r(e){return e=e.charCodeAt(0)<<16|e.charCodeAt(1)<<8|e.charCodeAt(2),String.fromCharCode(l.charCodeAt(e>>>18),l.charCodeAt(e>>>12&63),l.charCodeAt(e>>>6&63),l.charCodeAt(63&e))}function s(e){return e=d.charCodeAt(e.charCodeAt(0)-43)<<18|d.charCodeAt(e.charCodeAt(1)-43)<<12|d.charCodeAt(e.charCodeAt(2)-43)<<6|d.charCodeAt(e.charCodeAt(3)-43),String.fromCharCode(e>>>16,e>>>8&255,255&e)}t.__markCompiled&&t.__markCompiled();var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=">___?456789:;<=_______"+"\0\b\t\n\v\f\r______ !\"#$%&'()*+,-./0123",c={encode:function(e){e=unescape(encodeURI(e));var t=(e.length+2)%3;return e=(e+"\0\0".slice(t)).replace(/[\s\S]{3}/g,r),e.slice(0,e.length+t-2)+"==".slice(t)},decode:function(e){e=e.replace(/[^A-Za-z0-9+\/]/g,"");var t=e.length+3&3;e=(e+"AAA".slice(t)).replace(/..../g,s),e=e.slice(0,e.length+t-3);try{return decodeURIComponent(escape(e))}catch(e){throw new Error("Not valid UTF-8")}},encodeObject:function(e){return c.encode(ES("JSON","stringify",!1,e))},decodeObject:function(e){return ES("JSON","parse",!1,c.decode(e))},encodeNums:function(e){return String.fromCharCode.apply(String,ES(e,"map",!0,function(e){return l.charCodeAt((e|-(e>63))&-(e>0)&63)}))}};o.exports=c},null),__d("sdk.SignedRequest",["Base64"],function(e,t,a,n,o,i,r){function s(e){if(!e)return null;var t=e.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return r.decodeObject(t)}t.__markCompiled&&t.__markCompiled();var l={parse:s};o.exports=l},null),__d("URIRFC3986",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r=new RegExp("^"+"([^:/?#]+:)?(//([^\\\\/?#@]*@)?(\\[[A-Fa-f0-9:.]+\\]|[^\\/?#:]*)(:[0-9]*)?)?([^?#]*)(\\?[^#]*)?(#.*)?"),s={parse:function(e){if(""===ES(e,"trim",!0))return null;var t=e.match(r);if(null==t)return null;var a={};return a.uri=t[0]?t[0]:null,a.scheme=t[1]?t[1].substr(0,t[1].length-1):null,a.authority=t[2]?t[2].substr(2):null,a.userinfo=t[3]?t[3].substr(0,t[3].length-1):null,a.host=t[2]?t[4]:null,a.port=t[5]&&t[5].substr(1)?parseInt(t[5].substr(1),10):null,a.path=t[6]?t[6]:null,a.query=t[7]?t[7].substr(1):null,a.fragment=t[8]?t[8].substr(1):null,a.isGenericURI=null===a.authority&&!!a.scheme,a}};o.exports=s},null),__d("createObjectFrom",[],function(e,t,a,n,o,i){function r(e,t){var a={},n=ES("Array","isArray",!1,t);t===undefined&&(t=!0);for(var o=e.length-1;o>=0;o--)a[e[o]]=n?t[o]:t;return a}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("URISchemes",["createObjectFrom"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled();var s=r(["blob","cmms","fb","fbatwork","fb-ama","fb-messenger","fb-page-messages","fbcf","fbconnect","fbmobilehome","fbrpc","file","ftp","http","https","mailto","ms-app","intent","itms","itms-apps","itms-services","market","svn+ssh","fbstaging","tel","sms","pebblejs","sftp","whatsapp","moments","fblite","chrome-extension","webcal","fb124024574287414"]),l={isAllowed:function(e){return!e||s.hasOwnProperty(e.toLowerCase())}};o.exports=l},null),__d("eprintf",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r=function e(t){var a=ES(Array.prototype.slice.call(arguments),"map",!0,function(e){return String(e)}),n=t.split("%s").length-1;if(n!==a.length-1)return e("eprintf args number mismatch: %s",ES("JSON","stringify",!1,a));var o=1;return t.replace(/%s/g,function(e){return String(a[o++])})};o.exports=r},null),__d("ex",["eprintf"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled();var s=function e(){for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return a=ES(a,"map",!0,function(e){return String(e)}),a[0].split("%s").length!==a.length?e("ex args number mismatch: %s",ES("JSON","stringify",!1,a)):e._prefix+ES("JSON","stringify",!1,a)+e._suffix};s._prefix="<![EX[",s._suffix="]]>",o.exports=s},null),__d("invariant",["ex","sprintf"],function(e,t,a,n,o,i,r,s){"use strict";function l(e,t){if(!e){var a=void 0;if(t===undefined)a=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.");else{for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];a=new Error(d.apply(undefined,[t].concat(o))),a.name="Invariant Violation",a.messageWithParams=[t].concat(o)}throw a.framesToPop=1,a}}t.__markCompiled&&t.__markCompiled();var d=r;o.exports=l},null),__d("setHostSubdomain",[],function(e,t,a,n,o,i){function r(e,t){var a=e.split(".");return a.length<3?a.unshift(t):a[0]=t,a.join(".")}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("URIBase",["URIRFC3986","URISchemes","ex","invariant","setHostSubdomain"],function(e,t,a,n,o,i,r,s,l,d,c){function u(e,t,a,n){if(!t)return!0;if(t instanceof p)return e.setProtocol(t.getProtocol()),e.setDomain(t.getDomain()),e.setPort(t.getPort()),e.setPath(t.getPath()),e.setQueryData(n.deserialize(n.serialize(t.getQueryData()))),e.setFragment(t.getFragment()),e.setIsGeneric(t.getIsGeneric()),e.setForceFragmentSeparator(t.getForceFragmentSeparator()),!0;t=ES(t.toString(),"trim",!0);var o=r.parse(t)||{fragment:null,scheme:null};if(!a&&!s.isAllowed(o.scheme))return!1;if(e.setProtocol(o.scheme||""),!a&&f.test(o.host||""))return!1;if(e.setDomain(o.host||""),e.setPort(o.port||""),e.setPath(o.path||""),a)e.setQueryData(n.deserialize(o.query||"")||{});else try{e.setQueryData(n.deserialize(o.query||"")||{})}catch(e){return!1}if(e.setFragment(o.fragment||""),""===o.fragment&&e.setForceFragmentSeparator(!0),e.setIsGeneric(o.isGenericURI||!1),null!==o.userinfo){if(a)throw new Error(l("URI.parse: invalid URI (userinfo is not allowed in a URI): %s",e.toString()));return!1}if(!e.getDomain()&&ES(e.getPath(),"indexOf",!0,"\\")!==-1){if(a)throw new Error(l("URI.parse: invalid URI (no domain but multiple back-slashes): %s",e.toString()));return!1}if(!e.getProtocol()&&m.test(t)){if(a)throw new Error(l("URI.parse: invalid URI (unsafe protocol-relative URLs): %s",e.toString()));return!1}return!0}function p(e,t){"use strict";t?void 0:d(0),this.$URIBase9=t,this.$URIBase7="",this.$URIBase1="",this.$URIBase6="",this.$URIBase5="",this.$URIBase3="",this.$URIBase4=!1,this.$URIBase8={},this.$URIBase2=!1,u(this,e,!0,t)}t.__markCompiled&&t.__markCompiled();var f=new RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f"+"\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),m=new RegExp("^(?:[^/]*:|"+"[\\x00-\\x1f]*/[\\x00-\\x1f]*/)"),g=[];p.prototype.setProtocol=function(e){"use strict";return s.isAllowed(e)?void 0:d(0),this.$URIBase7=e,this},p.prototype.getProtocol=function(){"use strict";return this.$URIBase7},p.prototype.setSecure=function(e){"use strict";return this.setProtocol(e?"https":"http")},p.prototype.isSecure=function(){"use strict";return"https"===this.getProtocol()},p.prototype.setDomain=function(e){"use strict";if(f.test(e))throw new Error(l("URI.setDomain: unsafe domain specified: %s for url %s",e,this.toString()));return this.$URIBase1=e,this},p.prototype.getDomain=function(){"use strict";return this.$URIBase1},p.prototype.setPort=function(e){"use strict";return this.$URIBase6=e,this},p.prototype.getPort=function(){"use strict";return this.$URIBase6},p.prototype.setPath=function(e){"use strict";return this.$URIBase5=e,this},p.prototype.getPath=function(){"use strict";return this.$URIBase5},p.prototype.addQueryData=function(e,t){"use strict";return"[object Object]"===Object.prototype.toString.call(e)?ES("Object","assign",!1,this.$URIBase8,e):this.$URIBase8[e]=t,this},p.prototype.setQueryData=function(e){"use strict";return this.$URIBase8=e,this},p.prototype.getQueryData=function(){"use strict";return this.$URIBase8},p.prototype.removeQueryData=function(e){"use strict";ES("Array","isArray",!1,e)||(e=[e]);for(var t=0,a=e.length;t<a;++t)delete this.$URIBase8[e[t]];return this},p.prototype.setFragment=function(e){"use strict";return this.$URIBase3=e,this.setForceFragmentSeparator(!1),this},p.prototype.getFragment=function(){"use strict";return this.$URIBase3},p.prototype.setForceFragmentSeparator=function(e){"use strict";return this.$URIBase2=e,this},p.prototype.getForceFragmentSeparator=function(){"use strict";return this.$URIBase2},p.prototype.setIsGeneric=function(e){"use strict";return this.$URIBase4=e,this},p.prototype.getIsGeneric=function(){"use strict";return this.$URIBase4},p.prototype.isEmpty=function(){"use strict";return!(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||ES("Object","keys",!1,this.getQueryData()).length>0||this.getFragment())},p.prototype.toString=function(){"use strict";for(var e=this,t=0;t<g.length;t++)e=g[t](e);return e.$URIBase10()},p.prototype.$URIBase10=function(){"use strict";var e="",t=this.getProtocol();t&&(e+=t+":"+(this.getIsGeneric()?"":"//"));var a=this.getDomain();a&&(e+=a);var n=this.getPort();n&&(e+=":"+n);var o=this.getPath();o?e+=o:e&&(e+="/");var i=this.$URIBase9.serialize(this.getQueryData());i&&(e+="?"+i);var r=this.getFragment();return r?e+="#"+r:this.getForceFragmentSeparator()&&(e+="#"),e},p.registerFilter=function(e){"use strict";g.push(e)},p.prototype.getOrigin=function(){"use strict";var e=this.getPort();return this.getProtocol()+"://"+this.getDomain()+(e?":"+e:"")},p.prototype.getQualifiedURIBase=function(){"use strict";return new p(this,this.$URIBase9).qualify()},p.prototype.qualify=function(){"use strict";if(!this.getDomain()){var e=new p(window.location.href,this.$URIBase9);this.setProtocol(e.getProtocol()).setDomain(e.getDomain()).setPort(e.getPort())}return this},p.prototype.setSubdomain=function(e){"use strict";var t=this.qualify().getDomain();return this.setDomain(c(t,e))},p.prototype.getSubdomain=function(){"use strict";if(!this.getDomain())return"";var e=this.getDomain().split(".");return e.length<=2?"":e[0]},p.isValidURI=function(e,t){return u(new p(null,t),e,!1,t)},o.exports=p},null),__d("sdk.URI",["Assert","QueryString","URIBase"],function(e,t,a,n,o,i,r,s,l){function d(e){"use strict";r.isString(e,"The passed argument was of invalid type."),u.constructor.call(this,e,f)}var c,u;t.__markCompiled&&t.__markCompiled();var p=/\.facebook\.com$/,f={serialize:function(e){return e?s.encode(e):""},deserialize:function(e){return e?s.decode(e):{}}};c=babelHelpers.inherits(d,l),u=c&&c.prototype,d.prototype.isFacebookURI=function(){"use strict";return p.test(this.getDomain())},d.prototype.valueOf=function(){"use strict";return this.toString()},o.exports=d},null),__d("Queue",[],function(e,t,a,n,o,i){function r(e){"use strict";this._opts=babelHelpers.extends({interval:0,processor:null},e),this._queue=[],this._stopped=!0}t.__markCompiled&&t.__markCompiled();var s={};r.prototype._dispatch=function(e){"use strict";if(!this._stopped&&0!==this._queue.length){if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=setTimeout(ES(this._dispatch,"bind",!0,this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}},r.prototype.enqueue=function(e){"use strict";return this._opts.processor&&!this._stopped?this._opts.processor.call(this,e):this._queue.push(e),this},r.prototype.start=function(e){"use strict";return e&&(this._opts.processor=e),this._stopped=!1,this._dispatch(),this},r.prototype.isStarted=function(){"use strict";return!this._stopped},r.prototype.dispatch=function(){"use strict";this._dispatch(!0)},r.prototype.stop=function(e){"use strict";return this._stopped=!0,e&&clearTimeout(this._timeout),this},r.prototype.merge=function(e,t){"use strict";return this._queue[t?"unshift":"push"].apply(this._queue,e._queue),e._queue=[],this._dispatch(),this},r.prototype.getLength=function(){"use strict";return this._queue.length},r.get=function(e,t){"use strict";var a;return a=e in s?s[e]:s[e]=new r(t)},r.exists=function(e){"use strict";return e in s},r.remove=function(e){"use strict";return delete s[e]},o.exports=r},null),__d("DOMEventListener",["invariant","wrapFunction"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled();var l=void 0,d=void 0;window.addEventListener?(l=function(e,t,a){a.wrapper=s(a,"entry","DOMEventListener.add "+t),e.addEventListener(t,a.wrapper,!1)},d=function(e,t,a){e.removeEventListener(t,a.wrapper,!1)}):window.attachEvent?(l=function(e,t,a){a.wrapper=s(a,"entry","DOMEventListener.add "+t),e.attachEvent?void 0:r(0),e.attachEvent("on"+t,a.wrapper)},d=function(e,t,a){e.detachEvent?void 0:r(0),e.detachEvent("on"+t,a.wrapper)}):d=l=function(){};var c={add:function(e,t,a){return l(e,t,a),{remove:function(){d(e,t,a)}}},remove:d};o.exports=c},null),__d("UserAgent_DEPRECATED",[],function(e,t,a,n,o,i){function r(){if(!C){C=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),a=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(b=/\b(iPhone|iP[ao]d)/.exec(e),_=/\b(iP[ao]d)/.exec(e),h=/Android/i.exec(e),y=/FBAN\/\w+;/i.exec(e),w=/Mobile/i.exec(e),v=!!/Win64/.exec(e),t){s=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,s&&document&&document.documentMode&&(s=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);p=n?parseFloat(n[1])+4:s,l=t[2]?parseFloat(t[2]):NaN,d=t[3]?parseFloat(t[3]):NaN,c=t[4]?parseFloat(t[4]):NaN,c?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),u=t&&t[1]?parseFloat(t[1]):NaN):u=NaN}else s=l=d=u=c=NaN;if(a){if(a[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);f=!o||parseFloat(o[1].replace("_","."))}else f=!1;m=!!a[2],g=!!a[3]}else f=m=g=!1}}t.__markCompiled&&t.__markCompiled();var s,l,d,c,u,p,f,m,g,h,v,b,_,y,w,C=!1,E={ie:function(){return r()||s},ieCompatibilityMode:function(){return r()||p>s},ie64:function(){return E.ie()&&v},firefox:function(){return r()||l},opera:function(){return r()||d},webkit:function(){return r()||c},safari:function(){return E.webkit()},chrome:function(){return r()||u},windows:function(){return r()||m},osx:function(){return r()||f},linux:function(){return r()||g},iphone:function(){return r()||b},mobile:function(){return r()||b||_||h||w},nativeApp:function(){return r()||y},android:function(){return r()||h},ipad:function(){return r()||_}};o.exports=E},null),__d("htmlSpecialChars",[],function(e,t,a,n,o,i){function r(e){return"undefined"!=typeof e&&null!==e&&e.toString?e===!1?"0":e===!0?"1":e.toString().replace(s,"&amp;").replace(c,"&quot;").replace(u,"&#039;").replace(l,"&lt;").replace(d,"&gt;"):""}t.__markCompiled&&t.__markCompiled();var s=/&/g,l=/</g,d=/>/g,c=/"/g,u=/'/g;o.exports=r},null),__d("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent_DEPRECATED","guid","htmlSpecialChars"],function(e,t,a,n,o,i,r,s,l,d,c,u){function p(e){var t=b.getElementById(e);t&&t.parentNode.removeChild(t),delete v[e]}function f(){for(var e in v)v.hasOwnProperty(e)&&p(e)}function m(e){return e.replace(/\d+/g,function(e){return"000".substring(e.length)+e})}function g(e){h||(d.ie()>=9&&r.add(window,"unload",f),h=!0),v[e]=e}t.__markCompiled&&t.__markCompiled();var h,v={},b=s.getWindow().document,_={embed:function(e,t,a,n){var o=c();e=u(e).replace(/&amp;/g,"&"),a=babelHelpers.extends({allowscriptaccess:"always",flashvars:n,movie:e},a),"object"==typeof a.flashvars&&(a.flashvars=l.encode(a.flashvars));var i=[];for(var r in a)a.hasOwnProperty(r)&&a[r]&&i.push('<param name="'+u(r)+'" value="'+u(a[r])+'">');var s=t.appendChild(b.createElement("span")),p="<object "+(d.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+e+'" '+(a.height?'height="'+a.height+'" ':"")+(a.width?'width="'+a.width+'" ':"")+'id="'+o+'">'+i.join("")+"</object>";
s.innerHTML=p;var f=s.firstChild;return g(o),f},remove:p,getVersion:function(){var e,t="Shockwave Flash",a="application/x-shockwave-flash",n="ShockwaveFlash.ShockwaveFlash";if(navigator.plugins&&"object"==typeof navigator.plugins[t]){var o=navigator.plugins[t].description;o&&navigator.mimeTypes&&navigator.mimeTypes[a]&&navigator.mimeTypes[a].enabledPlugin&&(e=o.match(/\d+/g))}if(!e)try{e=new ActiveXObject(n).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),e=Array.prototype.slice.call(e,1)}catch(e){}return e},getVersionString:function(){var e=_.getVersion();return e?e.join("."):""},checkMinVersion:function(e){var t=_.getVersion();return!!t&&m(t.join("."))>=m(e)},isAvailable:function(){return!!_.getVersion()}};o.exports=_},null),__d("emptyFunction",[],function(e,t,a,n,o,i){function r(e){return function(){return e}}t.__markCompiled&&t.__markCompiled();var s=function(){};s.thatReturns=r,s.thatReturnsFalse=r(!1),s.thatReturnsTrue=r(!0),s.thatReturnsNull=r(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e},o.exports=s},null),__d("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent_DEPRECATED","wrapFunction"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){function g(e){for(var t={},a=e.length,n=v.transports;a--;)t[e[a]]=1;for(a=n.length;a--;){var o=n[a],i=h[o];if(!t[o]&&i.isAvailable())return o}}t.__markCompiled&&t.__markCompiled();var h={},v={transports:[]},b=s.getWindow(),_={register:function(e,t){p.debug("Registering %s as XDM provider",e),v.transports.push(e),h[e]=t},create:function(e){if(!e.whenReady&&!e.onMessage)throw p.error("An instance without whenReady or onMessage makes no sense"),new Error("An instance without whenReady or "+"onMessage makes no sense");e.channel||(p.warn("Missing channel name, selecting at random"),e.channel=u()),e.whenReady||(e.whenReady=l),e.onMessage||(e.onMessage=l);var t=e.transport||g(e.blacklist||[]),a=h[t];if(a&&a.isAvailable())return p.debug("%s is available",t),a.init(e),t}};_.register("flash",function(){var e,t,a=!1,n=!1,o=15e3;return{isAvailable:function(){return d.checkMinVersion("8.0.24")},init:function(i){p.debug("init flash: "+i.channel);var r={send:function(t,a,n,o){p.debug("sending to: %s (%s)",a,o),e.postMessage(t,a,o)}};if(a)return void i.whenReady(r);var s=i.root.appendChild(b.document.createElement("div")),l=c.create(function(){c.remove(l),clearTimeout(t),p.info("xdm.swf called the callback");var a=c.create(function(e,t){e=decodeURIComponent(e),t=decodeURIComponent(t),p.debug("received message %s from %s",e,t),i.onMessage(e,t)},"xdm.swf:onMessage");e.init(i.channel,a),i.whenReady(r)},"xdm.swf:load");e=d.embed(i.flashUrl,s,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:l,log:n}),t=setTimeout(function(){p.warn("The Flash component did not load within %s ms - "+"verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",o)},o),a=!0}}}());var y=/\.facebook\.com(\/|$)/;_.register("postmessage",function(){var e=!1;return{isAvailable:function(){return!!b.postMessage},init:function(t){p.debug("init postMessage: "+t.channel);var a="_FB_"+t.channel,n={send:function e(t,a,n,o){if(b===n)throw p.error("Invalid windowref, equal to window (self)"),new Error;p.debug("sending to: %s (%s)",a,o);var e=function(){n.postMessage("_FB_"+o+t,a)};8==f.ie()||f.ieCompatibilityMode()?setTimeout(e,0):e()}};return e?void t.whenReady(n):(r.add(b,"message",m(function(e){var n=e.data,o=e.origin||"native";if(!/^(https?:\/\/|native$)/.test(o))return void p.debug("Received message from invalid origin type: %s",o);if("native"===o||y.test(location.hostname)||y.test(e.origin)){if("string"!=typeof n)return void p.warn("Received message of type %s from %s, expected a string",typeof n,o);p.debug("received message %s from %s",n,o),n.substring(0,a.length)==a&&(n=n.substring(a.length)),t.onMessage(n,o)}},"entry","onMessage")),t.whenReady(n),void(e=!0))}}}()),o.exports=_},null),__d("isFacebookURI",[],function(e,t,a,n,o,i){function r(e){return s||(s=new RegExp("(^|\\.)facebook\\.com$","i")),(!e.isEmpty()||"#"===e.toString())&&(!e.getDomain()&&!e.getProtocol()||ES(l,"indexOf",!0,e.getProtocol())!==-1&&s.test(e.getDomain()))}t.__markCompiled&&t.__markCompiled();var s=null,l=["http","https"];r.setRegex=function(e){s=e},o.exports=r},null),__d("sdk.Event",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={SUBSCRIBE:"event.subscribe",UNSUBSCRIBE:"event.unsubscribe",subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(e,t){var a=this.subscribers();a[e]?ES(a[e],"indexOf",!0,t)==-1&&a[e].push(t):a[e]=[t],e!=this.SUBSCRIBE&&e!=this.UNSUBSCRIBE&&this.fire(this.SUBSCRIBE,e,a[e])},unsubscribe:function(e,t){var a=this.subscribers()[e];a&&ES(a,"forEach",!0,function(e,n){e==t&&a.splice(n,1)}),e!=this.SUBSCRIBE&&e!=this.UNSUBSCRIBE&&this.fire(this.UNSUBSCRIBE,e,a)},monitor:function(e,t){if(!t()){var a=this,n=function n(){t.apply(t,arguments)&&a.unsubscribe(e,n)};this.subscribe(e,n)}},clear:function(e){delete this.subscribers()[e]},fire:function(e){var t=Array.prototype.slice.call(arguments,1),a=this.subscribers()[e];a&&ES(a,"forEach",!0,function(e){e&&e.apply(this,t)})}};o.exports=r},null),__d("JSONRPC",["Log"],function(e,t,a,n,o,i,r){function s(e){"use strict";this.$JSONRPC1=0,this.$JSONRPC2={},this.remote=ES(function(e){return this.$JSONRPC3=e,this.remote},"bind",!0,this),this.local={},this.$JSONRPC4=e}t.__markCompiled&&t.__markCompiled(),s.prototype.stub=function(e){"use strict";this.remote[e]=ES(function(){for(var t={jsonrpc:"2.0",method:e},a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];"function"==typeof n[n.length-1]&&(t.id=++this.$JSONRPC1,this.$JSONRPC2[t.id]=n.pop()),t.params=n,this.$JSONRPC4(ES("JSON","stringify",!1,t),this.$JSONRPC3||{method:e})},"bind",!0,this)},s.prototype.read=function(e,t){"use strict";var a=ES("JSON","parse",!1,e),n=a.id;if(!a.method){if(!this.$JSONRPC2[n])return void r.warn("Could not find callback %s",n);var o=this.$JSONRPC2[n];return delete this.$JSONRPC2[n],delete a.id,delete a.jsonrpc,void o(a)}var i,s=this,l=this.local[a.method];if(i=n?function(e,a){var o={jsonrpc:"2.0",id:n};o[e]=a,setTimeout(function(){s.$JSONRPC4(ES("JSON","stringify",!1,o),t)},0)}:function(){},!l)return r.error('Method "%s" has not been defined',a.method),void i("error",{code:-32601,message:"Method not found",data:a.method});a.params.push(ES(i,"bind",!0,null,"result")),a.params.push(ES(i,"bind",!0,null,"error"));try{var d=l.apply(t||null,a.params);"undefined"!=typeof d&&i("result",d)}catch(e){r.error("Invokation of RPC method %s resulted in the error: %s",a.method,e.message),i("error",{code:-32603,message:"Internal error",data:e.message})}},o.exports=s},null),__d("sdk.RPC",["Assert","JSONRPC","Queue"],function(e,t,a,n,o,i,r,s,l){t.__markCompiled&&t.__markCompiled();var d=new l,c=new s(function(e){d.enqueue(e)}),u={local:c.local,remote:c.remote,stub:ES(c.stub,"bind",!0,c),setInQueue:function(e){r.isInstanceOf(l,e),e.start(function(e){c.read(e)})},getOutQueue:function(){return d}};o.exports=u},null),__d("hasNamePropertyBug",["guid","UserAgent_DEPRECATED"],function(e,t,a,n,o,i,r,s){function l(){var e=document.createElement("form"),t=e.appendChild(document.createElement("input"));return t.name=r(),c=t!==e.elements[t.name],e=t=null,c}function d(){return"undefined"==typeof c?l():c}t.__markCompiled&&t.__markCompiled();var c=!!s.ie()&&undefined;o.exports=d},null),__d("sdk.createIframe",["DOMEventListener","getBlankIframeSrc","guid","hasNamePropertyBug"],function(e,t,a,n,o,i,r,s,l,d){function c(e){e=ES("Object","assign",!1,{},e);var t,a=e.name||l(),n=e.root,o=e.style||{border:"none"},i=e.url,c=e.onload,u=e.onerror;d()?t=document.createElement('<iframe name="'+a+'"/>'):(t=document.createElement("iframe"),t.name=a),delete e.style,delete e.name,delete e.url,delete e.root,delete e.onload,delete e.onerror;var p=ES("Object","assign",!1,{frameBorder:0,allowTransparency:!0,allowFullscreen:!0,scrolling:"no"},e);p.width&&(t.width=p.width+"px"),p.height&&(t.height=p.height+"px"),delete p.height,delete p.width;for(var f in p)p.hasOwnProperty(f)&&t.setAttribute(f,p[f]);if(ES("Object","assign",!1,t.style,o),t.src=s(),n.appendChild(t),c)var m=r.add(t,"load",function(){m.remove(),c()});if(u)var g=r.add(t,"error",function(){g.remove(),u()});return t.src=i,t}t.__markCompiled&&t.__markCompiled(),o.exports=c},null),__d("sdk.FeatureFunctor",["invariant"],function(e,t,a,n,o,i,r){function s(e,t,a){if(e.features&&t in e.features){var n=e.features[t];return"object"==typeof n&&"number"==typeof n.rate?n.rate&&100*Math.random()<=n.rate?n.value||!0:!!n.value&&null:n}return a}function l(e){return function(t,a){return arguments.length>=2?void 0:r(0),s(e,t,a)}}t.__markCompiled&&t.__markCompiled(),o.exports={create:l}},null),__d("sdk.feature",["sdk.FeatureFunctor","JSSDKConfig"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled(),o.exports=r.create(s)},null),__d("sdk.XD",["sdk.Content","sdk.Event","Log","QueryString","Queue","sdk.RPC","sdk.Runtime","sdk.Scribe","sdk.URI","UrlMap","JSSDKXDConfig","XDM","isFacebookURI","sdk.createIframe","sdk.feature","guid"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_,y,w){function C(e){l.info("Remote XD can talk to facebook.com (%s)",e),p.setEnvironment("canvas"===e?p.ENVIRONMENTS.CANVAS:p.ENVIRONMENTS.PAGETAB)}function E(e,t){if(!t)throw l.error("No senderOrigin"),new Error;var a=/^https?/.exec(t)[0];switch(e.xd_action){case"proxy_ready":var n,o;"https"==a?(n=N,o=D,p.setLoggedIntoFacebook("true"===e.logged_in)):(n=O,o=x),e.registered&&(C(e.registered),T=n.merge(T)),l.info("Proxy ready, starting queue %s containing %s messages",a+"ProxyQueue",n.getLength()),n.start(function(e){I.send("string"==typeof e?e:d.encode(e),t,o.contentWindow,$+"_"+a)});break;case"plugin_ready":if(l.info("Plugin %s ready, protocol: %s",e.name,a),z[e.name]={protocol:a},c.exists(e.name)){var i=c.get(e.name);l.debug("Enqueuing %s messages for %s in %s",i.getLength(),e.name,a+"ProxyQueue"),("https"==a?N:O).merge(i)}}e.data&&S(e.data,t)}function S(e,t){if(!t||"native"===t||b(new m(t))){if("string"==typeof e){if(/^FB_RPC:/.test(e))return void W.enqueue(e.substring(7));if("{"==e.substring(0,1))try{e=ES("JSON","parse",!1,e)}catch(t){return void l.warn("Failed to decode %s as JSON",e)}else e=d.decode(e)}if(t||e.xd_sig==P&&(t=e.xd_origin),e.xd_action)return void E(e,t);if(e.access_token&&p.setSecure(/^https/.test(U)),e.cb){var a=V._callbacks[e.cb];V._forever[e.cb]||delete V._callbacks[e.cb],a&&a(e)}}}function k(e,t){if("facebook"==e)t.relation="parent.parent",T.enqueue(t);else{t.relation='parent.frames["'+e+'"]';var a=z[e];a?(l.debug("Enqueuing message for plugin %s in %s",e,a.protocol+"ProxyQueue"),("https"==a.protocol?N:O).enqueue(t)):(l.debug("Buffering message for plugin %s",e),c.get(e).enqueue(t))}}function A(e){if(!H){var t=r.appendHidden(document.createElement("div")),a=v.create({blacklist:null,root:t,channel:$,flashUrl:h.Flash.path,whenReady:function(n){I=n;var o={channel:$,origin:U,transport:a,xd_name:e},i="#"+d.encode(o);p.getSecure()!==!0&&(x=_({url:L+i,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:t,"aria-hidden":!0,title:j,tabindex:-1})),D=_({url:F+i,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:t,"aria-hidden":!0,title:j,tabindex:-1})},onMessage:S});a||f.log("jssdk_error",{appId:p.getClientID(),error:"XD_TRANSPORT",extra:{message:"Failed to create a valid transport"}}),H=!0}}t.__markCompiled&&t.__markCompiled();var x,D,I,T=new c,O=new c,N=new c,P=w(),M=h.useCdn?"cdn":"www",R=y("use_bundle",!1)?h.XdBundleUrl:h.XdUrl,L=g.resolve(M,!1)+R,F=g.resolve(M,!0)+R,B=function(){if("origin"in location){if(location.origin&&"null"!==location.origin)return location.origin;if(window!==window.parent)try{var e=parent.location.origin;if(e&&"null"!==e)return e}catch(e){}}return location.protocol+"//"+location.host},$=w(),U=B(),H=!1,j="Facebook Cross Domain Communication Frame",z={},W=new c;u.setInQueue(W),u.getOutQueue().start(function(e){k("facebook","FB_RPC:"+e)});var V={rpc:u,_callbacks:{},_forever:{},_channel:$,_origin:U,onMessage:S,recv:S,init:A,sendToFacebook:k,inform:function(e,t,a,n){k("facebook",{method:e,params:ES("JSON","stringify",!1,t||{}),behavior:n||"p",relation:a})},handler:function(e,t,a,n){var o="#"+d.encode({cb:this.registerCallback(e,a,n),origin:U+"/"+$,domain:location.hostname,relation:t||"opener"});return("https:"==location.protocol?F:L)+o},registerCallback:function(e,t,a){return a=a||w(),t&&(V._forever[a]=!0),V._callbacks[a]=e,a},getXDArbiterURL:function(e){return e?F:L}};s.subscribe("init:post",function(e){A(e.xdProxyName);var t=y("xd_timeout",!1);t&&setTimeout(function(){var e=D&&!!x==O.isStarted()&&!!D==N.isStarted();e||f.log("jssdk_error",{appId:p.getClientID(),error:"XD_INITIALIZATION",extra:{message:"Failed to initialize in "+t+"ms"}})},t)}),o.exports=V},null),__d("sdk.getContextType",["sdk.Runtime","sdk.UA"],function(e,t,a,n,o,i,r,s){function l(){return s.nativeApp()?3:s.mobile()?2:r.isEnvironment(r.ENVIRONMENTS.CANVAS)?5:1}t.__markCompiled&&t.__markCompiled(),o.exports=l},null),__d("sdk.Auth",["sdk.Cookie","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","sdk.Runtime","sdk.Scribe","sdk.SignedRequest","UrlMap","sdk.URI","sdk.XD"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_,y){function w(e,t){var a=g.getUserID(),n="";if(e)if(e.userID)n=e.userID;else if(e.signedRequest){var o=v.parse(e.signedRequest);o&&o.user_id&&(n=o.user_id)}var i=g.getLoginStatus(),r="unknown"===i&&e||g.getUseCookie()&&g.getCookieUserID()!==n,s=a&&!e,l=e&&a&&a!=n,d=e!=D,c=t!=(i||"unknown");g.setLoginStatus(t),g.setAccessToken(e&&e.accessToken||null),g.setUserID(n),D=e;var u={authResponse:e,status:t};return(s||l)&&P.inform("logout",u),(r||l)&&P.inform("login",u),d&&P.inform("authresponse.change",u),c&&P.inform("status.change",u),u}function C(){return D}function E(e,t,a){return function(n){var o;if(n&&n.access_token){var i=v.parse(n.signed_request);if(t={accessToken:n.access_token,userID:i.user_id,expiresIn:parseInt(n.expires_in,10),signedRequest:n.signed_request},n.granted_scopes&&(t.grantedScopes=n.granted_scopes),g.getUseCookie()){var s=0===t.expiresIn?0:ES("Date","now",!1)+1e3*t.expiresIn,l=r.getDomain();!l&&n.base_domain&&r.setDomain("."+n.base_domain),r.setSignedRequestCookie(n.signed_request,s),S()}o="connected",w(t,o)}else"logout"!==a&&"login_status"!==a||(o=n.error&&"not_authorized"===n.error?"not_authorized":"unknown",w(null,o),g.getUseCookie()&&r.clearSignedRequestCookie(),"logout"===a&&(k(),h.log("jssdk_error",{appId:g.getClientID(),error:"PLATFORM_AUTH_LOGOUT",extra:{args:{fblo:!0}}})));return n&&1==n.https&&g.setSecure(!0),e&&e({authResponse:t,status:g.getLoginStatus()}),t}}function S(){r.setRaw(O,"",0)}function k(){r.setRaw(O,"y",ES("Date","now",!1)+N)}function A(e){var t,a=ES("Date","now",!1);I&&(clearTimeout(I),I=null);var n="y"===r.getRaw(O);if(d("getloginstatus_tracking",!0)&&h.log("jssdk_error",{appId:g.getClientID(),error:"PLATFORM_AUTH_GETLOGINSTATUS",extra:{args:{fblo:n}}}),n){var o="unknown";return w(null,o),void(e&&e({authResponse:null,status:o}))}var i=E(e,D,"login_status"),m=new _(b.resolve("www",!0)+"/connect/ping").setQueryData({client_id:g.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:c(),redirect_uri:y.handler(function(e){if(d("e2e_ping_tracking",!0)){var n={init:a,close:ES("Date","now",!1),method:"ping"};f.debug("e2e: %s",ES("JSON","stringify",!1,n)),p.log(114,{payload:n})}t.parentNode.removeChild(t),i(e)&&(I=setTimeout(function(){A(function(){})},12e5))},"parent"),sdk:"joey",kid_directed_site:g.getKidDirectedSite()});t=s({root:l.getRoot(),name:u(),url:m.toString(),style:{display:"none"}})}function x(e,t){if(!g.getClientID())return void f.warn("FB.getLoginStatus() called before calling FB.init().");if(e){if(!t&&"loaded"==T)return void e({status:g.getLoginStatus(),authResponse:C()});P.subscribe("FB.loginStatus",e)}if(t||"loading"!=T){T="loading";var a=function(e){T="loaded",P.inform("FB.loginStatus",e),P.clearSubscribers("FB.loginStatus")};A(a)}}t.__markCompiled&&t.__markCompiled();var D,I,T,O="fblo_",N=31536e6,P=new m;ES("Object","assign",!1,P,{removeLogoutState:S,getLoginStatus:x,fetchLoginStatus:A,setAuthResponse:w,getAuthResponse:C,parseSignedRequest:v.parse,xdResponseWrapper:E}),o.exports=P},null),__d("sdk.DOM",["Assert","sdk.UA","sdk.domReady"],function(e,t,a,n,o,i,r,s,l){function d(e,t){var a=e.getAttribute(t)||e.getAttribute(t.replace(/_/g,"-"))||e.getAttribute(t.replace(/-/g,"_"))||e.getAttribute(t.replace(/-/g,""))||e.getAttribute(t.replace(/_/g,""))||e.getAttribute("data-"+t)||e.getAttribute("data-"+t.replace(/_/g,"-"))||e.getAttribute("data-"+t.replace(/-/g,"_"))||e.getAttribute("data-"+t.replace(/-/g,""))||e.getAttribute("data-"+t.replace(/_/g,""));return a?String(a):null}function c(e,t){var a=d(e,t);return a?/^(true|1|yes|on)$/.test(a):null}function u(e,t){r.isTruthy(e,"element not specified"),r.isString(t);try{return String(e[t])}catch(e){throw new Error("Could not read property "+t+" : "+e.message)}}function p(e,t){r.isTruthy(e,"element not specified"),r.isString(t);try{e.innerHTML=t}catch(e){throw new Error("Could not set innerHTML : "+e.message)}}function f(e,t){r.isTruthy(e,"element not specified"),r.isString(t);var a=" "+u(e,"className")+" ";return ES(a,"indexOf",!0," "+t+" ")>=0}function m(e,t){r.isTruthy(e,"element not specified"),r.isString(t),f(e,t)||(e.className=u(e,"className")+" "+t)}function g(e,t){r.isTruthy(e,"element not specified"),r.isString(t);var a=new RegExp("\\s*"+t,"g");e.className=ES(u(e,"className").replace(a,""),"trim",!0)}function h(e,t,a){if(r.isString(e),t=t||document.body,a=a||"*",t.querySelectorAll)return ES("Array","from",!1,t.querySelectorAll(a+"."+e));for(var n=t.getElementsByTagName(a),o=[],i=0,s=n.length;i<s;i++)f(n[i],e)&&(o[o.length]=n[i]);return o}function v(e,t){r.isTruthy(e,"element not specified"),r.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var a=e.currentStyle||document.defaultView.getComputedStyle(e,null),n=a[t];return/backgroundPosition?/.test(t)&&/top|left/.test(n)&&(n="0%"),n}function b(e,t,a){r.isTruthy(e,"element not specified"),r.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),e.style[t]=a}function _(e,t){for(var a,n=!0,o=0;a=t[o++];)a in C||(n=!1,C[a]=!0);if(!n)if(s.ie()<11)try{document.createStyleSheet().cssText=e}catch(t){document.styleSheets[0]&&(document.styleSheets[0].cssText+=e)}else{var i=document.createElement("style");i.type="text/css",i.textContent=e,document.getElementsByTagName("head")[0].appendChild(i)}}function y(){var e=document.documentElement&&"CSS1Compat"==document.compatMode?document.documentElement:document.body;return{scrollTop:e.scrollTop||document.body.scrollTop,scrollLeft:e.scrollLeft||document.body.scrollLeft,width:window.innerWidth?window.innerWidth:e.clientWidth,height:window.innerHeight?window.innerHeight:e.clientHeight}}function w(e){r.isTruthy(e,"element not specified");var t=0,a=0;do t+=e.offsetLeft,a+=e.offsetTop;while(e=e.offsetParent);return{x:t,y:a}}t.__markCompiled&&t.__markCompiled();var C={},E={containsCss:f,addCss:m,removeCss:g,getByClass:h,getStyle:v,setStyle:b,getAttr:d,getBoolAttr:c,getProp:u,html:p,addCssRules:_,getViewportInfo:y,getPosition:w,ready:l};o.exports=E},null),__d("normalizeError",["sdk.UA"],function(e,t,a,n,o,i,r){function s(e){var t={line:e.lineNumber||e.line,message:e.message,name:e.name,script:e.fileName||e.sourceURL||e.script,stack:e.stackTrace||e.stack};t._originalError=e;var a=/([\w:\.\/]+\.js):(\d+)/.exec(e.stack);r.chrome()&&a&&(t.script=a[1],t.line=parseInt(a[2],10));for(var n in t)null==t[n]&&delete t[n];return t}t.__markCompiled&&t.__markCompiled(),o.exports=s},null),__d("sdk.ErrorHandling",["ManagedError","sdk.Runtime","sdk.Scribe","sdk.feature","normalizeError","wrapFunction"],function(e,t,a,n,o,i,r,s,l,d,c,u){function p(e){var t=e._originalError;throw delete e._originalError,l.log("jssdk_error",{appId:s.getClientID(),error:e.name||e.message,extra:e}),t}function f(e,t){return function(){if(!v)return e.apply(this,arguments);try{return b=t,e.apply(this,arguments)}catch(e){if(e instanceof r)throw e;var a=c(e);a.entry=t;var n=ES(Array.prototype.slice.call(arguments),"map",!0,function(e){var t=Object.prototype.toString.call(e);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(t)?e:e.toString()});a.args=ES("JSON","stringify",!1,n).substring(0,200),p(a)}finally{b=""}}}function m(e){return e.__wrapper||(e.__wrapper=function(){try{return e.apply(this,arguments)}catch(e){return window.setTimeout(function(){throw e},0),!1}}),e.__wrapper}function g(e){try{return e&&e.callee&&e.callee.caller?e.callee.caller.name:""}catch(e){return""}}function h(e,t){return function(a,n){var o=t+":"+(b||"[global]")+":"+(a.name||"[anonymous]"+g(arguments));return e(u(a,"entry",o),n)}}t.__markCompiled&&t.__markCompiled();var v=d("error_handling",!1),b="";v&&(setTimeout=h(setTimeout,"setTimeout"),setInterval=h(setInterval,"setInterval"),u.setWrapper(f,"entry"));var _={guard:f,unguard:m};o.exports=_},null),__d("sdk.Insights",["sdk.Impressions"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled();var s={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(e,t,a){var n={source:"jssdk",type:e,category:t,payload:a};r.log(113,n)},impression:r.impression};o.exports=s},null),__d("FB",["sdk.Auth","JSSDKCssConfig","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","JSSDKConfig"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_){function y(e,t,a,n){var o;switch(/^_/.test(a)?o="hide":E&&!E[t]&&(o=S),o){case"hide":return;case"stub":return function(){h.warn("The method FB.%s has been removed from the JS SDK.",t)};default:return u.guard(function(){function a(e){return ES("Array","isArray",!1,e)?ES(e,"map",!0,a):e&&"object"==typeof e&&e.__wrapped?e.__wrapped:"function"==typeof e&&/^function/.test(e.toString())?u.unguard(e):e}"warn"===o&&(h.warn("The method FB.%s is not officially supported by "+"Facebook and access to it will soon be removed.",t),k.hasOwnProperty(t)||(g.log(g.TYPE.WARNING,g.CATEGORY.DEPRECATED,"FB."+t),b.log("jssdk_error",{appId:v.getClientID(),error:"Private method used",extra:{args:t}}),k[t]=!0));var i,r=ES(Array.prototype.slice.call(arguments),"map",!0,a),s=e.apply(n,r),l=!0;if(s&&"object"==typeof s){i=ES("Object","create",!1,s),i.__wrapped=s;for(var d in s){var c=s[d];"function"==typeof c&&"constructor"!==d&&(l=!1,i[d]=y(c,t+":"+d,d,s))}}return l&&l?s:i},t)}}function w(e,t){var a=e?l(C,e,!0):C;ES(ES("Object","keys",!1,t),"forEach",!0,function(n){var o=t[n];if("function"==typeof o){var i=(e?e+".":"")+n,r=y(o,i,n,t);r&&(a[n]=r)}else"object"==typeof o&&(i=(e?e+".":"")+n,E&&E[i]&&(a[n]=o))})}t.__markCompiled&&t.__markCompiled();var C,E,S=l(_,"api.mode"),k={};C=window.FB={};var A={};h.level=0,m.setPrefix("FB.__globalCallbacks");var x=document.createElement("div");f.setRoot(x),d(function(){h.info("domReady"),p.appendHidden(x),s.rules&&c.addCssRules(s.rules,s.components)}),v.subscribe("AccessToken.change",function(e){e||"connected"!==v.getLoginStatus()||r.getLoginStatus(null,!0)}),l(_,"api.whitelist.length")&&(E={},ES(_.api.whitelist,"forEach",!0,function(e){E[e]=1})),v.setSecure(function(){var e=/iframe_canvas|app_runner/.test(window.name),t=/dialog/.test(window.name);return"https:"==location.protocol&&(window==top||!e&&!t)||(/_fb_https?/.test(window.name)?ES(window.name,"indexOf",!0,"_fb_https")!=-1:void 0)}()),ES("Object","assign",!1,A,{provide:w}),o.exports=A},null),__d("ArgumentError",["ManagedError"],function(e,t,a,n,o,i,r){function s(e,t){r.prototype.constructor.apply(this,arguments)}t.__markCompiled&&t.__markCompiled(),s.prototype=new r,s.prototype.constructor=s,o.exports=s},null),__d("errorCode",[],function(e,t,a,n,o,i){"use strict";function r(e){throw new Error("errorCode"+'("'+e+'"): This should not happen. Oh noes!')}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("CORSRequest",["wrapFunction","QueryString","errorCode"],function(e,t,a,n,o,i,r,s,l){function d(e,t){if(!self.XMLHttpRequest)return null;var a=new XMLHttpRequest,n=function(){};if("withCredentials"in a)a.open(e,t,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded");else{if(!self.XDomainRequest)return null;a=new XDomainRequest;try{a.open(e,t),a.onprogress=a.ontimeout=n}catch(e){return null}}var o={send:function(e){a.send(e)}},i=r(function(){i=n,"onload"in o&&o.onload(a)},"entry","XMLHttpRequest:load"),s=r(function(){s=n,"onerror"in o&&o.onerror(a)},"entry","XMLHttpRequest:error");return a.onload=function(){i()},a.onerror=function(){s()},a.onreadystatechange=function(){4==a.readyState&&(200==a.status?i():s())},o}function c(e,t,a,n){a.suppress_http_code=1;var o=s.encode(a);"post"!=t&&(e=s.appendToUrl(e,o),o="");var i=d(t,e);return!!i&&(i.onload=function(e){n(ES("JSON","parse",!1,e.responseText))},i.onerror=function(e){n(e.responseText?ES("JSON","parse",!1,e.responseText):{error:{code:1,error_subcode:1357045,message:"unknown error (empty response)",status:e.status,type:"http"}})},i.send(o),!0)}t.__markCompiled&&t.__markCompiled();var u={execute:c};o.exports=u},null),__d("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(e,t,a,n,o,i,r,s,l,d,c){function u(){if(!m)throw new Error("swfUrl has not been set");var e=l.create(function(){f.start(function(e){var t=g.execute(e.method,e.url,e.body);if(!t)throw new Error("Could create request");h[t]=e.callback})}),t=l.create(function(e,t,a){var n;try{n=ES("JSON","parse",!1,decodeURIComponent(a))}catch(e){n={error:{type:"SyntaxError",message:e.message,status:t,raw:a}}}h[e](n),delete h[e]});g=s.embed(m,r.getRoot(),null,{log:!1,initCallback:e,requestCallback:t})}function p(e,t,a,n){a.suppress_http_code=1,a.method||(a.method=t);var o=d.encode(a);if("get"===t&&e.length+o.length<2e3?(e=d.appendToUrl(e,o),o=""):t="post",!f){if(!s.isAvailable())return!1;f=new c,u()}return f.enqueue({method:t,url:e,body:o,callback:n}),!0}t.__markCompiled&&t.__markCompiled();var f,m,g,h={},v={setSwfUrl:function(e){m=e},execute:p};o.exports=v},null),__d("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(e,t,a,n,o,i,r,s,l){function d(e,t,a,n){var o=document.createElement("script"),i=function(e){i=function(){},s.remove(a.callback),n(e),o.parentNode.removeChild(o)};if(a.callback=s.create(i),a.method||(a.method=t),e=l.appendToUrl(e,a),e.length>c)return s.remove(a.callback),!1;o.onerror=function(){i({error:{type:"http",message:"unknown error"}})};var d=function(){setTimeout(function(){i({error:{type:"http",message:"unknown error"}})},0)};return o.addEventListener?o.addEventListener("load",d,!1):o.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&d()},o.src=e,r.getRoot().appendChild(o),!0}t.__markCompiled&&t.__markCompiled();var c=2e3,u={execute:d,MAX_QUERYSTRING_LENGTH:c};o.exports=u},null),__d("flattenObject",[],function(e,t,a,n,o,i){function r(e){var t={};for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];if(null===n||undefined===n)continue;"string"==typeof n?t[a]=n:t[a]=ES("JSON","stringify",!1,n)}return t}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("ApiClient",["ArgumentError","Assert","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","ObservableMixin","QueryString","sprintf","sdk.URI","UrlMap","ApiClientConfig","invariant"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_){function y(e,t,a,n){var o=0!==H&&$>=H;if(o)return U.push(function(){return y(e,t,a,n)}),void W.inform("request.queued",e,t,a);$++,O&&(a=ES("Object","assign",!1,{},O,a)),a.pretty=a.pretty||0,a=c(a);var i={jsonp:u,cors:l,flash:d},r={},s=a.access_token||I;s&&(r.access_token=s),a.routing_control&&(r.routing_control=a.routing_control);var p=ES("Object","keys",!1,r);p.length>0&&(e=m.appendToUrl(e,r),ES(p,"forEach",!0,function(e){return delete a[e]}));var f;a.transport?(f=[a.transport],delete a.transport):f=R;for(var g=0;g<f.length;g++){var h=i[f[g]],v=ES("Object","assign",!1,{},a);if(h.execute(e,t,v,n))return}n({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function w(e,t,a,n,o,i){i&&i.error&&W.inform("request.error",t,a,n,i,ES("Date","now",!1)-o),W.inform("request.complete",t,a,n,i,ES("Date","now",!1)-o),$--,e&&e(i);var r=U.length>0&&$<H;if(r){var s=U.shift();s()}}function C(e){var t=e.shift();s.isString(t,"Invalid path"),/^https?/.test(t)||"/"===t.charAt(0)||(t="/"+t);var a,n={};try{a=new h(t)}catch(e){throw new r(e.message,e)}ES(e,"forEach",!0,function(e){return n[typeof e]=e});var o=(n.string||"get").toLowerCase();s.isTrue(P.hasOwnProperty(o),g("Invalid method passed to ApiClient: %s",o));var i=n.function;i||p.warn("No callback passed to the ApiClient"),n.object&&a.addQueryData(c(n.object));var l=a.getQueryData();return l.method=o,{uri:a,callback:i,params:l}}function E(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=C(t),o=n.uri,i=n.callback,r=n.params,s=r.method;D(o,s)&&(s="post");var l=o.getProtocol()&&o.getDomain()?o.setQueryData({}).toString():v.resolve("graph")+o.getPath();W.inform("request.prepare",l,r),y(l,"get"==s?"get":"post",r,ES(w,"bind",!0,null,i,o.getPath(),s,r,ES("Date","now",!1)))}function S(e){var t,a=C(e),n=a.uri,o=a.callback,i=a.params.method,r=n.removeQueryData("method").toString();return"post"==i.toLowerCase()&&(t=m.encode(n.getQueryData()),r=n.setQueryData({}).toString()),{body:t,callback:o,method:i,relative_url:r}}function k(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=S(t),o=n.body,i=n.callback,r=n.method,s=n.relative_url,l={method:r,relative_url:s};o&&(l.body=o),L.push(l),F.push(i),L.length==j?(B&&clearTimeout(B),A()):B||(B=setTimeout(A,0))}function A(){L.length>0?void 0:_(0),L.length!==F.length?_(0):void 0;var e=L,t=F;if(L=[],F=[],B=null,1===e.length){var a=e[0],n=t[0],o=a.body?m.decode(a.body):null;return void E(a.relative_url,a.method,o,n)}E("/","POST",{batch:e,include_headers:!1,batch_app_id:T||z},function(e){ES("Array","isArray",!1,e)?ES(e,"forEach",!0,function(e,a){t[a](ES("JSON","parse",!1,e.body))}):ES(t,"forEach",!0,function(e){return e({error:{message:"Fatal: batch call failed."}})})})}function x(e,t){s.isObject(e),s.isString(e.method,"method missing"),t||p.warn("No callback passed to the ApiClient");var a=e.method.toLowerCase().replace(".","_");e.format="json-strings",e.api_key=T;var n=a in M?"api_read":"api",o=v.resolve(n)+"/restserver.php",i=ES(w,"bind",!0,null,t,"/restserver.php","get",e,ES("Date","now",!1));y(o,"get",e,i)}function D(e,t){return e.toString().length>N&&"get"===t}t.__markCompiled&&t.__markCompiled();var I,T,O,N=u.MAX_QUERYSTRING_LENGTH,P={get:!0,post:!0,delete:!0,put:!0},M={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},R=["jsonp","cors","flash"],L=[],F=[],B=null,$=0,U=[],H=0,j=50,z=105440539523,W=ES("Object","assign",!1,new f,{setAccessToken:function(e){I=e},setAccessTokenForClientID:function(e,t){I&&T&&T!==t||(I=e)},getAccessToken:function(){return I},setClientID:function(e){T=e},setDefaultParams:function(e){O=e},setDefaultTransports:function(e){R=e},setMaxConcurrentRequests:function(e){H=e},getCurrentlyExecutingRequestCount:function(){return $},getQueuedRequestCount:function(){return U.length},rest:x,graph:E,scheduleBatchCall:k,prepareBatchParams:S});d.setSwfUrl(b.FlashRequest.swfUrl),o.exports=W},null),__d("sdk.PlatformVersioning",["sdk.Runtime","ManagedError"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled();var l=/^v\d+\.\d\d?$/,d={REGEX:l,assertVersionIsSet:function(){if(!r.getVersion())throw new s("init not called with valid version")},assertValidVersion:function(e){
if(!l.test(e))throw new s("invalid version specified")}};o.exports=d},null),__d("sdk.api",["ApiClient","sdk.PlatformVersioning","sdk.Runtime","sdk.Scribe","sdk.URI","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c,u){function p(e){if("string"==typeof e)if(l.getIsVersioned()){s.assertVersionIsSet(),/https?/.test(e)||"/"===e.charAt(0)||(e="/"+e),e=new c(e).setDomain(null).setProtocol(null).toString(),s.REGEX.test(e.substring(1,ES(e,"indexOf",!0,"/",1)))||(e="/"+l.getVersion()+e);var t=[e].concat(Array.prototype.slice.call(arguments,1));r.graph.apply(r,t)}else r.graph.apply(r,arguments);else r.rest.apply(r,arguments)}t.__markCompiled&&t.__markCompiled();var f,m=u("should_log_response_error",!1);l.subscribe("ClientID.change",function(e){return r.setClientID(e)}),l.subscribe("AccessToken.change",function(e){f=e,r.setAccessToken(e)}),r.setDefaultParams({sdk:"joey"}),r.subscribe("request.complete",function(e,t,a,n){var o=!1;n&&"object"==typeof n&&(n.error?("invalid_token"==n.error||"OAuthException"==n.error.type&&190==n.error.code)&&(o=!0):n.error_code&&"190"==n.error_code&&(o=!0)),o&&f===l.getAccessToken()&&l.setAccessToken(null)}),r.subscribe("request.complete",function(e,t,a,n){("/me/permissions"==e&&"delete"===t||"/restserver.php"==e&&"Auth.revokeAuthorization"==a.method)&&n===!0&&l.setAccessToken(null)}),r.subscribe("request.error",function(e,t,a,n){m&&"http"===n.error.type&&d.log("jssdk_error",{appId:l.getClientID(),error:"transport",extra:{name:"transport",message:ES("JSON","stringify",!1,n.error)}})}),o.exports=p},null),__d("legacy:fb.api",["FB","sdk.api"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled(),r.provide("",{api:s})},3),__d("sdk.AppEvents",["Assert","sdk.Impressions","sdk.Runtime"],function(e,t,a,n,o,i,r,s,l){function d(e,t,a,n){r.isTrue(c(t),"Invalid event name: "+t+". It must be between 1 and "+h+" characters, and must be contain only alphanumerics, _, - or spaces, starting with alphanumeric or _.");var o={ae:1,ev:t,vts:a,canvas:l.isCanvasEnvironment()?1:0};n&&(o.cd=n),s.impression({api_key:e,payload:ES("JSON","stringify",!1,o)})}function c(e){return!(null===e||0===e.length||e.length>h||!new RegExp(v).test(e))}function u(e,t,a,n){var o={};o[g.CURRENCY]=a,d(e,m.PURCHASED,t,babelHelpers.extends({},n,o))}function p(e){d(e,m.ACTIVATED_APP)}t.__markCompiled&&t.__markCompiled();var f={COMPLETED_REGISTRATION:"fb_mobile_complete_registration",VIEWED_CONTENT:"fb_mobile_content_view",SEARCHED:"fb_mobile_search",RATED:"fb_mobile_rate",COMPLETED_TUTORIAL:"fb_mobile_tutorial_completion",ADDED_TO_CART:"fb_mobile_add_to_cart",ADDED_TO_WISHLIST:"fb_mobile_add_to_wishlist",INITIATED_CHECKOUT:"fb_mobile_initiated_checkout",ADDED_PAYMENT_INFO:"fb_mobile_add_payment_info",ACHIEVED_LEVEL:"fb_mobile_level_achieved",UNLOCKED_ACHIEVEMENT:"fb_mobile_achievement_unlocked",SPENT_CREDITS:"fb_mobile_spent_credits"},m={ACTIVATED_APP:"fb_mobile_activate_app",PURCHASED:"fb_mobile_purchase"},g={CURRENCY:"fb_currency",REGISTRATION_METHOD:"fb_registration_method",CONTENT_TYPE:"fb_content_type",CONTENT_ID:"fb_content_id",SEARCH_STRING:"fb_search_string",SUCCESS:"fb_success",MAX_RATING_VALUE:"fb_max_rating_value",PAYMENT_INFO_AVAILABLE:"fb_payment_info_available",NUM_ITEMS:"fb_num_items",LEVEL:"fb_level",DESCRIPTION:"fb_description"},h=40,v="^[0-9a-zA-Z_]+[0-9a-zA-Z _-]*$";o.exports={activateApp:p,logEvent:d,logPurchase:u,isValidEventName:c,EventNames:f,ParameterNames:g}},null),__d("legacy:fb.appevents",["Assert","sdk.AppEvents","FB","sdk.feature","sdk.Runtime"],function(e,t,a,n,o,i,r,s,l,d,c){t.__markCompiled&&t.__markCompiled(),l.provide("AppEvents",{logEvent:function(e,t,a){r.isTrue(d("allow_non_canvas_app_events",!1)||c.isCanvasEnvironment(),"You can only use this function in Facebook Canvas environment"),r.isString(e,"Invalid eventName"),r.maybeNumber(t,"Invalid valueToSum"),r.maybeObject(a,"Invalid params");var n=c.getClientID();r.isTrue(null!==n&&n.length>0,"You need to call FB.init() with App ID first."),s.logEvent(n,e,t,a)},logPurchase:function(e,t,a){r.isTrue(d("allow_non_canvas_app_events",!1)||c.isCanvasEnvironment(),"You can only use this function in Facebook Canvas environment"),r.isNumber(e,"Invalid purchaseAmount"),r.isString(t,"Invalid currency"),r.maybeObject(a,"Invalid params");var n=c.getClientID();r.isTrue(null!==n&&n.length>0,"You need to call FB.init() with App ID first."),s.logPurchase(n,e,t,a)},activateApp:function(){r.isTrue(d("allow_non_canvas_app_events",!1)||c.isCanvasEnvironment(),"You can only use this function in Facebook Canvas environment");var e=c.getClientID();r.isTrue(null!==e&&e.length>0,"You need to call FB.init() with App ID first."),s.activateApp(e)},EventNames:s.EventNames,ParameterNames:s.ParameterNames})},3),__d("resolveURI",[],function(e,t,a,n,o,i){function r(e){if(!e)return window.location.href;e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var t=document.createElement("div");return t.innerHTML='<a href="'+e+'"></a>',t.firstChild.href}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("sdk.Canvas.Environment",["sdk.RPC"],function(e,t,a,n,o,i,r){function s(e){r.remote.getPageInfo(function(t){e(t.result)})}function l(e,t){r.remote.scrollTo({x:e||0,y:t||0})}t.__markCompiled&&t.__markCompiled(),r.stub("getPageInfo"),r.stub("scrollTo");var d={getPageInfo:s,scrollTo:l};o.exports=d},null),__d("sdk.DialogUtils",["sdk.Content","sdk.DOM","DOMEventListener","sdk.UA","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c){"use strict";t.__markCompiled&&t.__markCompiled();var u={isOrientationPotrait:function(){return window.innerWidth<window.innerHeight},addDoubleClickAction:function(e,t,a){var n=null;return l.add(e,"click",function(){null!==n&&(clearTimeout(n),n=null,t()),n=setTimeout(function(){n=null},a)})},addIdleDesktopAction:function(e,t,a){var n=void 0,o=void 0,i=function(){n=setTimeout(t,a)};return i(),l.add(e,"mouseenter",function(){clearTimeout(n),o||(o=l.add(e,"mouseleave",function(){i()}))})},addMobileOrientationChangeAction:function(e){if(!d.mobile())return null;var t="onorientationchange"in window?"orientationchange":"resize",a=function(t){return setTimeout(function(t){return e(t)},50)};return l.add(window,t,a)},applyScreenDimensions:function(e){if(null!=e){var t=s.getViewportInfo();e.style.minHeight=t.height||t.width?t.height+"px":"",e.style.top=t.scrollTop?t.scrollTop+"px":""}},setDialogPositionToCenter:function(e,t,a){var n=function(e){return"number"==typeof e?e:parseInt(e,10)},o=s.getViewportInfo(),i=n(e.offsetWidth),r=n(e.offsetHeight),l=o.scrollLeft+(o.width-i)/2,u=(o.height-r)/2.5;l<u&&(u=l);var p=o.height-r-u,f=(o.height-r)/2;if(a&&(f=a.scrollTop-a.offsetTop+(a.clientHeight-r)/2),f<u?f=u:f>p&&(f=p),f+=o.scrollTop,d.mobile()){var m=100;t?(m+=(o.height-r)/2,s.addCss(document.body,"fb_reposition")):(s.addCss(document.body,"fb_hidden"),c("dialog_resize_refactor",!1)&&(document.body.style.width="auto"),f=1e4);var g=s.getByClass("fb_dialog_padding",e);g.length&&(g[0].style.height=m+"px")}e.style.left=(l>0?l:0)+"px",e.style.top=(f>0?f:0)+"px"},setDialogPositionToTop:function(e,t,a){this.setDialogPositionToCenter(e,t,a);var n=s.getViewportInfo(),o=n.scrollTop+.05*(n.height-e.offsetHeight);s.setStyle(e,"top",o+"px")},setupNewDarkOverlay:function(){var e=document.createElement("div");return e.setAttribute("id","fb_dialog_ipad_overlay"),this.applyScreenDimensions(e),e},setupNewDialog:function(e){e=e||{};var t=document.createElement("div"),a=e,n=a.onClose;if(e.closeIcon&&n){var o=document.createElement("a");o.className="fb_dialog_close_icon",l.add(o,"click",n),t.appendChild(o)}var i="fb_dialog";if(i+=" "+(e.classes||""),d.ie()?(i+=" fb_dialog_legacy",ES(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",!0,function(e){var a=document.createElement("span");a.className="fb_dialog_"+e,t.appendChild(a)})):i+=d.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",t.className=i,e.width){var s=parseInt(e.width,10);isNaN(s)||(t.style.width=s+"px")}var c=document.createElement("div");if(e.content&&r.append(e.content,c),c.className="fb_dialog_content",t.appendChild(c),d.mobile()){var u=document.createElement("div");u.className="fb_dialog_padding",t.appendChild(u)}return{dialogElement:t,contentRoot:c}},onDialogHideCleanup:function(e){var t=document.body;e?s.removeCss(t,"fb_reposition"):s.removeCss(t,"fb_hidden")}};o.exports=u},null),__d("sdk.fbt",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={_:function(e){return"string"==typeof e?e:e[0]}};o.exports=r},null),__d("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DialogUtils","sdk.DOM","DOMEventListener","ObservableMixin","sdk.Runtime","Type","sdk.UA","sdk.fbt","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h){function v(){if(h("dialog_resize_refactor",!1)){var e=d.getViewportInfo();if(e.height&&e.width)return{width:Math.min(e.width,y),height:Math.min(e.height,_)}}return null}t.__markCompiled&&t.__markCompiled();var b=30,_=590,y=500,w=240,C=575,E=f.extend({constructor:function(e,t){this.parent(),this.id=e,this.display=t,this._e2e={},S._dialogs||(S._dialogs={},S._addOrientationHandler()),S._dialogs[e]=this,this.trackEvent("init")},trackEvent:function(e,t){return this._e2e[e]?this:(this._e2e[e]=t||ES("Date","now",!1),"close"==e&&this.inform("e2e:end",this._e2e),this)},trackEvents:function(e){"string"==typeof e&&(e=ES("JSON","parse",!1,e));for(var t in e)e.hasOwnProperty(t)&&this.trackEvent(t,e[t]);return this}},u),S={newInstance:function(e,t){return new E(e,t)},_dialogs:null,_lastYOffset:0,_overlayListeners:[],_loaderEl:null,_overlayEl:null,_stack:[],_active:null,_forceTabletStyle:null,_closeOnOverlayTap:null,_positionDialogAtTopWhenPortrait:null,get:function(e){return S._dialogs[e]},_findRoot:function(e){for(;e;){if(d.containsCss(e,"fb_dialog"))return e;e=e.parentNode}},_createWWWLoader:function(e){return e=e?e:460,S.create({content:'<div class="dialog_title">'+'  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:e})},_createMobileLoader:function(){var e;return e=m.nativeApp()?'<div class="dialog_header"></div>':S.isTabletStyle()?'<div class="overlayLoader">'+'<div id="fb_dialog_loader_spinner"></div><a id="fb_dialog_loader_close" href="#">'+g._("Cancel")+"</a></div>":'<div class="dialog_header">'+'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+g._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>         '+g._("Loading...")+'        </div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table></div>',S.create({classes:"loading"+(S.isTabletStyle()?" centered":""),content:e})},_setDialogOverlayStyle:function(){l.applyScreenDimensions(S._overlayEl)},_showTabletOverlay:function(e){if(S.isTabletStyle()){if(S._overlayEl||(S._overlayEl=l.setupNewDarkOverlay(),s.append(S._overlayEl,null)),S._closeOnOverlayTap){var t=l.addDoubleClickAction(S._overlayEl,ES(e,"bind",!0,this),5e3);S._overlayListeners.push(t)}S._overlayEl.className=""}},_hideTabletOverlay:function(){S.isTabletStyle()&&(S._overlayEl.className="hidden",ES(S._overlayListeners,"forEach",!0,function(e){return e.remove()}),S._overlayListeners=[])},showLoader:function(e,t){e||(e=function(){});var a=function(){S._hideLoader(),l.onDialogHideCleanup(S.isTabletStyle()),S._hideTabletOverlay(),e()};S._showTabletOverlay(a),S._loaderEl||(S._loaderEl=S._findRoot(m.mobile()?S._createMobileLoader():S._createWWWLoader(t)));var n=document.getElementById("fb_dialog_loader_close");if(n){d.removeCss(n,"fb_hidden");var o=c.add(n,"click",a);S._overlayListeners.push(o)}S._makeActive(S._loaderEl)},setCloseOnOverlayTap:function(e){S._closeOnOverlayTap=!!e},setPositionDialogAtTopWhenPortrait:function(e){S._positionDialogAtTopWhenPortrait=!!e},_hideLoader:function(){S._loaderEl&&S._loaderEl==S._active&&(S._loaderEl.style.top="-10000px")},_makeActive:function(e){S._setDialogSizes(),S._lowerActive(),S._active=e,p.isEnvironment(p.ENVIRONMENTS.CANVAS)&&r.getPageInfo(function(e){S._centerActive(e)}),S._centerActive()},_lowerActive:function(){S._active&&(S._active.style.top="-10000px",S._active=null)},_removeStacked:function(e){S._stack=ES(S._stack,"filter",!0,function(t){return t!=e})},_centerActive:function(e){var t=S._active;t&&(S._positionDialogAtTopWhenPortrait&&l.isOrientationPotrait()?l.setDialogPositionToTop(t,S.isTabletStyle(),e):l.setDialogPositionToCenter(t,S.isTabletStyle(),e))},_setDialogSizes:function(){var e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0];if(m.mobile())for(var t in S._dialogs)if(S._dialogs.hasOwnProperty(t)){var a=document.getElementById(t);a&&(a.style.width=S.getDefaultSize().width+"px",e||(a.style.height=S.getDefaultSize().height+"px"))}},getDefaultSize:function(){if(m.mobile()){var e=v();if(e)return d.getViewportInfo().width<=e.width&&(e.width=d.getViewportInfo().width-b),d.getViewportInfo().height<=e.height&&(e.height=d.getViewportInfo().height-b),e;if(m.ipad())return{width:y,height:_};if(m.android())return{width:screen.availWidth,height:screen.availHeight};var t=window.innerWidth,a=window.innerHeight,n=t/a>1.2;return{width:t,height:Math.max(a,n?screen.width:screen.height)}}return{width:C,height:w}},_handleOrientationChange:function(){var e=h("dialog_resize_refactor",!1)?d.getViewportInfo().width:screen.availWidth;if(S._availScreenWidth=e,S.isTabletStyle())S._setDialogSizes(!0),S._centerActive(),S._setDialogOverlayStyle();else{var t=S.getDefaultSize().width;for(var a in S._dialogs)if(S._dialogs.hasOwnProperty(a)){var n=document.getElementById(a);n&&(n.style.width=t+"px")}}},_addOrientationHandler:function(){return m.mobile()?(S._availScreenWidth=h("dialog_resize_refactor",!1)?d.getViewportInfo().width:screen.availWidth,void l.addMobileOrientationChangeAction(S._handleOrientationChange)):null},create:function(e){var t=l.setupNewDialog(e);return s.append(t.dialogElement),e.visible&&S.show(t.dialogElement),"object"==typeof e.styles&&ES("Object","assign",!1,t.dialogElement.style,e.styles),t.contentRoot},show:function(e){var t=S._findRoot(e);t&&(S._removeStacked(t),S._hideLoader(),S._makeActive(t),S._stack.push(t),"fbCallID"in e&&S.get(e.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(e){var t=S._findRoot(e);S._hideLoader(),t==S._active&&(S._lowerActive(),l.onDialogHideCleanup(S.isTabletStyle()),S._hideTabletOverlay(),"fbCallID"in e&&S.get(e.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(e){if(e=S._findRoot(e)){var t=S._active==e;S._removeStacked(e),t?(S._hideLoader(),S._stack.length>0?S.show(S._stack.pop()):(S._lowerActive(),l.onDialogHideCleanup(S.isTabletStyle()),S._hideTabletOverlay())):null===S._active&&S._stack.length>0&&S.show(S._stack.pop()),setTimeout(function(){e.parentNode.removeChild(e)},3e3)}},isActive:function(e){var t=S._findRoot(e);return t&&t===S._active},setForceTabletStyle:function(e){S._forceTabletStyle=!!e},isTabletStyle:function(){var e;if(!m.mobile())return!1;if(S._forceTabletStyle)return!0;if(h("dialog_resize_refactor",!1)){var t=v();e=t&&(t.height>=_||t.width>=y)}else e=!!m.ipad();return e}};o.exports=S},null),__d("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(e,t,a,n,o,i,r,s,l,d){t.__markCompiled&&t.__markCompiled();var c={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){c._allowedRecipients={},s("/me/apprequestformerrecipients",function(e){e&&!e.error&&ES(e.data,"forEach",!0,function(e){c._allowedRecipients[e.recipient_id]=!0})})},init:function(){c._useFrictionless=!0,r.getLoginStatus(function(e){"connected"==e.status&&c._updateRecipients()}),l.subscribe("auth.login",function(e){e.authResponse&&c._updateRecipients()})},_processRequestResponse:function(e,t){return function(a){var n=a&&a.updated_frictionless;c._useFrictionless&&n&&c._updateRecipients(),a&&(!t&&a.frictionless&&(d._hideLoader(),d._restoreBodyPosition(),d._hideIPadOverlay()),delete a.frictionless,delete a.updated_frictionless),e&&e(a)}},isAllowed:function(e){if(!e)return!1;if("number"==typeof e)return e in c._allowedRecipients;"string"==typeof e&&(e=e.split(",")),e=ES(e,"map",!0,function(e){return ES(String(e),"trim",!0)});var t=!0,a=!1;return ES(e,"forEach",!0,function(e){t=t&&e in c._allowedRecipients,a=!0}),t&&a}};l.subscribe("init:post",function(e){e.frictionlessRequests&&c.init()}),o.exports=c},null),__d("sdk.Native",["Log","sdk.UA"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled();var l="fbNativeReady",d={onready:function(e){if(!s.nativeApp())return void r.error("FB.Native.onready only works when the page is rendered "+"in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");if(window.__fbNative&&!this.nativeReady&&ES("Object","assign",!1,this,window.__fbNative),this.nativeReady)e();else{var t=function t(a){window.removeEventListener(l,t),this.onready(e)};window.addEventListener(l,t,!1)}}};o.exports=d},null),__d("sdk.openMessenger",["sdk.UA"],function(e,t,a,n,o,i,r){"use strict";function s(e){var t=void 0,a=void 0,n=e.link,o=e.app_id;r.android()?(t="intent://share/#Intent;"+"package=com.facebook.orca;scheme=fb-messenger;S.android.intent.extra.TEXT="+encodeURIComponent(n)+";S.trigger=send_plugin;",o&&(t+="S.platform_app_id="+encodeURIComponent(o)+";"),t+="end",a=d):(t="fb-messenger://share?link="+encodeURIComponent(n),o&&(t+="&app_id="+encodeURIComponent(o)),a=l),setTimeout(function(){window.location.href=a},c),window.location.href=t}t.__markCompiled&&t.__markCompiled();var l="https://itunes.apple.com/us/app/messenger/id454638411",d="https://play.google.com/store/apps/details?id=com.facebook.orca",c=3e3;o.exports=s},null),__d("sdk.UIServer",["sdk.Auth","sdk.Content","sdk.DOM","sdk.Dialog","sdk.Event","sdk.Frictionless","Log","sdk.Native","QueryString","sdk.RPC","sdk.Runtime","JSSDKConfig","sdk.UA","UrlMap","sdk.XD","createObjectFrom","sdk.feature","sdk.fbt","flattenObject","sdk.getContextType","guid","insertIframe","sdk.openMessenger","resolveURI"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_,y,w,C,E,S,k,A,x,D,I){function T(e,t){return M[t]=!0,function(a){delete M[t],e(a)}}function O(e){if(!C("should_force_single_dialog_instance",!0))return!1;var t=e.method.toLowerCase();return"pay"===t&&"async"===e.display}t.__markCompiled&&t.__markCompiled();var N={transform:function(e){return"touch"===e.params.display&&R.canIframe(e.params)&&window.postMessage?(e.params.channel=R._xdChannelHandler(e.id,"parent"),b.nativeApp()||(e.params.in_iframe=1),e):R.genericTransform(e)},getXdRelation:function(e){var t=e.display;return"touch"===t&&window.postMessage&&e.in_iframe?"parent":R.getXdRelation(e)}},P={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(e){return e.params.u||(e.params.u=window.location.toString()),e.params.display="popup",e}},apprequests:{transform:function(e){return e=N.transform(e),e.params.frictionless=u&&u._useFrictionless,e.params.frictionless&&(u.isAllowed(e.params.to)&&(e.params.display="iframe",e.params.in_iframe=!0,e.hideLoader=!0),e.cb=u._processRequestResponse(e.cb,e.hideLoader)),e.closeIcon=!1,e},getXdRelation:N.getXdRelation},"permissions.oauth":{url:"dialog/oauth",size:{width:b.mobile()?null:475,height:b.mobile()?null:183},transform:function(e){if(!h.getClientID())return void p.error("FB.login() called before FB.init().");if(r.getAuthResponse()&&!e.params.scope&&!e.params.auth_type)return p.error("FB.login() called when user is already connected."),void(e.cb&&e.cb({status:h.getLoginStatus(),authResponse:r.getAuthResponse()}));var t=e.cb,a=e.id;delete e.cb;var n=ES("Object","keys",!1,ES("Object","assign",!1,e.params.response_type?w(e.params.response_type.split(",")):{},{token:!0,signed_request:!0})).join(",");return"async"===e.params.display?(ES("Object","assign",!1,e.params,{client_id:h.getClientID(),origin:k(),response_type:n,domain:location.hostname}),e.cb=r.xdResponseWrapper(t,r.getAuthResponse(),"permissions.oauth")):ES("Object","assign",!1,e.params,{client_id:h.getClientID(),redirect_uri:I(R.xdHandler(t,a,"opener",r.getAuthResponse(),"permissions.oauth")),origin:k(),response_type:n,domain:location.hostname}),e}},"auth.logout":{url:"logout.php",transform:function(e){if(h.getClientID()){if(r.getAuthResponse())return e.params.next=R.xdHandler(e.cb,e.id,"parent",r.getAuthResponse(),"logout"),e;p.error("FB.logout() called without an access token.")}else p.error("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(e){var t=e.cb,a=e.id;return delete e.cb,ES("Object","assign",!1,e.params,{client_id:h.getClientID(),redirect_uri:R.xdHandler(t,a,"parent",r.getAuthResponse(),"login_status"),origin:k(),response_type:"token,signed_request,code",domain:location.hostname}),e}},pay:{size:{width:555,height:120},connectDisplay:"popup"},live_broadcast:{transform:function(e){return"create"===e.params.phase&&(e.size={width:480,height:280}),"publish"===e.params.phase&&(e.size={width:772,height:540}),e},require_access_token:!0}},M={},R={Methods:P,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(e){return"dialog"!=e.params.display&&"iframe"!=e.params.display||ES("Object","assign",!1,e.params,{display:"iframe",channel:R._xdChannelHandler(e.id,"parent.parent")},!0),e},checkOauthDisplay:function(e){var t=e.scope||e.perms||h.getScope();if(!t)return e.display;for(var a=t.split(/\s|,/g),n=0;n<a.length;n++)if(!v.initSitevars.iframePermissions[ES(a[n],"trim",!0)])return"popup";return e.display},prepareCall:function(e,t){var a=e.method.toLowerCase(),n=R.Methods.hasOwnProperty(a)?ES("Object","assign",!1,{},R.Methods[a]):{},o=A(),i=h.getSecure()||"auth.status"!==a&&"login.status"!=a;if(ES("Object","assign",!1,e,{app_id:h.getClientID(),locale:h.getLocale(),sdk:"joey",access_token:i&&h.getAccessToken()||undefined}),"share"!==a&&"share_open_graph"!==a||(e.mobile_iframe=b.mobile()&&(e.mobile_iframe||e.iframe_test),e.mobile_iframe&&(n=ES("Object","assign",!1,{},N))),e.display=R.getDisplayMode(n,e),n.url||(n.url="dialog/"+a),"dialog/oauth"!=n.url&&"dialog/permissions.request"!=n.url||!("iframe"==e.display||"touch"==e.display&&e.in_iframe)||(e.display=R.checkOauthDisplay(e)),"popup"!=e.display||n.require_access_token||delete e.access_token,h.getIsVersioned()&&"dialog/"===n.url.substring(0,7)&&(n.url=e.version+"/"+n.url),O(e)){if(M[a]){var r='Dialog "'+a+'" is trying to run more than once.';return p.warn(r),void t({error_code:-100,error_message:r})}t=T(t,a)}var s={cb:t,id:o,size:n.size||R.getDefaultSize(),url:_.resolve("touch"==e.display?"m":"www",i)+"/"+n.url,params:e,name:a,dialog:d.newInstance(o,e.display)},l=n.transform?n.transform:R.genericTransform;if(!l||(s=l(s))){"touch"===e.display&&e.in_iframe&&(s.params.parent_height=window.innerHeight);var c=n.getXdRelation||R.getXdRelation,u=c(s.params);return s.id in R._defaultCb||"next"in s.params||"redirect_uri"in s.params||(s.params.next=R._xdResult(s.cb,s.id,u,!0)),"parent"===u&&ES("Object","assign",!1,s.params,{channel_url:R._xdChannelHandler(o,"parent.parent")},!0),s=R.prepareParams(s)}},prepareParams:function(e){"async"!==e.params.display&&delete e.params.method,e.params=S(e.params);var t=m.encode(e.params);return!b.nativeApp()&&R.urlTooLongForIE(e.url+"?"+t)?e.post=!0:t&&(e.url+="?"+t),e},urlTooLongForIE:function(e){return b.ie()&&b.ie()<=8&&e.length>2048},getDisplayMode:function(e,t){if("hidden"===t.display||"none"===t.display||"native"===t.display)return t.display;var a=h.isEnvironment(h.ENVIRONMENTS.CANVAS)||h.isEnvironment(h.ENVIRONMENTS.PAGETAB);return a&&!t.display?"async":b.mobile()||"touch"===t.display?"touch":"iframe"!=t.display&&"dialog"!=t.display||R.canIframe(t)?e.connectDisplay&&!a?e.connectDisplay:t.display||(R.canIframe(t)?"dialog":"popup"):(p.error('"dialog" mode can only be used when the user is connected.'),"popup")},canIframe:function(e){return!!h.getAccessToken()||!(!b.mobile()||!h.getLoggedIntoFacebook())&&!!e.mobile_iframe},getXdRelation:function(e){var t=e.display;return"popup"===t||"touch"===t?"opener":"dialog"===t||"iframe"===t||"hidden"===t||"none"===t?"parent":"async"===t?"parent.frames["+window.name+"]":void 0},popup:function e(t){var a="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,n="undefined"!=typeof window.screenY?window.screenY:window.screenTop,o="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,i="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,r=b.mobile()?null:t.size.width,l=b.mobile()?null:t.size.height,d=a<0?window.screen.width+a:a,c=parseInt(d+(o-r)/2,10),u=parseInt(n+(i-l)/2.5,10),p=[];null!==r&&p.push("width="+r),null!==l&&p.push("height="+l),p.push("left="+c),p.push("top="+u),p.push("scrollbars=1"),"permissions.request"!=t.name&&"permissions.oauth"!=t.name||p.push("location=1,toolbar=0"),p=p.join(",");var e;t.post?(e=window.open("about:blank",t.id,p),e&&(R.setLoadedNode(t,e,"popup"),s.submitToTarget({url:t.url,target:t.id,params:t.params}))):(e=window.open(t.url,t.id,p),e&&R.setLoadedNode(t,e,"popup")),e&&t.id in R._defaultCb&&R._popupMonitor()},setLoadedNode:function(e,t,a){"iframe"===a&&(t.fbCallID=e.id),t={node:t,type:a,fbCallID:e.id},R._loadedNodes[e.id]=t},getLoadedNode:function(e){var t="object"==typeof e?e.id:e,a=R._loadedNodes[t];return a?a.node:null},hidden:function(e){e.className="FB_UI_Hidden",e.root=s.appendHidden(""),R._insertIframe(e)},iframe:function(e){e.className="FB_UI_Dialog",e.params.mobile_iframe&&(d.setForceTabletStyle(!0),d.setCloseOnOverlayTap(!0),d.setPositionDialogAtTopWhenPortrait(!0));var t=function(){var t=ES("JSON","stringify",!1,{error_code:4201,error_message:E._("User canceled the Dialog flow")});R._triggerDefault(e.id,t)},a={onClose:t,closeIcon:e.closeIcon===undefined||e.closeIcon,classes:d.isTabletStyle()?"centered":""};e.params.mobile_iframe&&(a.styles={"border-radius":"8px"}),e.root=d.create(a),e.hideLoader||d.showLoader(t,e.size.width),l.addCss(e.root,"fb_dialog_iframe"),R._insertIframe(e)},touch:function(e){e.params&&e.params.in_iframe?e.ui_created?d.showLoader(function(){R._triggerDefault(e.id,null)},0):R.iframe(e):b.nativeApp()&&!e.ui_created?(e.frame=e.id,f.onready(function(){R.setLoadedNode(e,f.open(e.url+"#cb="+e.frameName),"native")}),R._popupMonitor()):e.ui_created||R.popup(e)},async:function(e){e.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,delete e.params.access_token,g.remote.showDialog(e.params,function(t){var a=t.result;if(a&&a.e2e){var n=d.get(e.id);n.trackEvents(a.e2e),n.trackEvent("close"),delete a.e2e}e.cb(a)})},native:function(e){D(e.params)},getDefaultSize:function(){return d.getDefaultSize()},_insertIframe:function(e){R._loadedNodes[e.id]=!1;var t=function(t){e.id in R._loadedNodes&&R.setLoadedNode(e,t,"iframe")};x(e.post?{url:"about:blank",root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,onInsert:t,onload:function(t){s.submitToTarget({url:e.url,target:t.name,params:e.params})}}:{url:e.url,root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,name:e.frameName,onInsert:t})},_handleResizeMessage:function(e,t){var a=R.getLoadedNode(e);a&&(t.height&&(a.style.height=t.height+"px"),t.width&&(a.style.width=t.width+"px"),y.inform("resize.ack",t||{},"parent.frames["+a.name+"]"),d.isActive(a)?d._centerActive():d.show(a))},_triggerDefault:function(e,t){var a={frame:e};t&&(a.result=t),R._xdRecv(a,R._defaultCb[e]||function(){})},_popupMonitor:function(){var e;for(var t in R._loadedNodes)if(R._loadedNodes.hasOwnProperty(t)&&t in R._defaultCb){var a=R._loadedNodes[t];if("popup"!=a.type&&"native"!=a.type)continue;var n=a.node;try{n.closed?R._triggerDefault(t,null):e=!0}catch(e){}}e&&!R._popupInterval?R._popupInterval=setInterval(R._popupMonitor,100):!e&&R._popupInterval&&(clearInterval(R._popupInterval),R._popupInterval=null)},_xdChannelHandler:function(e,t){return y.handler(function(t){var a=R.getLoadedNode(e);if(a)if("resize"==t.type)R._handleResizeMessage(e,t);else if("hide"==t.type)d.hide(a);else if("rendered"==t.type){var n=d._findRoot(a);d.show(n)}else"fireevent"==t.type&&c.fire(t.event)},t,!0,null)},_xdNextHandler:function(e,t,a,n){return n&&(R._defaultCb[t]=e),y.handler(function(t){R._xdRecv(t,e)},a)+"&frame="+t},_xdRecv:function(e,t){var a=R.getLoadedNode(e.frame);if(a)if(a.close)try{a.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&"5"!==RegExp.$1&&window.focus(),R._popupCount--}catch(e){}else l.containsCss(a,"FB_UI_Hidden")?setTimeout(function(){a.parentNode.parentNode.removeChild(a.parentNode)},3e3):l.containsCss(a,"FB_UI_Dialog")&&d.remove(a);if(delete R._loadedNodes[e.frame],delete R._defaultCb[e.frame],e.e2e){var n=d.get(e.frame);n.trackEvents(e.e2e),n.trackEvent("close"),delete e.e2e}t(e)},_xdResult:function(e,t,a,n){return R._xdNextHandler(function(t){e&&e(t.result&&t.result!=R._resultToken&&ES("JSON","parse",!1,t.result))},t,a,n)+"&result="+encodeURIComponent(R._resultToken)},xdHandler:function(e,t,a,n,o){return R._xdNextHandler(r.xdResponseWrapper(e,n,o),t,a,!0)}};g.stub("showDialog"),o.exports=R},null),__d("sdk.ui",["Assert","sdk.Impressions","Log","sdk.PlatformVersioning","sdk.Runtime","sdk.UIServer","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c,u,p){function f(e,t){if(r.isObject(e),r.maybeFunction(t),c.getIsVersioned()&&(d.assertVersionIsSet(),e.version?d.assertValidVersion(e.version):e.version=c.getVersion()),e=ES("Object","assign",!1,{},e),!e.method)return l.error('"method" is a required parameter for FB.ui().'),null;"pay.prompt"==e.method&&(e.method="pay");var a=e.method;if(e.redirect_uri&&(l.warn("When using FB.ui, you should not specify a redirect_uri."),delete e.redirect_uri),"permissions.request"!=a&&"permissions.oauth"!=a||"iframe"!=e.display&&"dialog"!=e.display||(e.display=u.checkOauthDisplay(e)),"native"===e.display&&"send"!==a)return l.error('display type "native" not supported'),null;var n=p("e2e_tracking",!0);n&&(e.e2e={});var o=u.prepareCall(e,t||function(){});if(!o)return null;var i=o.params.display;"dialog"===i?i="iframe":"none"===i&&(i="hidden");var f=u[i];return f?(n&&o.dialog.subscribe("e2e:end",function(e){e.method=a,e.display=i,l.debug("e2e: %s",ES("JSON","stringify",!1,e)),s.log(114,{payload:e})}),f(o),o.dialog):(l.error('"display" must be one of "popup", '+'"dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}t.__markCompiled&&t.__markCompiled(),o.exports=f},null),__d("legacy:fb.auth",["sdk.Auth","sdk.Cookie","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f){t.__markCompiled&&t.__markCompiled(),d.provide("",{getLoginStatus:function(){return r.getLoginStatus.apply(r,arguments)},getAuthResponse:function(){return r.getAuthResponse()},getAccessToken:function(){return u.getAccessToken()||null},getUserID:function(){return u.getUserID()||u.getCookieUserID()},login:function(e,t){t&&t.perms&&!t.scope&&(t.scope=t.perms,delete t.perms,c.warn("OAuth2 specification states that 'perms' "+"should now be called 'scope'.  Please update."));var a=u.isEnvironment(u.ENVIRONMENTS.CANVAS)||u.isEnvironment(u.ENVIRONMENTS.PAGETAB);f(babelHelpers.extends({method:"permissions.oauth",display:a?"async":"popup",domain:location.hostname},t||{}),e)},logout:function(e){f({method:"auth.logout",display:"hidden"},e)}}),r.subscribe("logout",ES(l.fire,"bind",!0,l,"auth.logout")),r.subscribe("login",ES(l.fire,"bind",!0,l,"auth.login")),r.subscribe("authresponse.change",ES(l.fire,"bind",!0,l,"auth.authResponseChange")),r.subscribe("status.change",ES(l.fire,"bind",!0,l,"auth.statusChange")),l.subscribe("init:post",function(e){if(e.status&&r.getLoginStatus(),u.getClientID())if(e.authResponse)r.setAuthResponse(e.authResponse,"connected");else if(u.getUseCookie()){
var t,a=s.loadSignedRequest();if(a){try{t=p.parse(a)}catch(e){s.clearSignedRequestCookie()}t&&t.user_id&&u.setCookieUserID(t.user_id)}s.loadMeta()}})},3),__d("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(e,t,a,n,o,i,r,s){function l(){var e=r.getWindow().document,t=e.body,a=e.documentElement,n=Math.max(t.offsetTop,0),o=Math.max(a.offsetTop,0),i=t.scrollHeight+n,s=t.offsetHeight+n,l=a.scrollHeight+o,d=a.offsetHeight+o;return Math.max(i,s,l,d)}function d(e){"object"!=typeof e&&(e={});var t=0,a=0;if(e.height||(e.height=l(),t=16,a=4),e.frame||(e.frame=window.name||"iframe_canvas"),u){var n=u.height,o=e.height-n;if(o<=a&&o>=-t)return!1}return u=e,s.remote.setSize(e),!0}function c(e,t){t===undefined&&"number"==typeof e&&(t=e,e=!0),e||e===undefined?(null===p&&(p=setInterval(function(){d()},t||100)),d()):null!==p&&(clearInterval(p),p=null)}t.__markCompiled&&t.__markCompiled();var u,p=null;s.stub("setSize");var f={setSize:d,setAutoGrow:c};o.exports=f},null),__d("sdk.Canvas.Navigation",["sdk.RPC"],function(e,t,a,n,o,i,r){function s(e){r.local.navigate=function(t){e({path:t})},r.remote.setNavigationEnabled(!0)}t.__markCompiled&&t.__markCompiled(),r.stub("setNavigationEnabled");var l={setUrlHandler:s};o.exports=l},null),__d("sdk.Canvas.Plugin",["Log","sdk.RPC","sdk.Runtime","sdk.UA","sdk.api"],function(e,t,a,n,o,i,r,s,l,d,c){function u(e){e._hideunity_savedstyle={},e._hideunity_savedstyle.left=e.style.left,e._hideunity_savedstyle.position=e.style.position,e._hideunity_savedstyle.width=e.style.width,e._hideunity_savedstyle.height=e.style.height,e.style.left="-10000px",e.style.position="absolute",e.style.width="1px",e.style.height="1px"}function p(e){e._hideunity_savedstyle&&(e.style.left=e._hideunity_savedstyle.left,e.style.position=e._hideunity_savedstyle.position,e.style.width=e._hideunity_savedstyle.width,e.style.height=e._hideunity_savedstyle.height)}function f(e){e._old_visibility=e.style.visibility,e.style.visibility="hidden"}function m(e){e.style.visibility=e._old_visibility||"",delete e._old_visibility}function g(e){var t=e.type?e.type.toLowerCase():null,a="application/x-shockwave-flash"===t||e.classid&&e.classid.toUpperCase()==y;if(!a)return!1;var n=/opaque|transparent/i;if(n.test(e.getAttribute("wmode")))return!1;for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes[o];if(/param/i.test(i.nodeName)&&/wmode/i.test(i.name)&&n.test(i.value))return!1}return!0}function h(e){var t=e.type?e.type.toLowerCase():null;return"application/vnd.unity"===t||e.classid&&e.classid.toUpperCase()==w}function v(e){var t=ES("Array","from",!1,window.document.getElementsByTagName("object"));t=t.concat(ES("Array","from",!1,window.document.getElementsByTagName("embed")));var a=!1,n=!1;if(ES(t,"forEach",!0,function(t){var o=g(t),i=S&&h(t);if(o||i){a=a||o,n=n||i;var s=function(){"opened"===e.state?o?f(t):u(t):o?m(t):p(t)};if(C){r.info("Calling developer specified callback");var l={state:e.state,elem:t};C(l),setTimeout(s,200)}else s()}}),Math.random()<=.001){var o={unity:n,flash:a};c(l.getClientID()+"/occludespopups","post",o)}}function b(){f(),u()}function _(){m(),p()}t.__markCompiled&&t.__markCompiled();var y="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",w="CLSID:444785F1-DE89-4295-863A-D46C3A781394",C=null,E=d.osx()&&d.osx.getVersionParts(),S=!(E&&E[0]>10&&E[1]>10&&(d.chrome()>=31||d.webkit()>=537.71||d.firefox()>=25));s.local.hidePluginObjects=function(){r.info("hidePluginObjects called"),v({state:"opened"})},s.local.showPluginObjects=function(){r.info("showPluginObjects called"),v({state:"closed"})},s.local.showFlashObjects=s.local.showPluginObjects,s.local.hideFlashObjects=s.local.hidePluginObjects;var k={_setHidePluginCallback:function(e){C=e},hidePluginElement:b,showPluginElement:_};o.exports=k},null),__d("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(e,t,a,n,o,i,r,s){function l(e,t){var a={appId:s.getClientID(),time:ES("Date","now",!1),name:t},n=[a];e&&n.push(function(t){e(t.result)}),r.remote.logTtiMessage.apply(null,n)}function d(){l(null,"StartIframeAppTtiTimer")}function c(e){l(e,"StopIframeAppTtiTimer")}function u(e){l(e,"RecordIframeAppTti")}t.__markCompiled&&t.__markCompiled(),r.stub("logTtiMessage");var p={setDoneLoading:u,startTimer:d,stopTimer:c};o.exports=p},null),__d("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.IframeHandling","sdk.Canvas.Navigation","sdk.Canvas.Plugin","sdk.RPC","sdk.Runtime","sdk.Canvas.Tti"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g){t.__markCompiled&&t.__markCompiled(),d.provide("Canvas",{setSize:function(e){return r.maybeObject(e,"Invalid argument"),c.setSize.apply(null,arguments)},setAutoGrow:function(){return c.setAutoGrow.apply(null,arguments)},getPageInfo:function(e){return r.isFunction(e,"Invalid argument"),s.getPageInfo.apply(null,arguments)},scrollTo:function(e,t){return r.maybeNumber(e,"Invalid argument"),r.maybeNumber(t,"Invalid argument"),s.scrollTo.apply(null,arguments)},setDoneLoading:function(e){return r.maybeFunction(e,"Invalid argument"),g.setDoneLoading.apply(null,arguments)},startTimer:function(){return g.startTimer.apply(null,arguments)},stopTimer:function(e){return r.maybeFunction(e,"Invalid argument"),g.stopTimer.apply(null,arguments)},getHash:function(e){return r.isFunction(e,"Invalid argument"),u.getHash.apply(null,arguments)},setHash:function(e){return r.isString(e,"Invalid argument"),u.setHash.apply(null,arguments)},setUrlHandler:function(e){return r.isFunction(e,"Invalid argument"),u.setUrlHandler.apply(null,arguments)}}),f.local.fireEvent=ES(l.fire,"bind",!0,l),l.subscribe("init:post",function(e){m.isEnvironment(m.ENVIRONMENTS.CANVAS)&&(r.isTrue(!e.hideFlashCallback||!e.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),p._setHidePluginCallback(e.hidePluginCallback||e.hideFlashCallback))})},3),__d("sdk.Canvas.Prefetcher",["JSSDKCanvasPrefetcherConfig","sdk.Runtime","sdk.api"],function(e,t,a,n,o,i,r,s,l){function d(){var e={object:"data",link:"href",script:"src"};h==f.AUTOMATIC&&ES(ES("Object","keys",!1,e),"forEach",!0,function(t){var a=e[t];ES(ES("Array","from",!1,document.getElementsByTagName(t)),"forEach",!0,function(e){e[a]&&v.push(e[a])})}),0!==v.length&&(l(s.getClientID()+"/staticresources","post",{urls:ES("JSON","stringify",!1,v),is_https:"https:"===location.protocol}),v=[])}function c(){s.isEnvironment(s.ENVIRONMENTS.CANVAS)&&s.getClientID()&&m&&(Math.random()>1/m||"*"==g||~ES(g,"indexOf",!0,s.getClientID())||setTimeout(d,3e4))}function u(e){h=e}function p(e){v.push(e)}t.__markCompiled&&t.__markCompiled();var f={AUTOMATIC:0,MANUAL:1},m=r.sampleRate,g=r.blacklist,h=f.AUTOMATIC,v=[],b={COLLECT_AUTOMATIC:f.AUTOMATIC,COLLECT_MANUAL:f.MANUAL,addStaticResource:p,setCollectionMode:u,_maybeSample:c};o.exports=b},null),__d("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(e,t,a,n,o,i,r,s,l,d){t.__markCompiled&&t.__markCompiled(),r.provide("Canvas.Prefetcher",s),l.subscribe("init:post",function(e){d.isEnvironment(d.ENVIRONMENTS.CANVAS)&&s._maybeSample()})},3),__d("legacy:fb.canvas.presence",["sdk.RPC","sdk.Event"],function(e,t,a,n,o,i,r,s){function l(e,t){"canvas.friendsOnlineUpdated"==e&&1===t.length&&r.remote.useFriendsOnline(!0)}function d(e,t){"canvas.friendsOnlineUpdated"==e&&0===t.length&&r.remote.useFriendsOnline(!1)}t.__markCompiled&&t.__markCompiled(),s.subscribe(s.SUBSCRIBE,l),s.subscribe(s.UNSUBSCRIBE,d),r.stub("useFriendsOnline")},3),__d("legacy:fb.canvas.syncrequests",["sdk.RPC","sdk.Event"],function(e,t,a,n,o,i,r,s){function l(e,t){"canvas.syncRequestUpdated"==e&&(r.remote.initPendingSyncRequests(),s.unsubscribe(s.SUBSCRIBE,l))}t.__markCompiled&&t.__markCompiled(),r.stub("initPendingSyncRequests"),s.subscribe(s.SUBSCRIBE,l)},3),__d("legacy:fb.event",["FB","sdk.Event","sdk.Runtime","sdk.Scribe","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c){t.__markCompiled&&t.__markCompiled();var u=[],p=null,f=c("event_subscriptions_log",!1);r.provide("Event",{subscribe:function(e,t){return f&&(u.push(e),p||(p=setTimeout(function(){d.log("jssdk_error",{appId:l.getClientID(),error:"EVENT_SUBSCRIPTIONS_LOG",extra:{line:0,name:"EVENT_SUBSCRIPTIONS_LOG",script:"N/A",stack:"N/A",message:u.sort().join(",")}}),u.length=0,p=null},f))),s.subscribe(e,t)},unsubscribe:ES(s.unsubscribe,"bind",!0,s)})},3),__d("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled(),r.provide("Frictionless",s)},3),__d("sdk.MBasicInitializer",["sdk.DOM","sdk.Runtime","sdk.UA","sdk.URI","UrlMap","sdk.fbt","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c,u,p){function f(){l.mBasic()&&m()}t.__markCompiled&&t.__markCompiled();var m=function(){function e(e){if(e){var t=e.parentNode;if(t){var a=r.getAttr(e,"href")||window.location.href,n=new d(c.resolve("m"));n.setPath("/dialog/share"),n.addQueryData("href",encodeURI(a)),n.addQueryData("app_id",s.getClientID()),n.addQueryData("mbasic_link",1);var o=document.createElement("a");o.style="display:inline-block; zoom:1;",o.textContent=u._("Share to Facebook"),o.setAttribute("href",n.toString()),o.setAttribute("target","_blank"),t.insertBefore(o,e),t.removeChild(e)}}}p("js_sdk_mbasic_share_plugin_init",!1)&&(ES(ES("Array","from",!1,document.getElementsByTagName("fb:share-button")),"forEach",!0,function(t){return e(t)}),ES(ES("Array","from",!1,document.getElementsByClassName("fb-share-button")),"forEach",!0,function(t){return e(t)}))};o.exports={init:f}},null),__d("sdk.init",["sdk.Cookie","sdk.ErrorHandling","sdk.Event","sdk.Impressions","Log","ManagedError","sdk.MBasicInitializer","sdk.PlatformVersioning","QueryString","sdk.Runtime","sdk.UA","sdk.URI","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b){function _(e){var t="number"==typeof e&&e>0||"string"==typeof e&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(e);return t?e.toString():(c.warn("Invalid App Id: Must be a number or numeric string representing "+"the application id."),null)}function y(e){if(g.getInitialized()&&c.warn("FB.init has already been called - this could indicate a problem"),g.getIsVersioned()){if("[object Object]"!==Object.prototype.toString.call(e))throw new u("Invalid argument");e.authResponse&&c.warn("Setting authResponse is not supported"),e.version||(e.version=new v(location.href).getQueryData().sdk_version),f.assertValidVersion(e.version),g.setVersion(e.version)}else/number|string/.test(typeof e)&&(c.warn("FB.init called with invalid parameters"),e={apiKey:e}),e=ES("Object","assign",!1,{status:!0},e||{});var t=_(e.appId||e.apiKey);null!==t&&g.setClientID(t),"scope"in e&&g.setScope(e.scope),e.cookie&&(g.setUseCookie(!0),"string"==typeof e.cookie&&r.setDomain(e.cookie)),e.kidDirectedSite&&g.setKidDirectedSite(!0),g.setInitialized(!0),b("js_sdk_impression_on_load",!0)&&d.log(115,{}),h.mBasic()&&p.init(),l.fire("init:post",e)}t.__markCompiled&&t.__markCompiled(),setTimeout(function(){var e=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;ES(ES("Array","from",!1,fb_fif_window.document.getElementsByTagName("script")),"forEach",!0,function(t){if(t.src){var a=e.exec(t.src);if(a){var n=m.decode(a[2]);for(var o in n)if(n.hasOwnProperty(o)){var i=n[o];"0"==i&&(n[o]=0)}y(n)}}}),window.fbAsyncInit&&!window.fbAsyncInit.hasRun&&(window.fbAsyncInit.hasRun=!0,s.unguard(window.fbAsyncInit)())},0),o.exports=y},null),__d("legacy:fb.init",["FB","sdk.init"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled(),r.provide("",{init:s})},3),__d("legacy:fb.ui",["FB","sdk.ui"],function(e,t,a,n,o,i,r,s){t.__markCompiled&&t.__markCompiled(),r.provide("",{ui:s})},3),__d("legacy:fb.versioned-sdk",["sdk.Runtime"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled(),r.setIsVersioned(!0)},3),__d("IframePlugin",["sdk.Auth","sdk.DOM","sdk.Event","Log","ObservableMixin","sdk.PlatformVersioning","QueryString","sdk.Runtime","Type","sdk.UA","sdk.URI","UrlMap","sdk.XD","sdk.createIframe","sdk.feature","guid","resolveURI"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b,_,y,w,C){function E(e,t,a){(t||0===t)&&("100%"===t?e.style.width="100%":e.style.width=t+"px"),(a||0===a)&&(e.style.height=a+"px")}function S(e){return function(t){var a={width:t.width,height:t.height,pluginID:e};l.fire("xfbml.resize",a)}}function k(e,t){var a=e[t]||e[t.replace(/_/g,"-")]||e[t.replace(/_/g,"")]||e["data-"+t]||e["data-"+t.replace(/_/g,"-")]||e["data-"+t.replace(/_/g,"")]||undefined;return a}function A(e,t,a,n){ES(ES("Object","keys",!1,e),"forEach",!0,function(o){"text"!=e[o]||a[o]||(a[o]=t.textContent||t.innerText||"",t.setAttribute(o,a[o])),n[o]=T[e[o]](k(a,o))})}function x(e){return"100%"===e?"100%":e||"0"===e||0===e?parseInt(e,10):undefined}function D(e){e&&E(e,0,0)}t.__markCompiled&&t.__markCompiled();var I={skin:"string",font:"string",width:"string",height:"px",ref:"string",color_scheme:"string"},T={string:function(e){return e},bool:function(e){return e?/^(?:true|1|yes|on)$/i.test(e):undefined},url:function(e){return C(e)},url_maybe:function(e){return e?C(e):e},hostname:function(e){return e||window.location.hostname},px:function(e){return/^(\d+)(?:px)?$/.test(e)?parseInt(RegExp.$1,10):undefined},text:function(e){return e}},O=m.extend({constructor:function(e,t,a,n){this.parent(),a=a.replace(/-/g,"_");var o=k(n,"plugin_id");this.subscribe("xd.resize",S(o)),this.subscribe("xd.resize.flow",S(o)),this.subscribe("xd.resize.flow",ES(function(e){ES("Object","assign",!1,this._iframeOptions.root.style,{verticalAlign:"bottom",overflow:""}),E(this._iframeOptions.root,x(e.width),x(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize",ES(function(e){ES("Object","assign",!1,this._iframeOptions.root.style,{verticalAlign:"bottom",overflow:""}),E(this._iframeOptions.root,x(e.width),x(e.height)),E(this._iframe,x(e.width),x(e.height)),this._isIframeResized=!0,this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize.iframe",ES(function(e){"true"===e.reposition&&y("reposition_iframe",!1)&&this.reposition(x(e.width)),E(this._iframe,x(e.width),x(e.height)),this._isIframeResized=!0,this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.sdk_event",function(t){var a=ES("JSON","parse",!1,t.data);a.pluginID=o,l.fire(t.event,a,e)});var i=v.resolve("www",!0)+"/plugins/"+a+".php?",d={};A(this.getParams(),e,n,d),A(I,e,n,d),ES("Object","assign",!1,d,{app_id:f.getClientID(),locale:f.getLocale(),sdk:"joey",kid_directed_site:f.getKidDirectedSite(),channel:b.handler(ES(function(e){return this.inform("xd."+e.type,e)},"bind",!0,this),"parent.parent",!0)}),d.container_width=e.offsetWidth,s.addCss(e,"fb_iframe_widget");var c=w();this.subscribe("xd.verify",function(e){b.sendToFacebook(c,{method:"xd/verify",params:ES("JSON","stringify",!1,e.token)})}),this.subscribe("xd.refreshLoginStatus",ES(function(){r.removeLogoutState(),r.getLoginStatus(ES(this.inform,"bind",!0,this,"login.status"),!0)},"bind",!0,this));var u=document.createElement("span");ES("Object","assign",!1,u.style,{verticalAlign:"top",width:"0px",height:"0px",overflow:"hidden"}),this._element=e,this._ns=t,this._tag=a,this._params=d,this._config=this.getConfig(),this._iframeOptions={root:u,url:i+p.encode(d),name:c,width:this._config.mobile_fullsize&&g.mobile()?void 0:d.width||1e3,height:d.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:ES(function(){return this.inform("render")},"bind",!0,this),onerror:ES(function(){return D(this._iframe)},"bind",!0,this)},this.isFluid()&&"auto"!==d.width&&(s.addCss(this._element,"fb_iframe_widget_fluid_desktop"),!d.width&&this._config.full_width&&(this._element.style.width="100%",this._iframeOptions.root.style.width="100%",this._iframeOptions.style.width="100%",this._params.container_width=this._element.offsetWidth,this._iframeOptions.url=i+p.encode(this._params)))},process:function(){if(f.getIsVersioned()){u.assertVersionIsSet();var e=new h(this._iframeOptions.url);this._iframeOptions.url=e.setPath("/"+f.getVersion()+e.getPath()).toString()}var t=ES("Object","assign",!1,{},this._params);delete t.channel;var a=p.encode(t);if(this._element.getAttribute("fb-iframe-plugin-query")==a)return d.info("Skipping render: %s:%s %s",this._ns,this._tag,a),void this.inform("render");for(this._element.setAttribute("fb-iframe-plugin-query",a),this.subscribe("render",ES(function(){this._iframe.style.visibility="visible",this._isIframeResized||D(this._iframe)},"bind",!0,this));this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._iframeOptions.root);var n=g.mobile()?120:45;if(this._timeoutID=setTimeout(ES(function(){D(this._iframe),d.warn("%s:%s failed to resize in %ss",this._ns,this._tag,n)},"bind",!0,this),1e3*n),this._iframe=_(this._iframeOptions),(g.mobile()||"auto"===t.width)&&(s.addCss(this._element,"fb_iframe_widget_fluid"),!this._iframeOptions.width)){ES("Object","assign",!1,this._element.style,{display:"block",width:"100%",height:"auto"}),ES("Object","assign",!1,this._iframeOptions.root.style,{width:"100%",height:"auto"});var o={height:"auto",position:"static",width:"100%"};(g.iphone()||g.ipad())&&ES("Object","assign",!1,o,{width:"220px","min-width":"100%"}),ES("Object","assign",!1,this._iframe.style,o)}},getConfig:function(){return{}},isFluid:function(){var e=this.getConfig();return e.fluid},reposition:function(e){var t=s.getPosition(this._iframe).x,a=s.getViewportInfo().width,n=parseInt(s.getStyle(this._iframe,"width"),10),o={};if(t+e>a&&t>e)this._iframe.style.left=parseInt(s.getStyle(this._iframe,"width"),10)-e+"px",this._isRepositioned=!0,o.type="reposition";else{if(!this._isRepositioned||n-e===0)return;this._iframe.style.left="0px",this._isRepositioned=!1,o.type="restore"}b.sendToFacebook(this._iframe.name,{method:"xd/reposition",params:ES("JSON","stringify",!1,o)})},updateLift:function(){var e=this._iframe.style.width===this._iframeOptions.root.style.width&&this._iframe.style.height===this._iframeOptions.root.style.height;s[e?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},c);O.getVal=k,O.withParams=function(e,t){return O.extend({getParams:function(){return e},getConfig:function(){return t?t:{}}})},o.exports=O},null),__d("PluginConfig",["sdk.feature"],function(e,t,a,n,o,i,r){t.__markCompiled&&t.__markCompiled();var s={messengerpreconfirmation:{mobile_fullsize:!0},messengeraccountconfirmation:{mobile_fullsize:!0},messengerbusinesslink:{mobile_fullsize:!0},messengertoggle:{mobile_fullsize:!0},messengermessageus:{mobile_fullsize:!0},send_to_messenger:{mobile_fullsize:!0},post:{fluid:r("fluid_embed",!1),mobile_fullsize:!0}};o.exports=s},null),__d("PluginTags",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={comment_embed:{href:"url",include_parent:"bool"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},follow:{href:"url",layout:"string",show_faces:"bool",size:"string"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool",size:"string"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},page:{href:"string",hide_cta:"bool",hide_cover:"bool",small_header:"bool",adapt_container_width:"bool",show_facepile:"bool",show_posts:"bool",tabs:"string"},messenger_checkbox:{messenger_app_id:"string",page_id:"string",pixel_id:"string",prechecked:"bool",allow_login:"bool",size:"string",origin:"string",user_ref:"string"},messengerpreconfirmation:{messenger_app_id:"string",page_id:"string"},messengeraccountconfirmation:{messenger_app_id:"string",page_id:"string",state:"string"},messengerbusinesslink:{messenger_app_id:"string",page_id:"string",state:"string"},messengertoggle:{messenger_app_id:"string",page_id:"string",token:"string",psid:"string"},messengermessageus:{messenger_app_id:"string",page_id:"string",color:"string",size:"string"},send_to_messenger:{messenger_app_id:"string",page_id:"string",color:"string",size:"string",enforce_login:"bool"},page_events:{href:"url"},post:{href:"url",show_text:"bool"},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},send:{href:"url",size:"string"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"}},s={subscribe:"follow",fan:"like_box",likebox:"like_box"};ES(ES("Object","keys",!1,s),"forEach",!0,function(e){r[e]=r[s[e]]}),o.exports=r},null),__d("runOnce",[],function(e,t,a,n,o,i){function r(e){var t,a;return function(){return t||(t=!0,a=e()),a}}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("XFBML",["Assert","sdk.DOM","Log","ObservableMixin","sdk.UA","runOnce"],function(e,t,a,n,o,i,r,s,l,d,c,u){function p(e,t){return ES(e[t]+"","trim",!0)}function f(e){return e.scopeName?e.scopeName+":"+e.nodeName:""}function m(e){return _[p(e,"nodeName").toLowerCase()]||_[f(e).toLowerCase()]}function g(e){var t=ES(p(e,"className").split(/\s+/),"filter",!0,function(e){return y.hasOwnProperty(e)});return 0===t.length?undefined:e.getAttribute("fb-xfbml-state")||!e.childNodes||0===e.childNodes.length||1===e.childNodes.length&&3===e.childNodes[0].nodeType||1===e.children.length&&"fb-xfbml-parse-ignore"===p(e.children[0],"className")?y[t[0]]:void 0}function h(e){var t={};return ES(ES("Array","from",!1,e.attributes),"forEach",!0,function(e){t[p(e,"name")]=p(e,"value")}),t}function v(e,t,a){var n=document.createElement("div");return s.addCss(e,t+"-"+a),ES(ES("Array","from",!1,e.childNodes),"forEach",!0,function(e){n.appendChild(e)}),ES(ES("Array","from",!1,e.attributes),"forEach",!0,function(e){n.setAttribute(e.name,e.value)}),e.parentNode.replaceChild(n,e),n}function b(e,t,a){r.isTrue(e&&e.nodeType&&1===e.nodeType&&!!e.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),r.isFunction(t,"Invalid callback passed to FB.XFBML.parse()");var n=++w;l.info("XFBML Parsing Start %s",n);var o=1,i=0,s=function(){o--,0===o&&(l.info("XFBML Parsing Finish %s, %s tags found",n,i),t(),C.inform("render",n,i)),r.isTrue(o>=0,"onrender() has been called too many times")};ES(ES("Array","from",!1,e.getElementsByTagName("*")),"forEach",!0,function(e){if((a||!e.getAttribute("fb-xfbml-state"))&&1===e.nodeType){var t=m(e)||g(e);if(t){c.ie()<9&&e.scopeName&&(e=v(e,t.xmlns,t.localName)),o++,i++;var n=new t.ctor(e,t.xmlns,t.localName,h(e));n.subscribe("render",u(function(){e.setAttribute("fb-xfbml-state","rendered"),s()}));var r=function t(){"parsed"==e.getAttribute("fb-xfbml-state")?C.subscribe("render.queue",t):(e.setAttribute("fb-xfbml-state","parsed"),n.process())};r()}}}),C.inform("parse",n,i);var d=3e4;setTimeout(function(){o>0&&l.warn("%s tags failed to render in %s ms",o,d)},d),s()}t.__markCompiled&&t.__markCompiled();var _={},y={},w=0,C=new d;C.subscribe("render",function(){var e=C.getSubscribers("render.queue");C.clearSubscribers("render.queue"),ES(e,"forEach",!0,function(e){e()})}),ES("Object","assign",!1,C,{registerTag:function(e){var t=e.xmlns+":"+e.localName;r.isUndefined(_[t],t+" already registered"),_[t]=e,y[e.xmlns+"-"+e.localName]=e},parse:function(e,t){b(e||document.body,t||function(){},!0)},parseNew:function(){b(document.body,function(){},!1)}}),o.exports=C},null),__d("sdk.Arbiter",[],function(e,t,a,n,o,i){t.__markCompiled&&t.__markCompiled();var r={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};o.exports=r},null),__d("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(e,t,a,n,o,i,r,s,l){t.__markCompiled&&t.__markCompiled();var d=s.extend({constructor:function(e){this.parent(),this.dom=e},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(e,t,a){var n=r.getAttr(this.dom,e);return n?a?a(n):n:t},_getBoolAttribute:function(e,t){var a=r.getBoolAttr(this.dom,e);return null===a?t:a},_getPxAttribute:function(e,t){return this.getAttribute(e,t,function(e){var a=parseInt(e,10);return isNaN(a)?t:a})},_getLengthAttribute:function(e,t){return this.getAttribute(e,t,function(e){if("100%"===e||"auto"===e)return e;var a=parseInt(e,10);return isNaN(a)?t:a})},_getAttributeFromList:function(e,t,a){return this.getAttribute(e,t,function(e){return e=e.toLowerCase(),ES(a,"indexOf",!0,e)>-1?e:t})},isValid:function(){for(var e=this.dom;e;e=e.parentNode)if(e==document.body)return!0},clear:function(){r.html(this.dom,"")}},l);o.exports=d},null),__d("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g,h,v,b){t.__markCompiled&&t.__markCompiled();var _=u.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var e=this;this._channelUrl=b.handler(function(t){e.fire("xd."+t.type,t)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(e,t,a){b.sendToFacebook(this.getIframeName(),{method:e,params:ES("JSON","stringify",!1,t||{}),behavior:a||r.BEHAVIOR_PERSISTENT})},_arbiterInform:function(e,t,a){var n='parent.frames["'+this.getIframeNode().name+'"]';b.inform(e,t,n,a)},getDefaultWebDomain:function(){return v.resolve("www")},process:function(e){if(this._done){if(!this._allowReProcess&&!e)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,this._iframeName=this.getIframeName()||this._iframeName||p(),!this.setupAndValidate())return void this.fire("render");this._showLoader&&this._addLoader(),d.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?d.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",ES(this.fire,"bind",!0,this,"render"));var t=this.getSize()||{},a=this.getFullyQualifiedURL();"100%"==t.width&&d.addCss(this.dom,"fb_iframe_widget_fluid"),this.clear(),f({url:a,root:this.dom.appendChild(document.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:g.getRtl()?"fb_rtl":"fb_ltr",height:t.height,width:t.width,onload:ES(this.fire,"bind",!0,this,"iframe.onload")}),this._resizeFlow(t),this.loaded=!1,this.subscribe("iframe.onload",ES(function(){this.loaded=!0,this._isResizeHandled||d.addCss(this.dom,"fb_hide_iframes")},"bind",!0,this))},generateWidgetPipeIframeName:function(){return y++,"fb_iframe_"+y},getFullyQualifiedURL:function(){var e=this._getURL();if(e+="?"+m.encode(this._getQS()),e.length>2e3){e="about:blank";var t=ES(function(){this._postRequest(),this.unsubscribe("iframe.onload",t)},"bind",!0,this);this.subscribe("iframe.onload",t)}return e},_getWidgetPipeShell:function(){return v.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",ES(this._handleResizeMsg,"bind",!0,this)),this.subscribe("xd.resize",ES(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.resize.iframe",ES(this._resizeIframe,"bind",!0,this)),this.subscribe("xd.resize.flow",ES(this._resizeFlow,"bind",!0,this)),this.subscribe("xd.resize.flow",ES(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.refreshLoginStatus",function(){s.getLoginStatus(function(){},!0)}),this.subscribe("xd.logout",function(){h({method:"auth.logout",display:"hidden"},function(){})}),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",ES(this._makeVisible,"bind",!0,this)),this.subscribe("xd.verify",ES(function(e){this.arbiterInform("xd/verify",e.token)},"bind",!0,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),d.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){s.getLoginStatus(ES(function(e){var t=e.status;c.subscribe("auth.statusChange",ES(function(e){this.isValid()&&("unknown"!=t&&"unknown"!=e.status||this.process(!0),t=e.status)},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(e){this.isValid()&&(this._resizeIframe(e),this._resizeFlow(e),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._isResizeHandled=!0,this._makeVisible())},_bubbleResizeEvent:function(e){var t={height:e.height,width:e.width,pluginID:this.getAttribute("plugin-id")};c.fire("xfbml.resize",t)},_resizeIframe:function(e){var t=this.getIframeNode();"true"===e.reposition&&this._repositionIframe(e),e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_resizeFlow:function(e){var t=this.dom.getElementsByTagName("span")[0];e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_updateIframeZIndex:function(){var e=this.dom.getElementsByTagName("span")[0],t=this.getIframeNode(),a=t.style.height===e.style.height&&t.style.width===e.style.width,n=a?"removeCss":"addCss";d[n](t,"fb_iframe_widget_lift")},_repositionIframe:function(e){var t=this.getIframeNode(),a=parseInt(d.getStyle(t,"width"),10),n=d.getPosition(t).x,o=d.getViewportInfo().width,i=parseInt(e.width,10);n+i>o&&n>i?(t.style.left=a-i+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(t.style.left="0px",this.arbiterInform("xd/reposition",{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(d.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=document.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(d.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return ES("Object","assign",!1,{api_key:g.getClientID(),locale:g.getLocale(),sdk:"joey",kid_directed_site:g.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var e=this.getDefaultWebDomain(),t="";return e+"/plugins/"+t+this.getUrlBits().name+".php"},_postRequest:function(){l.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),y=0;o.exports=_},null),__d("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","JSSDKConfig","sdk.UA","UrlMap"],function(e,t,a,n,o,i,r,s,l,d,c,u,p){t.__markCompiled&&t.__markCompiled();var f=320,m=s.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var e={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getLengthAttribute("width"),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile"),version:this.getAttribute("version")};if(e.width||e.permalink||(e.width=550),c.initSitevars.enableMobileComments&&u.mobile()&&e.mobile!==!1&&(e.mobile=!0,delete e.width),e.skin||(e.skin=e.colorscheme),e.href){var t=this.getAttribute("fb_comment_id");t||(t=l.decode(document.URL.substring(ES(document.URL,"indexOf",!0,"?")+1)).fb_comment_id,t&&ES(t,"indexOf",!0,"#")>0&&(t=t.substring(0,ES(t,"indexOf",!0,"#")))),t&&(e.fb_comment_id=t,this.subscribe("render",ES(function(){window.location.hash||(window.location.hash=this.getIframeNode().id)},"bind",!0,this)))}else{if(e.migrated=this.getAttribute("migrated"),e.xid=this.getAttribute("xid"),e.title=this.getAttribute("title",document.title),e.url=this.getAttribute("url",document.URL),e.quiet=this.getAttribute("quiet"),e.reverse=this.getAttribute("reverse"),
e.simple=this.getAttribute("simple"),e.css=this.getAttribute("css"),e.notify=this.getAttribute("notify"),!e.xid){var a=ES(document.URL,"indexOf",!0,"#");a>0?e.xid=encodeURIComponent(document.URL.substring(0,a)):e.xid=encodeURIComponent(document.URL)}e.migrated&&(e.href=p.resolve("www")+"/plugins/comments_v1.php?app_id="+d.getClientID()+"&xid="+encodeURIComponent(e.xid)+"&url="+encodeURIComponent(e.url))}return e.version||(e.version=d.getVersion()),this._attr=e,!0},oneTimeSetup:function(){this.subscribe("xd.sdk_event",function(e){r.fire(e.event,ES("JSON","parse",!1,e.data))})},getSize:function(){if(!this._attr.permalink)return{width:this._attr.mobile||"auto"===this._attr.width||"100%"===this._attr.width?"100%":Math.max(this._attr.width,f),height:100}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return p.resolve("www",!0)}});o.exports=m},null),__d("sdk.XFBML.CommentsCount",["ApiClient","sdk.DOM","sdk.XFBML.Element","sprintf"],function(e,t,a,n,o,i,r,s,l,d){t.__markCompiled&&t.__markCompiled();var c=l.extend({process:function(){s.addCss(this.dom,"fb_comments_count_zero");var e=this.getAttribute("href",window.location.href);r.scheduleBatchCall("/v2.1/"+encodeURIComponent(e),{fields:"share"},ES(function(e){var t=e.share&&e.share.comment_count||0;s.html(this.dom,d('<span class="fb_comments_count">%s</span>',t)),t>0&&s.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},"bind",!0,this))}});o.exports=c},null),__d("safeEval",[],function(e,t,a,n,o,i){function r(e,t){if(null!==e&&"undefined"!=typeof e)return"string"!=typeof e?e:/^\w+$/.test(e)&&"function"==typeof window[e]?window[e].apply(null,t||[]):Function('return eval("'+e.replace(/"/g,'\\"')+'");').apply(null,t||[])}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(e,t,a,n,o,i,r,s,l,d,c){t.__markCompiled&&t.__markCompiled();var u={isUser:function(e){return e<22e8||e>=1e14&&e<=0x5b0a58f100ef||e>=89e12&&e<=89999999999999||e>=6000001e7&&e<=60000019999999},upperCaseFirstChar:function(e){return e.length>0?e.substr(0,1).toUpperCase()+e.substr(1):e},getProfileLink:function(e,t,a){return!a&&e&&(a=c("%s/profile.php?id=%s",l.resolve("www"),e.uid||e.id)),a&&(t=c('<a class="fb_link" href="%s">%s</a>',a,t)),t},invokeHandler:function(e,t,a){e&&("string"==typeof e?r.unguard(d)(e,a):e.apply&&r.unguard(e).apply(t,a||[]))},fireEvent:function(e,t){var a=t._attr.href;t.fire(e,a),s.fire(e,a,t)},executeFunctionByName:function(e){for(var t=Array.prototype.slice.call(arguments,1),a=e.split("."),n=a.pop(),o=window,i=0;i<a.length;i++)o=o[a[i]];return o[n].apply(this,t)}};o.exports=u},null),__d("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin","Log","sdk.ui"],function(e,t,a,n,o,i,r,s,l,d){t.__markCompiled&&t.__markCompiled();var c=s.extend({constructor:function(e,t,a,n){this.parent(e,t,a,n);var o=s.getVal(n,"on_login"),i=null;o&&(i=function(e){return e.error_code?void l.debug("Plugin Return Error (%s): %s",e.error_code,e.error_message||e.error_description):void r.invokeHandler(o,null,[e])},this.subscribe("login.status",i)),this.subscribe("xd.login_button_native_open",function(e){d(ES("JSON","parse",!1,e.params),i)})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool",auth_type:"string",default_audience:"string"}}});o.exports=c},null),__d("escapeHTML",[],function(e,t,a,n,o,i){function r(e){return e.replace(s,function(e){return l[e]})}t.__markCompiled&&t.__markCompiled();var s=/[&<>"'\/]/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};o.exports=r},null),__d("sdk.XFBML.Name",["ApiClient","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(e,t,a,n,o,i,r,s,l,d,c,u,p){t.__markCompiled&&t.__markCompiled();var f={}.hasOwnProperty,m=d.extend({process:function(){if(ES("Object","assign",!1,this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return u.error('"uid" is a required attribute for <fb:name>'),void this.fire("render");var e=[];this._firstnameonly?e.push("first_name"):this._lastnameonly?e.push("last_name"):e.push("name"),this._subjectId&&(e.push("gender"),this._subjectId==p.getUserID()&&(this._reflexive=!0)),l.monitor("auth.statusChange",ES(function(){return this.isValid()?(this._uid&&"loggedinuser"!=this._uid||(this._uid=p.getUserID()),void(this._uid&&r.scheduleBatchCall("/v1.0/"+this._uid,{fields:e.join(",")},ES(function(e){return f.call(e,"error")?void u.warn("The name is not found for ID: "+this._uid):(this._subjectId==this._uid?this._renderPronoun(e):this._renderOther(e),void this.fire("render"))},"bind",!0,this)))):(this.fire("render"),!0)},"bind",!0,this))},_renderPronoun:function(e){var t="",a=this._objective;if(this._subjectId&&(a=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==p.getUserID()&&this._getBoolAttribute("use-you",!0))t=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(e.gender){case"male":t=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":a?"him":"he";break;case"female":t=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":a?"her":"she";break;default:t=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":a?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":a?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(t=c.upperCaseFirstChar(t)),this.dom.innerHTML=t},_renderOther:function(e){var t="",a="";this._uid==p.getUserID()&&this._getBoolAttribute("use-you",!0)?t=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":e&&(null===e.first_name&&(e.first_name=""),null===e.last_name&&(e.last_name=""),this._firstnameonly&&e.first_name!==undefined?t=s(e.first_name):this._lastnameonly&&e.last_name!==undefined&&(t=s(e.last_name)),t||(t=s(e.name)),""!==t&&this._possessive&&(t+="'s")),t||(t=s(this.getAttribute("if-cant-see","Facebook User"))),t&&(this._getBoolAttribute("capitalize",!1)&&(t=c.upperCaseFirstChar(t)),a=e&&this._linked?c.getProfileLink(e,t,this.getAttribute("href",null)):t),this.dom.innerHTML=a}});o.exports=m},null),__d("UnicodeUtils",["invariant"],function(e,t,a,n,o,i,r){"use strict";function s(e){return g<=e&&e<=b}function l(e,t){if(0<=t&&t<e.length?void 0:r(0),t+1===e.length)return!1;var a=e.charCodeAt(t),n=e.charCodeAt(t+1);return g<=a&&a<=h&&v<=n&&n<=b}function d(e){return _.test(e)}function c(e,t){return 1+s(e.charCodeAt(t))}function u(e){if(!d(e))return e.length;for(var t=0,a=0;a<e.length;a+=c(e,a))t++;return t}function p(e,t,a){if(t=t||0,a=a===undefined?1/0:a||0,!d(e))return e.substr(t,a);var n=e.length;if(n<=0||t>n||a<=0)return"";var o=0;if(t>0){for(;t>0&&o<n;t--)o+=c(e,o);if(o>=n)return""}else if(t<0){for(o=n;t<0&&0<o;t++)o-=c(e,o-1);o<0&&(o=0)}var i=n;if(a<n)for(i=o;a>0&&i<n;a--)i+=c(e,i);return e.substring(o,i)}function f(e,t,a){t=t||0,a=a===undefined?1/0:a||0,t<0&&(t=0),a<0&&(a=0);var n=Math.abs(a-t);return t=t<a?t:a,p(e,t,n)}function m(e){for(var t=[],a=0;a<e.length;a+=c(e,a))t.push(e.codePointAt(a));return t}t.__markCompiled&&t.__markCompiled();var g=55296,h=56319,v=56320,b=57343,_=/[\uD800-\uDFFF]/,y={getCodePoints:m,getUTF16Length:c,hasSurrogateUnit:d,isCodeUnitInSurrogateRange:s,isSurrogatePair:l,strlen:u,substring:f,substr:p};o.exports=y},null),__d("isNode",[],function(e,t,a,n,o,i){function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.__markCompiled&&t.__markCompiled(),o.exports=r},null),__d("isTextNode",["isNode"],function(e,t,a,n,o,i,r){function s(e){return r(e)&&3==e.nodeType}t.__markCompiled&&t.__markCompiled(),o.exports=s},null),__d("containsNode",["isTextNode"],function(e,t,a,n,o,i,r){function s(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?s(e,t.parentNode):"contains"in e?ES(e,"contains",!0,t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}t.__markCompiled&&t.__markCompiled(),o.exports=s},null),__d("sdk.XFBML.Quote",["sdk.DOM","DOMEventListener","IframePlugin","UnicodeUtils","sdk.UA","sdk.XD","containsNode","sdk.feature"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f){"use strict";function m(e){var t=e.getRangeAt(0),a=t.startContainer;return 3===a.nodeType?a.parentNode:a}function g(e){if(document.getSelection&&!A){var t=document.getSelection();if(0===t.rangeCount)return void v();var a=E.length;if(v(),a){for(var n=!1,o=0;o<a;o++)if(p(E[o],t.focusNode)){n=!0;break}if(!n)return}if(w=t.toString(),""===w)return void v();w=ES(w.toString().replace(/\s+/g," "),"trim",!0);var i=Number(f("sharequotelimit",500));w=d.strlen(w)>i?d.substr(w,0,i-3)+"...":d.substr(w,0,i);var r=m(t);if(r.appendChild(k),!S&&k){var s=h(t);k.style.left=s.x+"px",k.style.top=s.y+"px"}}}function h(e){var t=k&&k.offsetWidth,a=t?k.offsetHeight:y,n=t?k.offsetWidth:_,o=e.getRangeAt(0),i=document.createElement("span"),r=document.createElement("span"),s=document.createRange();s.setStart(o.startContainer,o.startOffset),s.insertNode(i);var l=document.createRange();l.setStart(o.endContainer,o.endOffset),l.insertNode(r);var d=i.offsetTop-a,c=i.offsetLeft+(r.offsetLeft-i.offsetLeft)/2-n/2;return i.parentNode.removeChild(i),r.parentNode.removeChild(r),{x:c,y:d}}function v(){w="",!S&&k&&(k.style.left="-9999px")}t.__markCompiled&&t.__markCompiled();var b="fb-quotable",_=155,y=70,w="",C=null,E=[],S=!1,k=null,A=c.mobile(),x=l.extend({constructor:function(e,t,a,n){return C?C:(this.parent(e,t,a,n),S="button"===r.getAttr(e,"layout"),k=e,k.style.position="absolute",k.style.display="",s.add(document,"keyup",g),s.add(document,"mouseup",g),this.subscribe("xd.getTextSelection",ES(function(){u.sendToFacebook(this._iframeOptions.name,{method:"setTextSelection",params:ES("JSON","stringify",!1,{text:w})}),v()},"bind",!0,this)),E=ES(ES("Array","from",!1,document.getElementsByTagName("*")),"filter",!0,function(e){return"article"===e.nodeName.toLowerCase()||r.containsCss(e,b)}),v(),C=this)},getParams:function(){return{href:"url",layout:"string"}}});o.exports=x},null),__d("sdk.XFBML.Save",["sdk.Content","sdk.DialogUtils","sdk.DOM","sdk.Event","IframePlugin","QueryString","sdk.UA","sdk.XD","sdk.createIframe"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m){"use strict";t.__markCompiled&&t.__markCompiled();var g=c.extend({constructor:function(e,t,a,n){this.parent(e,t,a,n);var o=p.mobile();this.subscribe("xd.savePluginGetBlankIframe",ES(function(e){var t=void 0,a=void 0,n=void 0,i=function(e){e&&l.removeCss(e,"fb_invisible")},c=function(e){e&&l.addCss(e,"fb_invisible")};o&&(t=s.setupNewDarkOverlay(),c(t),r.append(t),s.addDoubleClickAction(t,function(){return ES(n,"forEach",!0,c)},5e3)),a=this.setupNewIframeDialog(ES("JSON","parse",!1,e.data),e.fromIframe,ES("JSON","parse",!1,e.isHTTPS)),c(a),r.append(a),n=[a,t];var u=function(){ES(n,"forEach",!0,c),s.onDialogHideCleanup(o)},p=void 0;this.subscribe("xd.savePluginShowIframe",ES(function(){d.fire("savePlugin:hideDialog"),ES(n,"forEach",!0,i),this.positionOnScreen(a,t),o||p||(p=s.addIdleDesktopAction(a,u,7e3))},"bind",!0,this)),this.subscribe("xd.savePluginHideIframe",function(){return u()}),d.subscribe("savePlugin:hideDialog",function(){return u()});var f=setInterval(function(){var t=document.getElementsByName(e.fromIframe);0===t.length&&(clearTimeout(f),u(),ES(n,"forEach",!0,function(e){e&&e.parentNode.removeChild(e)}))},500)},"bind",!0,this))},positionOnScreen:function(e,t){var a=p.mobile();a?!function(){var n=function(e,t){null!=t&&s.setDialogPositionToCenter(t,a),s.setDialogPositionToCenter(e,a)};n(e,t),s.addMobileOrientationChangeAction(function(a){n(e,t)}),setInterval(function(){return n(e,t)},100)}():(l.setStyle(e,"position","fixed"),l.setStyle(e,"top","20px"),l.setStyle(e,"right","20px"))},setupNewIframeDialog:function(e,t,a){var n="#"+u.encode({forIframe:t}),o=s.setupNewDialog();return m({url:f.getXDArbiterURL(a)+n,name:"blank_"+this._iframeOptions.name,root:o.contentRoot,tabindex:-1}),l.addCss(o.contentRoot,"fb_dialog_iframe"),ES("Object","assign",!1,o.dialogElement.style,e.style||{}),l.setStyle(o.dialogElement,"width",e.width+"px"),l.setStyle(o.dialogElement,"height",e.height+"px"),ES(e.classList,"forEach",!0,function(e){return l.addCss(o.dialogElement,e)}),l.removeCss(o.dialogElement,"fb_dialog_advanced"),o.dialogElement},getParams:function(){return{uri:"url",url_category:"string",size:"string"}}});o.exports=g},null),__d("sdk.XFBML.ShareButton",["IframePlugin","sdk.UA","sdk.ui"],function(e,t,a,n,o,i,r,s,l){"use strict";t.__markCompiled&&t.__markCompiled();var d=r.extend({constructor:function(e,t,a,n){this.parent(e,t,a,n),this.subscribe("xd.shareTriggerMobileIframe",function(e){var t=ES("JSON","parse",!1,e.data);l({method:"share",href:t.href,mobile_iframe:s.mobile()})})},getParams:function(){return{href:"url",layout:"string",mobile_iframe:"bool",type:"string",size:"string"}}});o.exports=d},null),__d("sdk.XFBML.Video",["Assert","sdk.Event","IframePlugin","ObservableMixin","sdk.XD"],function(e,t,a,n,o,i,r,s,l,d,c){function u(e){"use strict";this.$VideoCache1=e.isMuted,this.$VideoCache2=e.volume,this.$VideoCache3=e.timePosition,this.$VideoCache4=e.duration}function p(e,t,a){"use strict";this.$VideoController1=e,this.$VideoController2=t,this.$VideoController3=a}t.__markCompiled&&t.__markCompiled(),u.prototype.update=function(e){"use strict";e.isMuted!==undefined&&(this.$VideoCache1=e.isMuted),e.volume!==undefined&&(this.$VideoCache2=e.volume),e.timePosition!==undefined&&(this.$VideoCache3=e.timePosition),e.duration!==undefined&&(this.$VideoCache4=e.duration)},u.prototype.isMuted=function(){"use strict";return this.$VideoCache1},u.prototype.getVolume=function(){"use strict";return this.$VideoCache1?0:this.$VideoCache2},u.prototype.getCurrentPosition=function(){"use strict";return this.$VideoCache3},u.prototype.getDuration=function(){"use strict";return this.$VideoCache4},p.prototype.play=function(){"use strict";c.sendToFacebook(this.$VideoController1,{method:"play",params:ES("JSON","stringify",!1,{})})},p.prototype.pause=function(){"use strict";c.sendToFacebook(this.$VideoController1,{method:"pause",params:ES("JSON","stringify",!1,{})})},p.prototype.seek=function(e){"use strict";r.isNumber(e,"Invalid argument"),c.sendToFacebook(this.$VideoController1,{method:"seek",params:ES("JSON","stringify",!1,{target:e})})},p.prototype.mute=function(){"use strict";c.sendToFacebook(this.$VideoController1,{method:"mute",params:ES("JSON","stringify",!1,{})})},p.prototype.unmute=function(){"use strict";c.sendToFacebook(this.$VideoController1,{method:"unmute",params:ES("JSON","stringify",!1,{})})},p.prototype.setVolume=function(e){"use strict";r.isNumber(e,"Invalid argument"),c.sendToFacebook(this.$VideoController1,{method:"setVolume",params:ES("JSON","stringify",!1,{volume:e})})},p.prototype.isMuted=function(){"use strict";return this.$VideoController3.isMuted()},p.prototype.getVolume=function(){"use strict";return this.$VideoController3.getVolume()},p.prototype.getCurrentPosition=function(){"use strict";return this.$VideoController3.getCurrentPosition()},p.prototype.getDuration=function(){"use strict";return this.$VideoController3.getDuration()},p.prototype.subscribe=function(e,t){"use strict";return r.isString(e,"Invalid argument"),r.isFunction(t,"Invalid argument"),this.$VideoController2.subscribe(e,t),{release:ES(function(){this.$VideoController2.unsubscribe(e,t)},"bind",!0,this)}};var f=l.extend({constructor:function(e,t,a,n){this.parent(e,t,a,n),this._videoController=null,this._sharedObservable=null,this._sharedVideoCache=null,this.subscribe("xd.onVideoAPIReady",function(e){this._sharedObservable=new d,this._sharedVideoCache=new u(ES("JSON","parse",!1,e.data)),this._videoController=new p(this._iframeOptions.name,this._sharedObservable,this._sharedVideoCache),s.fire("xfbml.ready",{type:"video",id:n.id,instance:this._videoController})}),this.subscribe("xd.stateChange",function(e){this._sharedObservable.inform(e.state)}),this.subscribe("xd.cachedStateUpdateRequest",function(e){this._sharedVideoCache.update(ES("JSON","parse",!1,e.data))})},getParams:function(){return{allowfullscreen:"bool",autoplay:"bool",controls:"bool",href:"url",show_captions:"bool",show_text:"bool"}},getConfig:function(){return{fluid:!0,full_width:!0}}});o.exports=f},null),__d("legacy:fb.xfbml",["Assert","sdk.Event","FB","IframePlugin","PluginConfig","PluginTags","XFBML","sdk.domReady","sdk.feature","wrapFunction","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.Quote","sdk.XFBML.Save","sdk.XFBML.ShareButton","sdk.XFBML.Video"],function(e,t,a,n,o,i,r,s,l,d,c,u,p,f,m,g){t.__markCompiled&&t.__markCompiled();var h={comments:t("sdk.XFBML.Comments"),comments_count:t("sdk.XFBML.CommentsCount"),login_button:t("sdk.XFBML.LoginButton"),name:t("sdk.XFBML.Name"),quote:t("sdk.XFBML.Quote"),save:t("sdk.XFBML.Save"),share_button:t("sdk.XFBML.ShareButton"),video:t("sdk.XFBML.Video")},v=m("plugin_tags_blacklist",[]);ES(ES("Object","keys",!1,u),"forEach",!0,function(e){ES(v,"indexOf",!0,e)===-1&&p.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:d.withParams(u[e],c[e])})}),ES(ES("Object","keys",!1,h),"forEach",!0,function(e){ES(v,"indexOf",!0,e)===-1&&p.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:h[e]})}),l.provide("XFBML",{parse:function(e){return r.maybeXfbml(e,"Invalid argument"),e&&9===e.nodeType&&(e=e.body),p.parse.apply(null,arguments)}}),p.subscribe("parse",ES(s.fire,"bind",!0,s,"xfbml.parse")),p.subscribe("render",ES(s.fire,"bind",!0,s,"xfbml.render")),s.subscribe("init:post",function(e){e.xfbml&&setTimeout(g(ES(f,"bind",!0,null,p.parse),"entry","init:post:xfbml.parse"),0)}),r.define("Xfbml",function(e){return(1===e.nodeType||9===e.nodeType)&&"string"==typeof e.nodeName});try{document.namespaces&&!document.namespaces.item.fb&&document.namespaces.add("fb")}catch(e){}},3)}}).call(global)}(window.inDapIF?parent.window:window,window)}catch(e){(new Image).src="https://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"2558170","namespace":"FB","message":"'+e.message+'"}}')}!function(e,t){var a=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=t);else try{a.innerHTML=t}catch(e){a.innerText=t}}(document,'.onezone-datepicker {\n  position: relative;\n  width: 100%;\n  display: block;\n  background-color: #FBFAFA;\n  color: #3A4351;\n  overflow: hidden;\n  max-height: 0;\n  transition: max-height 0.4s; }\n\n.onezone-datepicker.onezone-datepicker-show {\n  max-height: 600px;\n  border-bottom: 2px solid #ECECEC; }\n\n.onezone-datepicker-modal {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n  background: rgba(255, 255, 255, 0.9); }\n\n.onezone-datepicker-loader {\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin-left: -10px; }\n\n.onezone-datepicker-loader svg {\n  width: 20px;\n  height: 20px; }\n\n.onezone-datepicker-button {\n  position: relative;\n  text-align: center;\n  display: inline-block;\n  cursor: pointer;\n  color: #3A4351;\n  font-size: 15px;\n  font-weight: bold;\n  margin-bottom: 5px;\n  padding: 8px 0;\n  border-bottom: 1px solid #F48685;\n  padding: 5px; }\n\n.onezone-datepicker-button:after {\n  position: absolute;\n  content: " ";\n  width: 0;\n  height: 0;\n  right: 0;\n  bottom: 0;\n  border-bottom: 6px solid #F48685;\n  border-left: 6px solid transparent; }\n\n.onezone-datepicker-select-year {\n  position: absolute;\n  top: 8px;\n  left: 5px;\n  width: 25%; }\n\n.onezone-datepicker-navigation-arrow {\n  display: inline-block;\n  cursor: pointer;\n  font-size: 24px;\n  color: #F48685;\n  text-align: center;\n  width: 24px;\n  padding-top: 10px;\n  line-height: 24px; }\n\n.onezone-datepicker-week {\n  font-weight: 600;\n  font-size: 13px;\n  text-align: center;\n  margin-bottom: 0px;\n  border-bottom: 1px solid #dddddd;\n  padding: px 0; }\n\n.onezone-datepicker-day {\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  -ms-border-radius: 100%;\n  border-radius: 100%;\n  cursor: pointer;\n  display: block;\n  margin: 0 auto;\n  text-align: center;\n  font-size: 12px;\n  width: 26px;\n  height: 26px;\n  line-height: 22px;\n  border: 2px solid #FBFAFA; }\n\n.onezone-datepicker-current-day {\n  border: 2px solid #dddddd; }\n\n.onezone-datepicker-disable-day,\n.onezone-datepicker-different-month.onezone-datepicker-disable-day {\n  color: #dddddd; }\n\n.onezone-datepicker-different-month {\n  color: #afafaf; }\n\n.onezone-datepicker-active-day,\n.onezone-datepicker-active-day:hover {\n  border: 2px solid #F48685;\n  font-weight: bold; }\n\n.onezone-datepicker-selection-button {\n  color: #F48685;\n  font-size: 34px;\n  padding-top: 5px;\n  display: inline-block;\n  cursor: pointer;\n  width: 40px; }\n\n.onezone-datepicker-close-button {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  z-index: 1;\n  font-size: 28px;\n  cursor: pointer;\n  color: #3A4351;\n  width: 50px;\n  text-align: right; }\n\n.onezone-datepicker-modal-content {\n  position: relative;\n  padding: 50px 5px 40px 5px; }\n\n.onezone-datepicker-modal-content .slider {\n  position: initial; }\n\n.onezone-datepicker-modal-content:after {\n  content: "";\n  display: table;\n  clear: both; }\n\n.onezone-datepicker-modal-item {\n  display: block;\n  float: left;\n  width: 25%;\n  line-height: 50px;\n  font-size: 14px;\n  text-transform: uppercase;\n  cursor: pointer; }\n\n.onezone-datepicker-modal-item.onezone-datepicker-modal-item-active {\n  background-color: #F48685;\n  color: white;\n  font-weight: bold; }'),!function(e){try{e=angular.module("onezone-datepicker.templates")}catch(t){e=angular.module("onezone-datepicker.templates",[])}e.run(["$templateCache",function(e){e.put("onezone-datepicker.html",'<div class=onezone-content><div class=onezone-transclude><ng-transclude></ng-transclude></div><div class=onezone-datepicker ng-class="{ \'onezone-datepicker-show\' : datepicker.showDatepicker }"><div class=onezone-datepicker-modal ng-if="datepicker.showLoader || datepicker.showMonthModal || datepicker.showYearModal"><div class="onezone-datepicker-close-button icon ion-ios-close-outline" ng-if="datepicker.showMonthModal || datepicker.showYearModal" ng-click=closeModals()></div><ion-spinner icon=spiral class="spinner-dark onezone-datepicker-loader" ng-if=datepicker.showLoader></ion-spinner><div class=onezone-datepicker-modal-content ng-if=datepicker.showMonthModal><div class="onezone-datepicker-button onezone-datepicker-select-year" ng-click=openYearModal()>{{currentMonth.getFullYear()}}</div><div class=onezone-datepicker-modal-item ng-repeat="m in months track by $index" ng-class="{\'onezone-datepicker-modal-item-active\': currentMonth.getMonth() == $index}" ng-click=selectMonth($index)>{{m.substr(0,3)}}</div></div><div class=onezone-datepicker-modal-content ng-if=datepicker.showYearModal><ion-slide-box show-pager=false active-slide=selectedYearSlide><ion-slide ng-repeat="slide in yearSlides"><div class=onezone-datepicker-modal-item ng-repeat="year in slide.years" ng-click=selectYear(year) ng-class="{\'onezone-datepicker-modal-item-active\': currentMonth.getFullYear() == year}">{{year}}</div></ion-slide></ion-slide-box></div></div><div class=row><div class=col-25><span class="onezone-datepicker-navigation-arrow ion-ios-arrow-back" ng-click=previousMonth()></span></div><div class="col text-center"><div class=onezone-datepicker-button ng-click=openMonthModal()>{{months[currentMonth.getMonth()]}} {{currentMonth.getFullYear()}}</div></div><div class="col-25 text-right"><span class="onezone-datepicker-navigation-arrow ion-ios-arrow-forward" ng-click=nextMonth()></span></div></div><div class=row><div class="col onezone-datepicker-week" ng-repeat="dayOfTheWeek in daysOfTheWeek track by $index">{{ dayOfTheWeek }}</div></div><div class=row ng-repeat="week in month" on-swipe-right=swipeRight() on-swipe-left=swipeLeft()><div class=col ng-repeat="day in week.days" ng-click="selectDate(day.fullDate, day.isDisabled)"><div class=onezone-datepicker-day ng-style="{ \'background-color\': day.highlight.color, \'color\': day.highlight.textColor }" ng-class="{ \'onezone-datepicker-current-day\' : day.isToday, \'onezone-datepicker-different-month\' : !day.isCurrentMonth, \'onezone-datepicker-active-day\' : sameDate(day.fullDate, selectedDate), \'onezone-datepicker-disable-day\' : day.isDisabled }">{{day.date}}</div></div></div><div class=row ng-if=!datepicker.calendarMode><div class=col><span class="onezone-datepicker-selection-button ion-ios-calendar-outline" ng-if=datepicker.showTodayButton ng-click=selectToday()></span></div><div class="col text-right"><span class="onezone-datepicker-selection-button ion-ios-close-outline" ng-if=!datepicker.hideCancelButton ng-click=hideDatepicker()></span> <span class="onezone-datepicker-selection-button ion-ios-checkmark" ng-if=!datepicker.hideSetButton ng-click=setDate()></span></div></div></div></div>')}])}(),angular.module("onezone-datepicker.service",["ionic"]).factory("onezoneDatepickerService",function(){"use strict";function e(e,t){return!!(angular.isDefined(e)&&angular.isDate(e)&&angular.isDefined(t)&&angular.isDate(t))&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function t(e,t){var a,n=new Date(e.getFullYear(),e.getMonth(),1);return(t||0===e.getDay()&&1===e.getDate())&&(!t||1===e.getDay()&&1===e.getDate())||(a=n.getDay()-t,a=t&&0>a?6:a,n=new Date(e.getFullYear(),e.getMonth(),1-a)),n}function a(t,a,n,o,i,r,s){var l,d,c,u,p=new Date;if(d=new Date(p.getFullYear(),p.getMonth(),p.getDate()),l=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a&&d>l)return!0;if(n&&(c=l.getDay(),0===c||6===c))return!0;if(angular.isDefined(r)&&r>l)return!0;if(angular.isDefined(s)&&l>s)return!0;if(angular.isDefined(o)&&angular.isArray(o))for(var f=0;f<o.length;f++)if(u=new Date(o[f].getFullYear(),o[f].getMonth(),o[f].getDate()),e(u,l))return!0;if(angular.isDefined(i)&&angular.isArray(i)){var m=t.getDay();if(i.indexOf(m)>-1)return!0}return!1}function n(e,t){if(angular.isDefined(e)&&angular.isArray(e)&&e.length>0)for(var a=0;a<e.length;a++){var n=e[a];if(angular.isDefined(n.date)&&p(t,n.date)){var o="#F48685",i="#fff";return angular.isDefined(n.color)&&(o=n.color),angular.isDefined(n.textColor)&&(i=n.textColor),{color:o,textColor:i}}}return null}function o(e,t,o,i,r,s,l,d,c){var u=[];e=angular.copy(e);for(var f=0;7>f;f++){u.push({fullDate:e,date:e.getDate(),month:e.getMonth(),year:e.getFullYear(),day:e.getDay(),isToday:p(e,new Date),isCurrentMonth:e.getMonth()===t.getMonth(),isDisabled:a(e,o,i,r,s,l,d),highlight:n(c,e)});var m=e;e=angular.copy(e),e.setDate(e.getDate()+1),m.getDate()===e.getDate()&&e.setDate(e.getDate()+1)}return u}var i={},r=function(e){var t,a,n,o,i,r=!1,s=!1,l=!1,u=!1,p=!0,f=[],m=!1,g=!1,h=!1,v=!1,b=[],_=[];return angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.mondayFirst)&&(r=e.datepickerObject.mondayFirst),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.disablePastDays)&&(l=e.datepickerObject.disablePastDays),angular.isDefined(e.datepickerObject&&angular.isDefined(e.datepickerObject.disableWeekend))&&(u=e.datepickerObject.disableWeekend),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.disableSwipe)&&(s=e.datepickerObject.disableSwipe),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.disableDates)&&angular.isArray(f)&&(f=e.datepickerObject.disableDates),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.months)&&angular.isArray(e.datepickerObject.months)&&12===e.datepickerObject.months.length?e.months=e.datepickerObject.months:e.months=d(),angular.isDefined(e.datepickerObject)?e.daysOfTheWeek=c(r,e.datepickerObject.daysOfTheWeek):e.daysOfTheWeek=c(r,null),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.startDate)&&angular.isDate(e.datepickerObject.startDate)?(a=e.datepickerObject.startDate.getFullYear(),o=e.datepickerObject.startDate):a=e.currentMonth.getFullYear()-120,angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.endDate)&&angular.isDate(e.datepickerObject.endDate)?(n=e.datepickerObject.endDate.getFullYear(),i=e.datepickerObject.endDate):n=e.currentMonth.getFullYear()+11,angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.showDatepicker)&&(m=e.datepickerObject.showDatepicker),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.showTodayButton)&&(p=e.datepickerObject.showTodayButton),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.callback)&&angular.isFunction(e.datepickerObject.callback)&&(t=e.datepickerObject.callback),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.calendarMode)&&(g=e.datepickerObject.calendarMode),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.hideCancelButton)&&(h=e.datepickerObject.hideCancelButton),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.hideSetButton)&&(v=e.datepickerObject.hideSetButton),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.highlights)&&angular.isArray(e.datepickerObject.highlights)&&(b=e.datepickerObject.highlights),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.disableDaysOfWeek)&&angular.isArray(e.datepickerObject.disableDaysOfWeek)&&(_=e.datepickerObject.disableDaysOfWeek),{mondayFirst:r,startYear:a,endYear:n,displayFrom:o,displayTo:i,disableSwipe:s,disablePastDays:l,disableWeekend:u,disableDates:f,showDatepicker:m,showTodayButton:p,calendarMode:g,hideCancelButton:h,hideSetButton:v,highlights:b,disableDaysOfWeek:_,callback:t}},s=function(e,t){for(var a=0,n=[],o=[],i=e;t>=i;i++)o.push(i),a++,a%12===0&&(n.push({years:o}),o=[]);return o.length>0&&n.push({years:o}),n},l=function(e,t){if(angular.isDefined(e)&&angular.isArray(e))for(var a=0;a<e.length;a++){var n=e[a].years.indexOf(t);if(n>-1)return a}return 0},d=function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];return e},c=function(e,t){var a=[];return a=angular.isDefined(t)&&angular.isArray(t)&&7===t.length?angular.copy(t):["Su","Mo","Tu","We","Th","Fr","Sa"],angular.isDefined(e)&&e===!0&&a.push(a.shift()),a},u=function(e){var t=e.getFullYear(),a=e.getMonth()-1;return 0>a&&(t-=1,a=11),new Date(t,a,1)},p=function(t,a){return e(t,a)},f=function(e){for(var a=!1,n=0,i=[],r=t(e.date,e.mondayFirst),s=r.getMonth();!a;){i.push({days:o(r,e.date,e.disablePastDays,e.disableWeekend,e.disableDates,e.disableDaysOfWeek,e.displayFrom,e.displayTo,e.highlights)}),r.setDate(r.getDate()+7);var l=(i[i.length-1]||{}).days;l&&(l[l.length-1]||{}).date===r.getDate()&&r.setDate(r.getDate()+1),a=n++>1&&s!==r.getMonth(),s=r.getMonth()}return i},m=function(e){var t=new Date;return!(!e.showTodayButton||e.calendarMode)&&!a(t,e.disablePastDays,e.disableWeekend,e.disableDates,e.displayFrom,e.displayTo);
};return i.getParameters=r,i.getYears=s,i.getActiveYearSlide=l,i.getMonths=d,i.getDaysOfTheWeek=c,i.getPreviousMonth=u,i.sameDate=p,i.createMonth=f,i.showTodayButton=m,i}),angular.module("onezone-datepicker",["ionic","onezone-datepicker.templates","onezone-datepicker.service"]).directive("onezoneDatepicker",["$ionicGesture","onezoneDatepickerService",function(e,t){"use strict";function a(e){var a,n={};return a=angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.date)&&angular.isDate(e.datepickerObject.date)?angular.copy(e.datepickerObject.date):angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.date)&&angular.isNumber(e.datepickerObject.date)?new Date(e.datepickerObject.date):new Date,e.selectedDate=a,e.currentMonth=angular.copy(a),n=t.getParameters(e),e.createDatepicker=function(e){var a={date:e,mondayFirst:n.mondayFirst,disablePastDays:n.disablePastDays,displayFrom:n.displayFrom,displayTo:n.displayTo,disableWeekend:n.disableWeekend,disableDates:n.disableDates,disableDaysOfWeek:n.disableDaysOfWeek,highlights:n.highlights};return t.createMonth(a)},e.month=e.createDatepicker(e.selectedDate),e.yearSlides=t.getYears(n.startYear,n.endYear),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),n}function n(e,t){angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.showDatepicker)?e.datepickerObject.showDatepicker=t:e.datepicker.showDatepicker=t}function o(e,t){angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.date)&&(e.datepickerObject.date=e.selectedDate),t.calendarMode||n(e,!1),angular.isDefined(t.callback)&&t.callback(e.selectedDate)}var i=function(e,i,r){var s={};e.datepicker={showDatepicker:!1,showLoader:!1,showMonthModal:!1,showYearModal:!1,showTodayButton:!1,calendarMode:!1,hideCancelButton:!1,hideSetButton:!1},s=a(e),e.datepicker.showDatepicker=s.showDatepicker||s.calendarMode,e.datepicker.calendarMode=s.calendarMode,e.datepicker.hideCancelButton=s.hideCancelButton,e.datepicker.hideSetButton=s.hideSetButton,e.datepicker.showTodayButton=t.showTodayButton(s),e.sameDate=function(e,a){return t.sameDate(e,a)},e.selectDate=function(a,n){n||(e.selectedDate=a,e.month=e.createDatepicker(e.selectedDate),e.currentMonth=angular.copy(a),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),(s.calendarMode||s.hideSetButton)&&o(e,s))},e.selectToday=function(){var a=new Date;e.selectedDate=a,e.month=e.createDatepicker(e.selectedDate),e.currentMonth=angular.copy(a),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),(s.calendarMode||s.hideSetButton)&&o(e,s)},e.selectMonth=function(t){e.currentMonth=new Date(e.currentMonth.getFullYear(),t,1),e.month=e.createDatepicker(e.currentMonth),e.closeModals()},e.selectYear=function(a){e.currentMonth=new Date(a,e.currentMonth.getMonth(),1),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),e.closeYearModal()},e.nextMonth=function(){e.currentMonth=new Date(e.currentMonth.getFullYear(),e.currentMonth.getMonth()+1,1),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),e.month=e.createDatepicker(e.currentMonth)},e.previousMonth=function(){e.currentMonth=t.getPreviousMonth(e.currentMonth),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),e.month=e.createDatepicker(e.currentMonth)},e.swipeLeft=function(){s.disableSwipe||e.nextMonth()},e.swipeRight=function(){s.disableSwipe||e.previousMonth()},e.closeModals=function(){e.datepicker.showMonthModal=!1,e.datepicker.showYearModal=!1},e.openMonthModal=function(){e.datepicker.showMonthModal=!0},e.openYearModal=function(){e.datepicker.showMonthModal=!1,e.datepicker.showYearModal=!0},e.closeYearModal=function(){e.datepicker.showYearModal=!1,e.datepicker.showMonthModal=!0},e.showDatepicker=function(){e.datepicker.showDatepicker||n(e,!0)},e.hideDatepicker=function(){n(e,!1)},e.setDate=function(){o(e,s)},e.$watch("datepickerObject.date",function(a){angular.isNumber(a)&&(a=new Date(a)),t.sameDate(a,e.selectedDate)||(e.selectedDate=a,e.month=e.createDatepicker(e.selectedDate),e.currentMonth=angular.copy(a),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()))}),e.$watch("datepickerObject.showDatepicker",function(t){e.datepicker.showDatepicker=t}),e.$watchCollection("datepickerObject.highlights",function(){a(e)}),e.$watchCollection("datepickerObject.disableDates",function(){a(e)}),i.on("click",function(t){var n=t.target;angular.isDefined(n)&&angular.element(n).hasClass("show-onezone-datepicker")&&e.$apply(function(){a(e),e.showDatepicker()})})};return{restrict:"AE",replace:!0,transclude:!0,link:i,scope:{datepickerObject:"=datepickerObject"},templateUrl:"onezone-datepicker.html"}}]),angular.module("nlFramework",[]).factory("$nlFramework",["$nlConfig","$nlDrawer","$nlBurger","$nlRefresh","$nlToast","$nlMenu","$nlFab","$nlHelpers","$nlElements",function(e,t,a,n,o,i,r,s,l){var d={init:function(c){d.set(c),e.deviceW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.deviceH=Math.max(document.documentElement.clientHeight,window.innerHeight||0),l.body=document.body,l.bodyH=new Hammer(l.body),c.burger&&c.burger.use&&a.init(),document.body.insertAdjacentHTML("beforeend",'<div id="nlDimm"></div>'),l.drawerDimm=document.getElementById("nlDimm"),l.drawerDimmH=new Hammer(l.drawerDimm),c.refresh&&n.init(),c.drawer&&(document.body.insertAdjacentHTML("beforeend",'<div id="nlSwipe"></div>'),t.init(c.drawer)),c.toast&&(document.body.insertAdjacentHTML("beforeend",'<div id="nlToast"></div>'),o.init()),c.secMenu&&i.init(),c.actionButton&&r.init(),c.content&&c.content.modify&&(l.viewContent=document.getElementById("nlContent"),l.viewContentH=new Hammer(l.viewContent),l.viewContent.style["margin-top"]=e.options.content.topBarHeight+"px",l.viewContent.style["min-height"]=e.deviceH-e.options.content.topBarHeight+"px",l.viewContent.style.width=e.deviceW+"px"),window.onresize=function(a){e.deviceW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.deviceH=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c.content&&c.content.modify&&(l.viewContent.style.width=e.deviceW+"px",l.viewContent.style["min-height"]=e.deviceH-e.options.content.topBarHeight+"px"),c.drawer&&(t.openned?s.translate(l.drawer,0,"",0,"",0,"",e.maxWidth):s.translate(l.drawer,e.maxWidth,"-",0,"",0,"",e.maxWidth))}},drawer:t,burger:a,refresh:n,toast:o,menu:i,config:e,fab:r,set:function(t){var a=e.options;e.options=s.merge(a,t),console.info("%c[≡]%c nlFramework: new settings set","color: #333;","color: #558844;"),console.info("%c[≡]","color: #333;",e.options)}};return d}]).factory("$nlElements",function(){var e={};return e}).factory("$nlConfig",function(){return{openned:!1,plusActive:!1,holdPos:null,reverse:!1,scroll:{},nlRefresh:{},options:{speed:.2,animation:"ease",actionButton:!1,toast:!1,secMenu:!1,burger:{show:!1,endY:6,startScale:1,endScale:.7},content:{topBarHeight:0,modify:!1},drawer:{maxWidth:300,openCb:function(){console.info("%c[≡]%c $nlDrawer: opened","color: #333;","color: #558844;")},closeCb:function(){console.info("%c[≡]%c $nlDrawer: closed","color: #333;","color: #558844;")}},refresh:{defaultColor:"#aa3344",activeColor:"#558844",callback:function(){console.info("%c[≡]%c $nlRefresh: callback","color: #333;","color: #558844;"),$nlRefresh.syncEnd()}}}}}).factory("$nlHelpers",function(){var e={translate:function(e,t,a,n,o,i,r,s,l,d,c){var t=t||0,n=n||0,a=a||"",o=o||"",r=r||"",s=s||!1,u=e;l="nlRefresh"===u.id?l?"scale3d("+l+","+l+",1)":"scale3d(1,1,1)":l?"scale3d("+l+",1,1)":"","burger-top"===u.id?u.style.transformOrigin="100% 100%":"burger-bottom"===u.id&&(u.style.transformOrigin="100% 0%"),u.style.transform="translate3d("+a+t+"px, "+o+n+"px, 0) rotate3d( 0, 0, 1, "+r+i+"deg ) "+l,u.style.webkitTransform="translate("+a+t+"px, "+o+n+"px) translateZ(0) rotate("+r+i+"deg) "+l,s&&(u.style.width=s+"px"),c&&(u.style.opacity=c),s&&(u.style["max-width"]=s+"px"),d&&(u.style.msTransform=u.style.MozTransform=u.style.OTransform="translateX("+a+t+"px) translateY("+o+n+"px) rotate("+r+i+"deg)")},merge:function(t,a){var n={};for(var o in t)n[o]=t[o];for(var o in a)"object"==typeof t[o]?n[o]=e.merge(t[o],a[o]):n[o]=a[o];return n}};return e}).factory("$nlBurger",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={animate:function(n){var o=e.maxWidth,i=o-Math.abs(n),r=Math.floor(100/o*i);if(r>0){var s=e.options.burger.startScale-Math.abs((1-e.options.burger.endScale)/100*r).toFixed(2),l=Math.floor(.45*r),d=Math.floor(e.options.burger.endY/100*r);d=d<e.options.burger.endY?d:e.options.burger.endY;var c=Math.floor(1.8*r);e.options.reverse&&(c=180+(180-c)),a.burger.style.transition="none",a.burgerTop.style.transition="none",a.burgerBottom.style.transition="none",t.translate(a.burger,0,"",0,"",c,"",""),t.translate(a.burgerTop,0,"",d,"",l,"","",s),t.translate(a.burgerBottom,0,"",d,"-",l,"-","",s)}},toggle:function(t){a.burger.style.transition="all "+e.options.speed+"s "+e.options.animation,a.burgerTop.style.transition="all "+e.options.speed+"s "+e.options.animation,a.burgerBottom.style.transition="all "+e.options.speed+"s "+e.options.animation,t||t&&!n.isOn?n.setOn():n.setOff()},toggleEnd:function(){setTimeout(function(){a.burger.style.transition="none",a.burgerTop.style.transition="none",a.burgerBottom.style.transition="none",n.isOn?e.options.reverse=!0:(t.translate(a.burger,0,"",0,"-",0,""),e.options.reverse=!1)},1e3*e.options.speed)},setOn:function(){t.translate(a.burgerTop,0,"",e.options.burger.endY,"",45,"","",e.options.burger.endScale),t.translate(a.burgerBottom,0,"",e.options.burger.endY,"-",45,"-","",e.options.burger.endScale),t.translate(a.burger,0,"",0,"-",180,""),n.isOn=!0,n.toggleEnd()},setOff:function(){t.translate(a.burgerTop,0,"",0,"",0,"","",e.options.burger.startScale),t.translate(a.burgerBottom,0,"",0,"",0,"","",e.options.burger.startScale),e.options.reverse?t.translate(a.burger,0,"",0,"-",360,""):t.translate(a.burger,0,"",0,"-",0,""),n.isOn=!1,n.toggleEnd()},init:function(){var t='<div id="nlBurger"><div id="burger-top"></div><div id="burger-center"></div><div id="burger-bottom"></div></div>';null===document.getElementById("nlBurger")&&document.body.insertAdjacentHTML("beforeend",t),a.burger=document.getElementById("nlBurger"),a.burgerH=new Hammer(a.burger),a.burgerTop=document.getElementById("burger-top"),a.burgerBottom=document.getElementById("burger-bottom"),"object"!=typeof e.options.drawer&&a.burgerH.on("tap",function(e){n.toggle()})}};return n}]).factory("$nlDrawer",["$nlConfig","$nlBurger","$nlHelpers","$nlElements","$nlFab",function(e,t,a,n,o){var i={init:function(t){t.openCb&&(i.on.show=t.openCb),t.closeCb&&(i.on.hide=t.closeCb),e.options=a.merge(e.options,t),n.swipe=document.getElementById("nlSwipe"),n.swipeH=new Hammer(n.swipe),n.drawer=document.getElementById("nlDrawer"),n.drawerH=new Hammer(n.drawer),n.drawerDimm=document.getElementById("nlDimm"),n.drawerDimmH=new Hammer(n.drawerDimm),e.deviceW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.deviceH=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e.maxWidth=e.options.drawer.maxWidth>e.deviceW-56?e.deviceW-56:e.options.drawer.maxWidth,a.translate(n.drawer,e.maxWidth,"-",0,"",0,"",e.maxWidth),n.drawerH.on("panleft panright",function(e){i.openned&&i.move(e,!0)}),n.drawerDimmH.on("panleft panright",function(e){i.openned&&i.move(e)}),n.swipeH.on("panleft panright",function(e){i.move(e)}),n.drawerH.on("tap",function(e){i.hide()}),n.drawerDimmH.on("tap",function(e){i.hide()}),e.options.burger&&e.options.burger.use&&n.burgerH.on("tap",function(e){n.burger.hasAttribute("ng-click")||i.toggle()}),i.touchEnd(n.swipe),i.touchEnd(n.drawer),i.touchEnd(n.drawerDimm)},on:{show:function(){},hide:function(){}},show:function(){n.drawer.style.transition="all "+e.options.speed+"s "+e.options.animation,e.maxWidth=e.options.drawer.maxWidth>e.deviceW-56?e.deviceW-56:e.options.drawer.maxWidth,a.translate(n.drawer,0,"",0,"",0,"",e.maxWidth),n.drawerDimm.style.transition="all "+e.options.speed+"s "+e.options.animation,n.drawerDimm.style.visibility="visible",n.drawerDimm.style.opacity="1",i.openned=!0,e.options.reverse=!0,e.options.burger&&e.options.burger.use&&t.toggle(!0),setTimeout(function(){i.on.show()},1e3*e.options.speed)},hide:function(){n.drawer.style.transition="all "+e.options.speed+"s "+e.options.animation,a.translate(n.drawer,e.maxWidth,"-",0,"",0,""),n.drawerDimm.style.transition="all "+e.options.speed+"s "+e.options.animation,n.drawerDimm.style.visibility="hidden",n.drawerDimm.style.opacity="0",e.options.burger&&e.options.burger.use&&t.toggle(!1),o.toggle(!0),i.openned=!1,setTimeout(function(){i.on.hide()},1e3*e.options.speed)},toggle:function(){i.openned?i.hide():i.show()},move:function(o,r){e.options.direction="panleft"===o.type?"left":"right";var s=o.center.x-e.maxWidth;r&&(e.options.holdPos=e.options.holdPos?e.options.holdPos:s,s+=Math.abs(e.options.holdPos)),s=s<0?s:0;var l=e.options.drawer.maxWidth-Math.abs(s),d=(l/(e.options.drawer.maxWidth/100)/100).toFixed(2);d=d<1?d:1,e.options.burger.use&&t.animate(s),n.drawerDimm.style.transition="none",n.drawerDimm.style.visibility="visible",n.drawerDimm.style.opacity=d,n.drawer.style.transition="none",e.maxWidth=e.options.drawer.maxWidth>e.deviceW-56?e.deviceW-56:e.options.drawer.maxWidth,a.translate(n.drawer,s,"",0,"",0,"",e.maxWidth),o.isFinal?("left"===e.options.direction?i.hide():"right"===e.options.direction?i.show():i.onEnd(o,!1),e.options.holdPos=null,e.options.endTrue=!1):e.options.endTrue=!0},touchEnd:function(t){e.onTouch="ontouchstart"in window,e.onTouch?t.addEventListener("touchend",function(e){i.onEnd(e,!0)},!1):t.addEventListener("mouseup",function(e){i.onEnd(e,!1)},!1)},onEnd:function(t,a){var n=a?t.changedTouches[0]:t,o=n.clientX>e.options.drawer.maxWidth/2,r="left"===e.options.direction,s="right"===e.options.direction,l=e.options.endTrue;o&&r&&l||o&&s&&l?i.show():(!o&&r&&l||!o&&s&&l)&&i.hide(),e.options.direction=!1,e.options.endTrue=!1,e.options.holdPos=null,t.preventDefault()}};return i}]).factory("$nlRefresh",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={init:function(){e.onTouch="ontouchstart"in window,document.body.insertAdjacentHTML("afterbegin",'<div id="nlRefresh"><svg version="1.1" id="reload-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 342.5 342.5" style="enable-background:new 0 0 342.5 342.5;" xml:space="preserve"><path d="M254.37,22.255c-1.161-0.642-2.53-0.795-3.803-0.428c-1.274,0.367-2.35,1.226-2.992,2.387l-21.758,39.391c-1.335,2.417-0.458,5.459,1.96,6.794C264.616,90.748,287.5,129.495,287.5,171.52c0,63.649-51.782,115.431-115.431,115.431S56.638,235.169,56.638,171.52c0-23.888,7.557-47.427,21.382-66.897l34.478,34.478c1.338,1.337,3.315,1.806,5.109,1.21c1.795-0.596,3.101-2.152,3.374-4.024L139.963,6.271c0.228-1.563-0.295-3.141-1.412-4.258c-1.117-1.117-2.7-1.639-4.258-1.412L4.278,19.584c-1.872,0.273-3.428,1.579-4.023,3.374c-0.596,1.795-0.127,3.772,1.21,5.109l37.292,37.292C14.788,95.484,1.638,133,1.638,171.52c0,93.976,76.455,170.431,170.431,170.431c93.976,0,170.431-76.455,170.431-170.431C342.5,109.478,308.731,52.283,254.37,22.255z"/></svg></div>'),a.topbar=document.getElementById("nlTopbar"),a.topbarH=new Hammer(a.topbar),a.refEl=document.getElementById("nlRefresh"),a.refIcon=document.getElementById("reload-icon"),a.refIcon.style.transition="all "+e.options.speed+"s "+e.options.animation,e.syncTrue=!1,e.scroll.top=0,e.center=e.deviceW/2-a.refEl.offsetWidth/2,a.topbarH.on("pan",function(e){n.move(e)}),n.touchEnd(a.body)},move:function(n){if(e.center=e.deviceW/2-a.refEl.offsetWidth/2,!e.syncing){a.refEl.style.transition="none";var o=Math.floor(e.deviceH/2),i=100/e.deviceH*n.center.y;if(n.center.y<o){e.syncTrue=!1;var r=i/2*(o/100),s=2*i*.005,l=.36*(o/100*n.center.y);a.refIcon.style.transition="none",a.refIcon.style.fill=e.options.refresh.defaultColor,t.translate(a.refIcon,"","","","","","","","","",s),t.translate(a.refEl,e.center,"",r,"",l)}else{a.refIcon.style.transition="fill "+4*e.options.speed+"s "+e.options.animation,e.syncTrue=!0;var i=o/100*(n.center.y-o),d=100/e.deviceH*n.center.y,c=100/(e.deviceH/2)*(n.center.y-o),r=d/2*(o/100);r-=r/100*c/3.5;var l=.36*(o/100*n.center.y);a.refIcon.style.fill=e.options.refresh.activeColor,t.translate(a.refIcon,"","","","","","","","","","1"),t.translate(a.refEl,e.center,"",r,"",l)}}},touchEnd:function(o){e.onTouch?o.addEventListener("touchend",function(e){i(e,!0)},!1):o.addEventListener("mouseup",function(e){i(e,!1)},!1);var i=function(o,i){var r=Math.floor(e.deviceH/2),s=i?o.changedTouches[0]:o;setTimeout(function(){if(a.refEl.style.transition="all "+e.options.speed/2+"s "+e.options.animation,s.clientY>r&&e.syncTrue&&!e.syncing){e.syncTrue=!1,e.syncing=!0,e.nlRefresh.ended=!1,n.callback();var o=0,i=0,l=.36*(r/100*(s.clientY-r))+360;e.nlRefresh.minY=e.options.content.topBarHeight+e.options.content.topBarHeight/3,t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",l,""),setTimeout(function(){a.refEl.style.transition="all "+e.options.speed/2+"s linear";var n=setInterval(function(){if(e.nlRefresh.ended)clearInterval(n);else{var r=l+i;t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",r,""),o+=.1,i+=6+o}},25)},1e3*e.options.speed)}else a.refEl.style.transition="all "+e.options.speed+"s "+e.options.animation,t.translate(a.refEl,e.center,"",0,"",0,""),e.syncTrue=!1,e.syncing=!1},50)}},callback:function(){setTimeout(function(){e.syncEndTrue()},2500)},syncEnd:function(){e.nlRefresh.ended=!0,setTimeout(function(){a.refEl.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",0,"","","1.2")},100),setTimeout(function(){t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",0,"","","0")},200),setTimeout(function(){t.translate(a.refEl,e.center,"",0,"",0,"","","0")},300),e.syncTrue=!1,e.syncing=!1}};return n}]).factory("$nlToast",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={init:function(o){e.options=t.merge(e.options,o),a.toast=document.getElementById("nlToast"),a.toastH=new Hammer(a.toast),a.toastH.on("panleft panright",function(e){n.move(e)}),n.touchEnd(a.toast)},show:function(o){var i=o.title||"I'm a Toast! Yummy!",r=o.position||null,s=o.trueCallback,l=o.falseCallback,d=o.timeout;e.runnigTimeout&&clearTimeout(e.runnigTimeout),"top"===r?(a.toast.style.top="75px",a.toast.style.bottom="auto"):(a.toast.style.top="",a.toast.style.bottom="1rem"),"function"==typeof s?n.trueCb=s:n.trueCb=function(){},"function"==typeof l?n.falseCb=l:n.falseCb=function(){},i&&(a.toast.innerHTML=i),"top"===r?(a.toast.style.transition="none",t.translate(a.toast,0,"",e.deviceH,"-",0,"")):(a.toast.style.transition="none",t.translate(a.toast,0,"",e.deviceH,"",0,"")),setTimeout(function(){a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,0,"",0,"",0,"")},100),d&&(e.runnigTimeout=setTimeout(function(){n.hide(!0)},d))},center:function(){a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,0,"",0,"",0,"")},right:function(){n.trueCb(),a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,e.deviceW,"",0,"",0,""),setTimeout(function(){n.hide()},e.options.speed/2*1e3)},left:function(){n.falseCb(),a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,e.deviceW,"-",0,"",0,""),setTimeout(function(){n.hide()},e.options.speed/2*1e3)},hide:function(n){n?a.toast.style.transition="all "+e.options.speed+"s "+e.options.animation:a.toast.style.transition="none",setTimeout(function(){t.translate(a.toast,0,"",e.deviceH,"",0,"")},100)},move:function(o){a.toast.style.transition="none",n.direction="panleft"===o.type?"left":"right";var i=o.center.x-e.deviceW;n.holdPos=n.holdPos?n.holdPos:i,i+=Math.abs(n.holdPos),t.translate(a.toast,i,"",0,"",0),o.isFinal?("left"===n.direction?n.left():n.right(),n.holdPos=null,n.endTrue=!1):n.endTrue=!0},touchEnd:function(t){e.onTouch="ontouchstart"in window,e.onTouch?t.addEventListener("touchend",function(e){a(e,!0)},!1):t.addEventListener("mouseup",function(e){a(e,!1)},!1);var a=function(t,a){var o=a?t.changedTouches[0]:t,i=(o.clientX>e.deviceW/2,"left"===n.direction,"right"===n.direction,n.endTrue);i&&n.center(),n.direction=!1,n.endTrue=!1,n.holdPos=null,t.preventDefault()}},trueCb:function(){console.log("True Callback")},falseCb:function(){console.log("False Callback")}};return n}]).factory("$nlMenu",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={openned:!1,init:function(){a.menu=document.getElementById("nlMenu"),a.menu.insertAdjacentHTML("afterbegin",'<div id="nlIcon"><div id="dot-top"></div><div id="dot-center"></div><div id="dot-bottom"></div></div>'),a.menuContent=document.getElementById("nlMenuContent"),a.menuContentH=new Hammer(a.menuContent),a.menuIcon=document.getElementById("nlIcon"),a.menuIconH=new Hammer(a.menuIcon),a.bodyH.on("tap",function(e){n.openned&&n.hide()}),a.menuIconH.on("tap",function(e){n.show()})},show:function(){a.menuContent.style.visibility="visible",a.menuContent.style.opacity="1",t.translate(a.menuContent,0,"",0,"",0),setTimeout(function(){n.openned=!0},50)},hide:function(){a.menuContent.style.visibility="hidden",a.menuContent.style.opacity="0",t.translate(a.menuContent,0,"",0,"",0),n.openned=!1}};return n}]).factory("$nlFab",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={openned:!1,init:function(){a.actionPanel=document.getElementById("nlActionButton"),a.actionPanelH=new Hammer(a.actionPanel),a.actionPlus=document.getElementById("nlPlus"),a.actionPlusH=new Hammer(a.actionPlus),a.actionPanelH.on("tap",function(e){a.actionPlus.hasAttribute("ng-click")||n.toggle()})},toggle:function(t){e.options.actionButton&&(a.drawerDimm.style.transition="all "+e.options.speed+"s "+e.options.animation,n.active||t?(n.active=!1,e.options.burger&&e.options.burger.use&&(a.burger.style["z-index"]="1106"),a.drawerDimm.style.visibility="hidden",a.drawerDimm.style.opacity="0",a.actionPlus.style["z-index"]="1104",a.actionPanel.classList.remove("active")):(n.active=!0,e.options.burger&&e.options.burger.use&&(a.burger.style["z-index"]="1104"),a.actionPlus.style["z-index"]="1106",a.actionPanel.classList.add("active"),setTimeout(function(){a.drawerDimm.style.visibility="visible",a.drawerDimm.style.opacity="1"},100)))}};return n}]),angular.module("nlFramework",[]).factory("$nlFramework",["$nlConfig","$nlDrawer","$nlBurger","$nlRefresh","$nlToast","$nlMenu","$nlFab","$nlHelpers","$nlElements",function(e,t,a,n,o,i,r,s,l){var d={init:function(c){d.set(c),e.deviceW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.deviceH=Math.max(document.documentElement.clientHeight,window.innerHeight||0),l.body=document.body,l.bodyH=new Hammer(l.body),c.burger&&c.burger.use&&a.init(),document.body.insertAdjacentHTML("beforeend",'<div id="nlDimm"></div>'),l.drawerDimm=document.getElementById("nlDimm"),l.drawerDimmH=new Hammer(l.drawerDimm),c.refresh&&n.init(),c.drawer&&(document.body.insertAdjacentHTML("beforeend",'<div id="nlSwipe"></div>'),t.init(c.drawer)),c.toast&&(document.body.insertAdjacentHTML("beforeend",'<div id="nlToast"></div>'),o.init()),c.secMenu&&i.init(),c.actionButton&&r.init(),c.content&&c.content.modify&&(l.viewContent=document.getElementById("nlContent"),l.viewContentH=new Hammer(l.viewContent),l.viewContent.style["margin-top"]=e.options.content.topBarHeight+"px",l.viewContent.style["min-height"]=e.deviceH-e.options.content.topBarHeight+"px",l.viewContent.style.width=e.deviceW+"px"),window.onresize=function(a){e.deviceW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.deviceH=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c.content&&c.content.modify&&(l.viewContent.style.width=e.deviceW+"px",l.viewContent.style["min-height"]=e.deviceH-e.options.content.topBarHeight+"px"),c.drawer&&(t.openned?s.translate(l.drawer,0,"",0,"",0,"",e.maxWidth):s.translate(l.drawer,e.maxWidth,"-",0,"",0,"",e.maxWidth))}},drawer:t,burger:a,refresh:n,toast:o,menu:i,config:e,fab:r,set:function(t){var a=e.options;e.options=s.merge(a,t),console.info("%c[≡]%c nlFramework: new settings set","color: #333;","color: #558844;"),console.info("%c[≡]","color: #333;",e.options)}};return d}]).factory("$nlElements",function(){var e={};return e}).factory("$nlConfig",function(){return{openned:!1,plusActive:!1,holdPos:null,reverse:!1,scroll:{},nlRefresh:{},options:{speed:.2,animation:"ease",actionButton:!1,toast:!1,secMenu:!1,burger:{show:!1,endY:6,startScale:1,endScale:.7},content:{topBarHeight:0,modify:!1},drawer:{maxWidth:300,openCb:function(){console.info("%c[≡]%c $nlDrawer: opened","color: #333;","color: #558844;")},closeCb:function(){console.info("%c[≡]%c $nlDrawer: closed","color: #333;","color: #558844;")}},refresh:{defaultColor:"#aa3344",activeColor:"#558844",callback:function(){console.info("%c[≡]%c $nlRefresh: callback","color: #333;","color: #558844;"),$nlRefresh.syncEnd()}}}}}).factory("$nlHelpers",function(){var e={translate:function(e,t,a,n,o,i,r,s,l,d,c){var t=t||0,n=n||0,a=a||"",o=o||"",r=r||"",s=s||!1,u=e;l="nlRefresh"===u.id?l?"scale3d("+l+","+l+",1)":"scale3d(1,1,1)":l?"scale3d("+l+",1,1)":"","burger-top"===u.id?u.style.transformOrigin="100% 100%":"burger-bottom"===u.id&&(u.style.transformOrigin="100% 0%"),u.style.transform="translate3d("+a+t+"px, "+o+n+"px, 0) rotate3d( 0, 0, 1, "+r+i+"deg ) "+l,u.style.webkitTransform="translate("+a+t+"px, "+o+n+"px) translateZ(0) rotate("+r+i+"deg) "+l,s&&(u.style.width=s+"px"),c&&(u.style.opacity=c),s&&(u.style["max-width"]=s+"px"),d&&(u.style.msTransform=u.style.MozTransform=u.style.OTransform="translateX("+a+t+"px) translateY("+o+n+"px) rotate("+r+i+"deg)")},merge:function(t,a){var n={};for(var o in t)n[o]=t[o];for(var o in a)"object"==typeof t[o]?n[o]=e.merge(t[o],a[o]):n[o]=a[o];return n}};return e}).factory("$nlBurger",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={animate:function(n){var o=e.maxWidth,i=o-Math.abs(n),r=Math.floor(100/o*i);if(r>0){var s=e.options.burger.startScale-Math.abs((1-e.options.burger.endScale)/100*r).toFixed(2),l=Math.floor(.45*r),d=Math.floor(e.options.burger.endY/100*r);d=d<e.options.burger.endY?d:e.options.burger.endY;var c=Math.floor(1.8*r);e.options.reverse&&(c=180+(180-c)),a.burger.style.transition="none",a.burgerTop.style.transition="none",a.burgerBottom.style.transition="none",t.translate(a.burger,0,"",0,"",c,"",""),t.translate(a.burgerTop,0,"",d,"",l,"","",s),t.translate(a.burgerBottom,0,"",d,"-",l,"-","",s)}},toggle:function(t){a.burger.style.transition="all "+e.options.speed+"s "+e.options.animation,a.burgerTop.style.transition="all "+e.options.speed+"s "+e.options.animation,a.burgerBottom.style.transition="all "+e.options.speed+"s "+e.options.animation,t||t&&!n.isOn?n.setOn():n.setOff()},toggleEnd:function(){setTimeout(function(){a.burger.style.transition="none",a.burgerTop.style.transition="none",a.burgerBottom.style.transition="none",n.isOn?e.options.reverse=!0:(t.translate(a.burger,0,"",0,"-",0,""),e.options.reverse=!1)},1e3*e.options.speed)},setOn:function(){t.translate(a.burgerTop,0,"",e.options.burger.endY,"",45,"","",e.options.burger.endScale),t.translate(a.burgerBottom,0,"",e.options.burger.endY,"-",45,"-","",e.options.burger.endScale),t.translate(a.burger,0,"",0,"-",180,""),n.isOn=!0,n.toggleEnd()},setOff:function(){t.translate(a.burgerTop,0,"",0,"",0,"","",e.options.burger.startScale),t.translate(a.burgerBottom,0,"",0,"",0,"","",e.options.burger.startScale),e.options.reverse?t.translate(a.burger,0,"",0,"-",360,""):t.translate(a.burger,0,"",0,"-",0,""),n.isOn=!1,n.toggleEnd()},init:function(){var t='<div id="nlBurger"><div id="burger-top"></div><div id="burger-center"></div><div id="burger-bottom"></div></div>';null===document.getElementById("nlBurger")&&document.body.insertAdjacentHTML("beforeend",t),a.burger=document.getElementById("nlBurger"),a.burgerH=new Hammer(a.burger),a.burgerTop=document.getElementById("burger-top"),a.burgerBottom=document.getElementById("burger-bottom"),"object"!=typeof e.options.drawer&&a.burgerH.on("tap",function(e){n.toggle()})}};return n}]).factory("$nlDrawer",["$nlConfig","$nlBurger","$nlHelpers","$nlElements","$nlFab",function(e,t,a,n,o){var i={init:function(t){t.openCb&&(i.on.show=t.openCb),t.closeCb&&(i.on.hide=t.closeCb),e.options=a.merge(e.options,t),n.swipe=document.getElementById("nlSwipe"),n.swipeH=new Hammer(n.swipe),n.drawer=document.getElementById("nlDrawer"),n.drawerH=new Hammer(n.drawer),n.drawerDimm=document.getElementById("nlDimm"),n.drawerDimmH=new Hammer(n.drawerDimm),e.deviceW=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.deviceH=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e.maxWidth=e.options.drawer.maxWidth>e.deviceW-56?e.deviceW-56:e.options.drawer.maxWidth,a.translate(n.drawer,e.maxWidth,"-",0,"",0,"",e.maxWidth),n.drawerH.on("panleft panright",function(e){i.openned&&i.move(e,!0)}),n.drawerDimmH.on("panleft panright",function(e){i.openned&&i.move(e)}),n.swipeH.on("panleft panright",function(e){i.move(e)}),n.drawerH.on("tap",function(e){i.hide()}),n.drawerDimmH.on("tap",function(e){i.hide()}),e.options.burger&&e.options.burger.use&&n.burgerH.on("tap",function(e){n.burger.hasAttribute("ng-click")||i.toggle()}),i.touchEnd(n.swipe),i.touchEnd(n.drawer),i.touchEnd(n.drawerDimm)},on:{show:function(){},hide:function(){}},show:function(){n.drawer.style.transition="all "+e.options.speed+"s "+e.options.animation,e.maxWidth=e.options.drawer.maxWidth>e.deviceW-56?e.deviceW-56:e.options.drawer.maxWidth,a.translate(n.drawer,0,"",0,"",0,"",e.maxWidth),n.drawerDimm.style.transition="all "+e.options.speed+"s "+e.options.animation,n.drawerDimm.style.visibility="visible",n.drawerDimm.style.opacity="1",i.openned=!0,e.options.reverse=!0,e.options.burger&&e.options.burger.use&&t.toggle(!0),setTimeout(function(){i.on.show()},1e3*e.options.speed)},hide:function(){n.drawer.style.transition="all "+e.options.speed+"s "+e.options.animation,a.translate(n.drawer,e.maxWidth,"-",0,"",0,""),n.drawerDimm.style.transition="all "+e.options.speed+"s "+e.options.animation,n.drawerDimm.style.visibility="hidden",n.drawerDimm.style.opacity="0",e.options.burger&&e.options.burger.use&&t.toggle(!1),o.toggle(!0),i.openned=!1,setTimeout(function(){i.on.hide()},1e3*e.options.speed)},toggle:function(){i.openned?i.hide():i.show()},move:function(o,r){e.options.direction="panleft"===o.type?"left":"right";var s=o.center.x-e.maxWidth;r&&(e.options.holdPos=e.options.holdPos?e.options.holdPos:s,s+=Math.abs(e.options.holdPos)),s=0>s?s:0;var l=e.options.drawer.maxWidth-Math.abs(s),d=(l/(e.options.drawer.maxWidth/100)/100).toFixed(2);d=1>d?d:1,e.options.burger.use&&t.animate(s),n.drawerDimm.style.transition="none",n.drawerDimm.style.visibility="visible",n.drawerDimm.style.opacity=d,n.drawer.style.transition="none",e.maxWidth=e.options.drawer.maxWidth>e.deviceW-56?e.deviceW-56:e.options.drawer.maxWidth,a.translate(n.drawer,s,"",0,"",0,"",e.maxWidth),o.isFinal?("left"===e.options.direction?i.hide():"right"===e.options.direction?i.show():i.onEnd(o,!1),e.options.holdPos=null,e.options.endTrue=!1):e.options.endTrue=!0},touchEnd:function(t){e.onTouch="ontouchstart"in window,e.onTouch?t.addEventListener("touchend",function(e){i.onEnd(e,!0)},!1):t.addEventListener("mouseup",function(e){i.onEnd(e,!1)},!1)},onEnd:function(t,a){var n=a?t.changedTouches[0]:t,o=n.clientX>e.options.drawer.maxWidth/2,r="left"===e.options.direction,s="right"===e.options.direction,l=e.options.endTrue;o&&r&&l||o&&s&&l?i.show():(!o&&r&&l||!o&&s&&l)&&i.hide(),e.options.direction=!1,e.options.endTrue=!1,e.options.holdPos=null,t.preventDefault()}};return i}]).factory("$nlRefresh",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){
var n={init:function(){e.onTouch="ontouchstart"in window,document.body.insertAdjacentHTML("afterbegin",'<div id="nlRefresh"><svg version="1.1" id="reload-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 342.5 342.5" style="enable-background:new 0 0 342.5 342.5;" xml:space="preserve"><path d="M254.37,22.255c-1.161-0.642-2.53-0.795-3.803-0.428c-1.274,0.367-2.35,1.226-2.992,2.387l-21.758,39.391c-1.335,2.417-0.458,5.459,1.96,6.794C264.616,90.748,287.5,129.495,287.5,171.52c0,63.649-51.782,115.431-115.431,115.431S56.638,235.169,56.638,171.52c0-23.888,7.557-47.427,21.382-66.897l34.478,34.478c1.338,1.337,3.315,1.806,5.109,1.21c1.795-0.596,3.101-2.152,3.374-4.024L139.963,6.271c0.228-1.563-0.295-3.141-1.412-4.258c-1.117-1.117-2.7-1.639-4.258-1.412L4.278,19.584c-1.872,0.273-3.428,1.579-4.023,3.374c-0.596,1.795-0.127,3.772,1.21,5.109l37.292,37.292C14.788,95.484,1.638,133,1.638,171.52c0,93.976,76.455,170.431,170.431,170.431c93.976,0,170.431-76.455,170.431-170.431C342.5,109.478,308.731,52.283,254.37,22.255z"/></svg></div>'),a.topbar=document.getElementById("nlTopbar"),a.topbarH=new Hammer(a.topbar),a.refEl=document.getElementById("nlRefresh"),a.refIcon=document.getElementById("reload-icon"),a.refIcon.style.transition="all "+e.options.speed+"s "+e.options.animation,e.syncTrue=!1,e.scroll.top=0,e.center=e.deviceW/2-a.refEl.offsetWidth/2,a.topbarH.on("pan",function(e){n.move(e)}),n.touchEnd(a.body)},move:function(n){if(e.center=e.deviceW/2-a.refEl.offsetWidth/2,!e.syncing){a.refEl.style.transition="none";var o=Math.floor(e.deviceH/2),i=100/e.deviceH*n.center.y;if(n.center.y<o){e.syncTrue=!1;var r=i/2*(o/100),s=2*i*.005,l=.36*(o/100*n.center.y);a.refIcon.style.transition="none",a.refIcon.style.fill=e.options.refresh.defaultColor,t.translate(a.refIcon,"","","","","","","","","",s),t.translate(a.refEl,e.center,"",r,"",l)}else{a.refIcon.style.transition="fill "+4*e.options.speed+"s "+e.options.animation,e.syncTrue=!0;var i=o/100*(n.center.y-o),d=100/e.deviceH*n.center.y,c=100/(e.deviceH/2)*(n.center.y-o),r=d/2*(o/100);r-=r/100*c/3.5;var l=.36*(o/100*n.center.y);a.refIcon.style.fill=e.options.refresh.activeColor,t.translate(a.refIcon,"","","","","","","","","","1"),t.translate(a.refEl,e.center,"",r,"",l)}}},touchEnd:function(o){e.onTouch?o.addEventListener("touchend",function(e){i(e,!0)},!1):o.addEventListener("mouseup",function(e){i(e,!1)},!1);var i=function(o,i){var r=Math.floor(e.deviceH/2),s=i?o.changedTouches[0]:o;setTimeout(function(){if(a.refEl.style.transition="all "+e.options.speed/2+"s "+e.options.animation,s.clientY>r&&e.syncTrue&&!e.syncing){e.syncTrue=!1,e.syncing=!0,e.nlRefresh.ended=!1,n.callback();var o=0,i=0,l=.36*(r/100*(s.clientY-r))+360;e.nlRefresh.minY=e.options.content.topBarHeight+e.options.content.topBarHeight/3,t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",l,""),setTimeout(function(){a.refEl.style.transition="all "+e.options.speed/2+"s linear";var n=setInterval(function(){if(e.nlRefresh.ended)clearInterval(n);else{var r=l+i;t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",r,""),o+=.1,i+=6+o}},25)},1e3*e.options.speed)}else a.refEl.style.transition="all "+e.options.speed+"s "+e.options.animation,t.translate(a.refEl,e.center,"",0,"",0,""),e.syncTrue=!1,e.syncing=!1},50)}},callback:function(){setTimeout(function(){e.syncEndTrue()},2500)},syncEnd:function(){e.nlRefresh.ended=!0,setTimeout(function(){a.refEl.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",0,"","","1.2")},100),setTimeout(function(){t.translate(a.refEl,e.center,"",e.nlRefresh.minY,"",0,"","","0")},200),setTimeout(function(){t.translate(a.refEl,e.center,"",0,"",0,"","","0")},300),e.syncTrue=!1,e.syncing=!1}};return n}]).factory("$nlToast",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={init:function(o){e.options=t.merge(e.options,o),a.toast=document.getElementById("nlToast"),a.toastH=new Hammer(a.toast),a.toastH.on("panleft panright",function(e){n.move(e)}),n.touchEnd(a.toast)},show:function(o){var i=o.title||"I'm a Toast! Yummy!",r=o.position||null,s=o.trueCallback,l=o.falseCallback,d=o.timeout;e.runnigTimeout&&clearTimeout(e.runnigTimeout),"top"===r?(a.toast.style.top="75px",a.toast.style.bottom="auto"):(a.toast.style.top="",a.toast.style.bottom="1rem"),"function"==typeof s?n.trueCb=s:n.trueCb=function(){},"function"==typeof l?n.falseCb=l:n.falseCb=function(){},i&&(a.toast.innerHTML=i),"top"===r?(a.toast.style.transition="none",t.translate(a.toast,0,"",e.deviceH,"-",0,"")):(a.toast.style.transition="none",t.translate(a.toast,0,"",e.deviceH,"",0,"")),setTimeout(function(){a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,0,"",0,"",0,"")},100),d&&(e.runnigTimeout=setTimeout(function(){n.hide(!0)},d))},center:function(){a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,0,"",0,"",0,"")},right:function(){n.trueCb(),a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,e.deviceW,"",0,"",0,""),setTimeout(function(){n.hide()},e.options.speed/2*1e3)},left:function(){n.falseCb(),a.toast.style.transition="all "+e.options.speed/2+"s "+e.options.animation,t.translate(a.toast,e.deviceW,"-",0,"",0,""),setTimeout(function(){n.hide()},e.options.speed/2*1e3)},hide:function(n){n?a.toast.style.transition="all "+e.options.speed+"s "+e.options.animation:a.toast.style.transition="none",setTimeout(function(){t.translate(a.toast,0,"",e.deviceH,"",0,"")},100)},move:function(o){a.toast.style.transition="none",n.direction="panleft"===o.type?"left":"right";var i=o.center.x-e.deviceW;n.holdPos=n.holdPos?n.holdPos:i,i+=Math.abs(n.holdPos),t.translate(a.toast,i,"",0,"",0),o.isFinal?("left"===n.direction?n.left():n.right(),n.holdPos=null,n.endTrue=!1):n.endTrue=!0},touchEnd:function(t){e.onTouch="ontouchstart"in window,e.onTouch?t.addEventListener("touchend",function(e){a(e,!0)},!1):t.addEventListener("mouseup",function(e){a(e,!1)},!1);var a=function(t,a){var o=a?t.changedTouches[0]:t,i=(o.clientX>e.deviceW/2,"left"===n.direction,"right"===n.direction,n.endTrue);i&&n.center(),n.direction=!1,n.endTrue=!1,n.holdPos=null,t.preventDefault()}},trueCb:function(){console.log("True Callback")},falseCb:function(){console.log("False Callback")}};return n}]).factory("$nlMenu",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={openned:!1,init:function(){a.menu=document.getElementById("nlMenu"),a.menu.insertAdjacentHTML("afterbegin",'<div id="nlIcon"><div id="dot-top"></div><div id="dot-center"></div><div id="dot-bottom"></div></div>'),a.menuContent=document.getElementById("nlMenuContent"),a.menuContentH=new Hammer(a.menuContent),a.menuIcon=document.getElementById("nlIcon"),a.menuIconH=new Hammer(a.menuIcon),a.bodyH.on("tap",function(e){n.openned&&n.hide()}),a.menuIconH.on("tap",function(e){n.show()})},show:function(){a.menuContent.style.visibility="visible",a.menuContent.style.opacity="1",t.translate(a.menuContent,0,"",0,"",0),setTimeout(function(){n.openned=!0},50)},hide:function(){a.menuContent.style.visibility="hidden",a.menuContent.style.opacity="0",t.translate(a.menuContent,0,"",0,"",0),n.openned=!1}};return n}]).factory("$nlFab",["$nlConfig","$nlHelpers","$nlElements",function(e,t,a){var n={openned:!1,init:function(){a.actionPanel=document.getElementById("nlActionButton"),a.actionPanelH=new Hammer(a.actionPanel),a.actionPlus=document.getElementById("nlPlus"),a.actionPlusH=new Hammer(a.actionPlus),a.actionPanelH.on("tap",function(e){a.actionPlus.hasAttribute("ng-click")||n.toggle()})},toggle:function(t){e.options.actionButton&&(a.drawerDimm.style.transition="all "+e.options.speed+"s "+e.options.animation,n.active||t?(n.active=!1,e.options.burger&&e.options.burger.use&&(a.burger.style["z-index"]="1106"),a.drawerDimm.style.visibility="hidden",a.drawerDimm.style.opacity="0",a.actionPlus.style["z-index"]="1104",a.actionPanel.classList.remove("active")):(n.active=!0,e.options.burger&&e.options.burger.use&&(a.burger.style["z-index"]="1104"),a.actionPlus.style["z-index"]="1106",a.actionPanel.classList.add("active"),setTimeout(function(){a.drawerDimm.style.visibility="visible",a.drawerDimm.style.opacity="1"},100)))}};return n}]),angular.module("app.directives",[]).directive("detectGestures",["$ionicGesture",function(e){return{restrict:"A",link:function(t,a,n){var o=n.gestureType;switch(o){case"swipe":e.on("swiperight",t.onSwipeRight,a),e.on("swipeleft",t.onSwipeLeft,a);break;case"swiperight":e.on("swiperight",t.onSwipeRight,a);break;case"swipeleft":e.on("swipeleft",t.onSwipeLeft,a)}}}}]).directive("blankDirective",[function(){}]),angular.module("app.controllers",["ngCordova"]),ngCordovaMocks.factory("$cordovaBarcodeScanner",["$q",function(e){var t=!1,a="",n="",o=!1;return{throwsError:t,scannedText:a,scannedFormat:n,wasCancelled:o,scan:function(){var t=e.defer();return this.throwsError?t.reject("There was an error scanning."):t.resolve({text:this.scannedText,format:this.scannedFormat,cancelled:this.wasCancelled}),t.promise},encode:function(t,a){this.scannedFormat=t,this.scannedText=a;var n=e.defer();return this.throwsError?n.reject("There was an error encoding the data."):n.resolve(),n.promise}}}]),!function(e){"use strict";if("object"==typeof exports)module.exports=e("undefined"!=typeof angular?angular:require("angular"),"undefined"!=typeof Chart?Chart:require("chart.js"));else if("function"==typeof define&&define.amd)define(["angular","chart"],e);else{if("undefined"==typeof angular||"undefined"==typeof Chart)throw new Error("Chart.js library needs to included, see http://jtblin.github.io/angular-chart.js/");e(angular,Chart)}}(function(e,t){"use strict";function a(){var a={responsive:!0},n={Chart:t,getOptions:function(t){var n=t&&a[t]||{};return e.extend({},a,n)}};this.setOptions=function(t,n){return n?void(a[t]=e.extend(a[t]||{},n)):(n=t,void(a=e.extend(a,n)))},this.$get=function(){return n}}function n(a,n){function i(e,t,n){var o=w(e,t);if(h(t)&&k(e,t,n,o)){var i=n[0],r=i.getContext("2d");t.chartGetColor=v(t);var s=b(e,t);A(t),t.chart=new a.Chart(r,{type:e,data:s,options:o}),t.$emit("chart-create",t.chart),C(i,t)}}function r(e,t){return!!(e&&t&&e.length&&t.length)&&(Array.isArray(e[0])?e.length===t.length&&e.every(function(e,a){return e.length===t[a].length}):t.reduce(s,0)>0&&e.length===t.length)}function s(e,t){return e+t}function l(t,a,n){var o=null;return function(i){var r=t.chart.getElementsAtEvent||t.chart.getPointsAtEvent;if(r){var s=r.call(t.chart,i);n!==!1&&e.equals(o,s)!==!1||(o=s,t[a](s,i))}}}function d(n,o){for(var i=e.copy(o.chartColors||a.getOptions(n).chartColors||t.defaults.global.colors),r=i.length<o.chartData.length;i.length<o.chartData.length;)i.push(o.chartGetColor());return r&&(o.chartColors=i),i.map(c)}function c(e){return"object"==typeof e&&null!==e?e:"string"==typeof e&&"#"===e[0]?p(g(e.substr(1))):u()}function u(){var e=[f(0,255),f(0,255),f(0,255)];return p(e)}function p(e){return{backgroundColor:m(e,.2),pointBackgroundColor:m(e,1),pointHoverBackgroundColor:m(e,.8),borderColor:m(e,1),pointBorderColor:"#fff",pointHoverBorderColor:m(e,1)}}function f(e,t){return Math.floor(Math.random()*(t-e+1))+e}function m(e,t){return o?"rgb("+e.join(",")+")":"rgba("+e.concat(t).join(",")+")"}function g(e){var t=parseInt(e,16),a=t>>16&255,n=t>>8&255,o=255&t;return[a,n,o]}function h(e){return e.chartData&&e.chartData.length}function v(e){return"function"==typeof e.chartGetColor?e.chartGetColor:u}function b(e,t){var a=d(e,t);return Array.isArray(t.chartData[0])?_(t.chartLabels,t.chartData,t.chartSeries||[],a,t.chartDatasetOverride):y(t.chartLabels,t.chartData,a,t.chartDatasetOverride)}function _(t,a,n,o,i){return{labels:t,datasets:a.map(function(t,a){var r=e.extend({},o[a],{label:n[a],data:t});return i&&i.length>=a&&e.merge(r,i[a]),r})}}function y(t,a,n,o){var i={labels:t,datasets:[{data:a,backgroundColor:n.map(function(e){return e.pointBackgroundColor}),hoverBackgroundColor:n.map(function(e){return e.backgroundColor})}]};return o&&e.merge(i.datasets[0],o),i}function w(t,n){return e.extend({},a.getOptions(t),n.chartOptions)}function C(t,a){t.onclick=a.chartClick?l(a,"chartClick",!1):e.noop,t.onmousemove=a.chartHover?l(a,"chartHover",!0):e.noop}function E(e,t){Array.isArray(t.chartData[0])?t.chart.data.datasets.forEach(function(t,a){t.data=e[a]}):t.chart.data.datasets[0].data=e,t.chart.update(),t.$emit("chart-update",t.chart)}function S(e){return!e||Array.isArray(e)&&!e.length||"object"==typeof e&&!Object.keys(e).length}function k(e,t,a,o){return!o.responsive||0!==a[0].clientHeight||(n(function(){i(e,t,a)},50,!1),!1)}function A(e){e.chart&&(e.chart.destroy(),e.$emit("chart-destroy",e.chart))}return function(t){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(a,n){function s(e,o){if(!e||!e.length||Array.isArray(e[0])&&!e[0].length)return void A(a);var s=t||a.chartType;return s?a.chart&&r(e,o)?E(e,a):void i(s,a,n):void 0}function l(o,r){if(!S(o)&&!e.equals(o,r)){var s=t||a.chartType;s&&i(s,a,n)}}function d(t,o){S(t)||e.equals(t,o)||i(t,a,n)}o&&window.G_vmlCanvasManager.initElement(n[0]),a.$watch("chartData",s,!0),a.$watch("chartSeries",l,!0),a.$watch("chartLabels",l,!0),a.$watch("chartOptions",l,!0),a.$watch("chartColors",l,!0),a.$watch("chartDatasetOverride",l,!0),a.$watch("chartType",d,!1),a.$on("$destroy",function(){A(a)}),a.$on("$resize",function(){a.chart&&a.chart.resize()})}}}}t.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",t.defaults.global.tooltips.mode="label",t.defaults.global.elements.line.borderWidth=2,t.defaults.global.elements.rectangle.borderWidth=2,t.defaults.global.legend.display=!1,t.defaults.global.colors=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var o="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return o&&(t.defaults.global.animation=!1),e.module("chart.js",[]).provider("ChartJs",a).factory("ChartJsFactory",["ChartJs","$timeout",n]).directive("chartBase",["ChartJsFactory",function(e){return new e}]).directive("chartLine",["ChartJsFactory",function(e){return new e("line")}]).directive("chartBar",["ChartJsFactory",function(e){return new e("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(e){return new e("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(e){return new e("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(e){return new e("doughnut")}]).directive("chartPie",["ChartJsFactory",function(e){return new e("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(e){return new e("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(e){return new e("bubble")}]).name});